---
title: Creación de un proyecto de DirectX holográfico
description: Explica cómo crear una nueva aplicación holográfica basada en la plantilla de aplicación de Windows Mixed Reality.
author: mikeriches
ms.author: mriches
ms.date: 08/04/2020
ms.topic: article
keywords: Windows Mixed Reality, aplicación holográfica, nueva aplicación, aplicación para UWP, aplicación de plantilla, hologramas, nuevo proyecto, tutorial, descarga, código de ejemplo, auriculares de realidad mixta, auriculares de realidad mixta de Windows, auriculares de realidad virtual
ms.openlocfilehash: f377ca5b8af08beb53c878e1ebf665b8074853f6
ms.sourcegitcommit: 2bf79eef6a9b845494484f458443ef4f89d7efc0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/17/2020
ms.locfileid: "97613089"
---
# <a name="creating-a-holographic-directx-project"></a><span data-ttu-id="7063e-104">Creación de un proyecto de DirectX holográfico</span><span class="sxs-lookup"><span data-stu-id="7063e-104">Creating a holographic DirectX project</span></span>

> [!NOTE]
> <span data-ttu-id="7063e-105">Este artículo está relacionado con las API nativas de WinRT heredadas.</span><span class="sxs-lookup"><span data-stu-id="7063e-105">This article relates to the legacy WinRT native APIs.</span></span>  <span data-ttu-id="7063e-106">En el caso de los nuevos proyectos de aplicaciones nativas, se recomienda usar la **[API de OpenXR](openxr-getting-started.md)**.</span><span class="sxs-lookup"><span data-stu-id="7063e-106">For new native app projects, we recommend using the **[OpenXR API](openxr-getting-started.md)**.</span></span>

<span data-ttu-id="7063e-107">Una aplicación holográfica que cree para HoloLens será una <a href="https://docs.microsoft.com/windows/uwp/get-started/universal-application-platform-guide" target="_blank">aplicación plataforma universal de Windows (UWP)</a>.</span><span class="sxs-lookup"><span data-stu-id="7063e-107">A holographic app you create for a HoloLens will be a <a href="https://docs.microsoft.com/windows/uwp/get-started/universal-application-platform-guide" target="_blank">Universal Windows Platform (UWP) app</a>.</span></span>  <span data-ttu-id="7063e-108">Si el destino es una aplicación de escritorio con auriculares de realidad mixta, puede crear una aplicación para UWP o una aplicación de Win32.</span><span class="sxs-lookup"><span data-stu-id="7063e-108">If targeting desktop Windows Mixed Reality headsets, you can create a UWP app or a Win32 app.</span></span>

<span data-ttu-id="7063e-109">La plantilla de aplicación para UWP DirectX 11 Holographic es muy similar a la plantilla de aplicación UWP DirectX 11.</span><span class="sxs-lookup"><span data-stu-id="7063e-109">The DirectX 11 holographic UWP app template is much like the DirectX 11 UWP app template.</span></span> <span data-ttu-id="7063e-110">La plantilla incluye un bucle de programa, una clase **DeviceResources** para administrar el dispositivo Direct3D y el contexto, y una clase de representador de contenido simplificada.</span><span class="sxs-lookup"><span data-stu-id="7063e-110">The template includes a program loop, a **DeviceResources** class to manage the Direct3D device and context, and a simplified content renderer class.</span></span> <span data-ttu-id="7063e-111">También tiene un <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a>, al igual que cualquier otra aplicación de UWP.</span><span class="sxs-lookup"><span data-stu-id="7063e-111">It also has an <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a>, just like any other UWP app.</span></span>

<span data-ttu-id="7063e-112">La aplicación de realidad mixta, sin embargo, tiene algunas funcionalidades adicionales que no están presentes en una aplicación típica de UWP de Direct3D.</span><span class="sxs-lookup"><span data-stu-id="7063e-112">The mixed reality app, however, has some additional capabilities that aren't present in a typical Direct3D UWP app.</span></span> <span data-ttu-id="7063e-113">La plantilla de aplicación de Windows Mixed Reality puede:</span><span class="sxs-lookup"><span data-stu-id="7063e-113">The Windows Mixed Reality app template can:</span></span>
* <span data-ttu-id="7063e-114">Controlar los recursos de dispositivo de Direct3D asociados a las cámaras holográficas.</span><span class="sxs-lookup"><span data-stu-id="7063e-114">Handle Direct3D device resources associated with holographic cameras.</span></span>
* <span data-ttu-id="7063e-115">Recupere los búferes de retroceso de la cámara del sistema.</span><span class="sxs-lookup"><span data-stu-id="7063e-115">Retrieve camera back buffers from the system.</span></span> <span data-ttu-id="7063e-116">En el caso de Direct3D12, cree recursos de búfer de retroceso holográfica y administre la duración de los recursos.</span><span class="sxs-lookup"><span data-stu-id="7063e-116">In the case of Direct3D12, create holographic back buffer resources and manage resource lifetimes.</span></span>
* <span data-ttu-id="7063e-117">Controle la entrada de [mirada](../../design/gaze-and-commit.md) y reconozca un [gesto](../../design/gaze-and-commit.md#composite-gestures).</span><span class="sxs-lookup"><span data-stu-id="7063e-117">Handle [gaze](../../design/gaze-and-commit.md) input, and recognize a [gesture](../../design/gaze-and-commit.md#composite-gestures).</span></span>
* <span data-ttu-id="7063e-118">Entrar en el modo de representación estéreo de pantalla completa.</span><span class="sxs-lookup"><span data-stu-id="7063e-118">Go into full-screen stereo rendering mode.</span></span>

## <a name="how-do-i-get-started"></a><span data-ttu-id="7063e-119">¿Cómo empiezo?</span><span class="sxs-lookup"><span data-stu-id="7063e-119">How do I get started?</span></span>

<span data-ttu-id="7063e-120">En primer lugar, [Instale las herramientas](../install-the-tools.md)siguiendo las instrucciones de descarga de Visual Studio 2019 y las plantillas de aplicación de Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="7063e-120">First [install the tools](../install-the-tools.md), following the instructions on downloading Visual Studio 2019 and the Windows Mixed Reality app templates.</span></span> <span data-ttu-id="7063e-121">Las plantillas de aplicación de realidad mixta están disponibles en Visual Studio Marketplace como [descarga web](https://marketplace.visualstudio.com/items?itemName=WindowsMixedRealityteam.WindowsMixedRealityAppTemplatesVSIX)o mediante su instalación como extensión a través de la interfaz de usuario de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7063e-121">The mixed reality app templates are available on the Visual Studio marketplace as a [web download](https://marketplace.visualstudio.com/items?itemName=WindowsMixedRealityteam.WindowsMixedRealityAppTemplatesVSIX), or by installing them as an extension through the Visual Studio UI.</span></span>

<span data-ttu-id="7063e-122">Ya está listo para crear la aplicación Windows mixed reality de DirectX 11.</span><span class="sxs-lookup"><span data-stu-id="7063e-122">Now you're ready to create your DirectX 11 Windows Mixed Reality app!</span></span> <span data-ttu-id="7063e-123">Tenga en cuenta que, para quitar el contenido de ejemplo, conviene comentar la Directiva de preprocesador **DRAW_SAMPLE_CONTENT** en *PCH. h*.</span><span class="sxs-lookup"><span data-stu-id="7063e-123">Note, to remove the sample content, comment out the **DRAW_SAMPLE_CONTENT** preprocessor directive in *pch.h*.</span></span>

## <a name="creating-a-uwp-project"></a><span data-ttu-id="7063e-124">Creación de un proyecto de UWP</span><span class="sxs-lookup"><span data-stu-id="7063e-124">Creating a UWP project</span></span>

<span data-ttu-id="7063e-125">Una vez instaladas las herramientas,] (.. /install-the-tools.md) puede crear un proyecto de DirectX para UWP de Holographic.</span><span class="sxs-lookup"><span data-stu-id="7063e-125">Once the tools are installed,](../install-the-tools.md) you can then create a holographic DirectX UWP project.</span></span>

<span data-ttu-id="7063e-126">Para crear un nuevo proyecto en Visual Studio 2019:</span><span class="sxs-lookup"><span data-stu-id="7063e-126">To create a new project in Visual Studio 2019:</span></span>
1. <span data-ttu-id="7063e-127">Inicie **Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="7063e-127">Start **Visual Studio**.</span></span>
2. <span data-ttu-id="7063e-128">En la sección **Introducción** de la derecha, seleccione **crear un nuevo proyecto**.</span><span class="sxs-lookup"><span data-stu-id="7063e-128">In the **Get Started** section on the right, select **Create a new project**.</span></span>
3. <span data-ttu-id="7063e-129">En los menús desplegables del cuadro de diálogo **crear un nuevo proyecto** , seleccione **C++**, **Windows Mixed Reality** y **UWP**.</span><span class="sxs-lookup"><span data-stu-id="7063e-129">In the drop-down menus in the **Create a new project** dialog, select **C++**, **Windows Mixed Reality**, and **UWP**.</span></span>
4. <span data-ttu-id="7063e-130">Seleccione **aplicación holográfica DirectX 11 (Windows universal) (C++/WinRT)**.</span><span class="sxs-lookup"><span data-stu-id="7063e-130">Select **Holographic DirectX 11 App (Universal Windows) (C++/WinRT)**.</span></span>
   <span data-ttu-id="7063e-131">![Captura de pantalla de la plantilla de proyecto de aplicación de UWP de DirectX 11 C++/WinRT en Visual Studio 2019](images/holographic-directx-app-cpp-new-project-2019.png)</span><span class="sxs-lookup"><span data-stu-id="7063e-131">![Screenshot of the Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2019](images/holographic-directx-app-cpp-new-project-2019.png)</span></span><br>
   <span data-ttu-id="7063e-132">*Plantilla de proyecto de aplicación para UWP de DirectX 11 en/WinRT de Holographic en Visual Studio 2019*</span><span class="sxs-lookup"><span data-stu-id="7063e-132">*Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2019*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="7063e-133">Asegúrese de que el nombre de la plantilla de proyecto incluye "(C++/WinRT)".</span><span class="sxs-lookup"><span data-stu-id="7063e-133">Be sure that the project template's name includes "(C++/WinRT)".</span></span>  <span data-ttu-id="7063e-134">Si no es así, tiene instalada una versión anterior de las plantillas de proyecto holográfica.</span><span class="sxs-lookup"><span data-stu-id="7063e-134">If not, you have an older version of the holographic project templates installed.</span></span>  <span data-ttu-id="7063e-135">Para obtener las plantillas de proyecto más recientes, [instálela](../install-the-tools.md) como una extensión de Visual Studio 2019.</span><span class="sxs-lookup"><span data-stu-id="7063e-135">To get the latest project templates, [install them](../install-the-tools.md) as an extension to Visual Studio 2019.</span></span>
5. <span data-ttu-id="7063e-136">Seleccione **Next** (Siguiente).</span><span class="sxs-lookup"><span data-stu-id="7063e-136">Select **Next**.</span></span>
5. <span data-ttu-id="7063e-137">Rellene los cuadros de texto nombre y **Ubicación** del **proyecto** y seleccione o pulse en **crear**.</span><span class="sxs-lookup"><span data-stu-id="7063e-137">Fill in the **Project name** and **Location** text boxes, and select or tap **Create**.</span></span> <span data-ttu-id="7063e-138">Se crea el proyecto de aplicación holográfica.</span><span class="sxs-lookup"><span data-stu-id="7063e-138">The holographic app project is created.</span></span>
6. <span data-ttu-id="7063e-139">Para el desarrollo dirigido solo a HoloLens 2, asegúrese de que la versión de **destino** y la **versión mínima** están establecidas en **Windows 10, versión 1903**.</span><span class="sxs-lookup"><span data-stu-id="7063e-139">For development targeting only HoloLens 2, ensure that the **Target version** and **Minimum version** are set to **Windows 10, version 1903**.</span></span>  <span data-ttu-id="7063e-140">Si también tiene como destino HoloLens (1º gen) o auriculares de escritorio mixto de Windows, puede establecer la **versión mínima** en **Windows 10, versión 1809**.</span><span class="sxs-lookup"><span data-stu-id="7063e-140">If you're also targeting HoloLens (1st gen) or desktop Windows Mixed Reality headsets, you can set **Minimum version** to **Windows 10, version 1809**.</span></span> <span data-ttu-id="7063e-141">Esto requerirá algunas <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">comprobaciones adaptables</a> de la versión en el código al usar las nuevas características de HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="7063e-141">This will require some <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">version adaptive checks</a> in your code when using new features of HoloLens 2.</span></span>
   <span data-ttu-id="7063e-142">![Captura de pantalla de la configuración de la versión 1903 de Windows 10 como destino y versiones mínimas](images/new-uwp-project.png)</span><span class="sxs-lookup"><span data-stu-id="7063e-142">![Screenshot of setting Windows 10, version 1903 as the target and minimum versions](images/new-uwp-project.png)</span></span><br>
   <span data-ttu-id="7063e-143">*Establecimiento de la **versión 1903 de Windows 10** como destino y versiones mínimas*</span><span class="sxs-lookup"><span data-stu-id="7063e-143">*Setting **Windows 10, version 1903** as the target and minimum versions*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="7063e-144">Si no ve **Windows 10, versión 1903** como opción, no tiene instalado el SDK más reciente de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="7063e-144">If you do not see **Windows 10, version 1903** as an option, you do not have the latest Windows 10 SDK installed.</span></span>  <span data-ttu-id="7063e-145">Para que aparezca esta opción, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">Instale la versión 10.0.18362.0 o posterior del SDK de Windows 10</a>.</span><span class="sxs-lookup"><span data-stu-id="7063e-145">To get this option to appear, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">install version 10.0.18362.0 or later of the Windows 10 SDK</a>.</span></span>

<span data-ttu-id="7063e-146">Para crear un nuevo proyecto en Visual Studio 2017:</span><span class="sxs-lookup"><span data-stu-id="7063e-146">To create a new project in Visual Studio 2017:</span></span>
1. <span data-ttu-id="7063e-147">Inicie **Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="7063e-147">Start **Visual Studio**.</span></span>
2. <span data-ttu-id="7063e-148">En el menú **archivo** , elija **nuevo** y seleccione **proyecto** en el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="7063e-148">From the **File** menu, point to **New** and select **Project** from the context menu.</span></span> <span data-ttu-id="7063e-149">Se abre el cuadro de diálogo **Nuevo proyecto**.</span><span class="sxs-lookup"><span data-stu-id="7063e-149">The **New Project** dialog opens.</span></span>
3. <span data-ttu-id="7063e-150">Expanda **instalado** a la izquierda y expanda el nodo **Visual C++** Language.</span><span class="sxs-lookup"><span data-stu-id="7063e-150">Expand **Installed** on the left and expand the **Visual C++** language node.</span></span>
4. <span data-ttu-id="7063e-151">Vaya al nodo **Windows Universal > Holographic** y seleccione **aplicación holográfica DirectX 11 (Windows universal) (C++/WinRT)**.</span><span class="sxs-lookup"><span data-stu-id="7063e-151">Navigate to the **Windows Universal > Holographic** node and select **Holographic DirectX 11 App (Universal Windows) (C++/WinRT)**.</span></span>
   <span data-ttu-id="7063e-152">![Captura de pantalla de la plantilla de proyecto de aplicación de UWP de DirectX 11 C++/WinRT en Visual Studio 2017](images/holographic-directx-app-cpp-new-project.png)</span><span class="sxs-lookup"><span data-stu-id="7063e-152">![Screenshot of the Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2017](images/holographic-directx-app-cpp-new-project.png)</span></span><br>
   <span data-ttu-id="7063e-153">*Plantilla de proyecto de aplicación para UWP de DirectX 11 en/WinRT de Holographic en Visual Studio 2017*</span><span class="sxs-lookup"><span data-stu-id="7063e-153">*Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2017*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="7063e-154">Asegúrese de que el nombre de la plantilla de proyecto incluye "(C++/WinRT)".</span><span class="sxs-lookup"><span data-stu-id="7063e-154">Be sure that the project template's name includes "(C++/WinRT)".</span></span>  <span data-ttu-id="7063e-155">Si no es así, tiene instalada una versión anterior de las plantillas de proyecto holográfica.</span><span class="sxs-lookup"><span data-stu-id="7063e-155">If not, you have an older version of the holographic project templates installed.</span></span>  <span data-ttu-id="7063e-156">Para obtener las plantillas de proyecto más recientes, [instálela](../install-the-tools.md) como una extensión de Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="7063e-156">To get the latest project templates, [install them](../install-the-tools.md) as an extension to Visual Studio 2017.</span></span>
5. <span data-ttu-id="7063e-157">Rellene los cuadros de texto **nombre** y **Ubicación** , y seleccione o pulse en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="7063e-157">Fill in the **Name** and **Location** text boxes, and select or tap **OK**.</span></span> <span data-ttu-id="7063e-158">Se crea el proyecto de aplicación holográfica.</span><span class="sxs-lookup"><span data-stu-id="7063e-158">The holographic app project is created.</span></span>
6. <span data-ttu-id="7063e-159">Para el desarrollo dirigido solo a HoloLens 2, asegúrese de que la versión de **destino** y la **versión mínima** están establecidas en **Windows 10, versión 1903**.</span><span class="sxs-lookup"><span data-stu-id="7063e-159">For development targeting only HoloLens 2, ensure that the **Target version** and **Minimum version** are set to **Windows 10, version 1903**.</span></span>  <span data-ttu-id="7063e-160">Si también tiene como destino HoloLens (1º gen) o auriculares de escritorio mixto de Windows, puede establecer la **versión mínima** en **Windows 10, versión 1809**.</span><span class="sxs-lookup"><span data-stu-id="7063e-160">If you're also targeting HoloLens (1st gen) or desktop Windows Mixed Reality headsets, you can set **Minimum version** to **Windows 10, version 1809**.</span></span> <span data-ttu-id="7063e-161">Esto requerirá algunas <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">comprobaciones adaptables</a> de la versión en el código al usar las nuevas características de HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="7063e-161">This will require some <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">version adaptive checks</a> in your code when using new features of HoloLens 2.</span></span>
   <span data-ttu-id="7063e-162">![Captura de pantalla de la configuración de la versión 1903 de Windows 10 como destino y versiones mínimas](images/new-uwp-project.png)</span><span class="sxs-lookup"><span data-stu-id="7063e-162">![Screenshot of setting Windows 10, version 1903 as the target and minimum versions](images/new-uwp-project.png)</span></span><br>
   <span data-ttu-id="7063e-163">*Establecimiento de la **versión 1903 de Windows 10** como destino y versiones mínimas*</span><span class="sxs-lookup"><span data-stu-id="7063e-163">*Setting **Windows 10, version 1903** as the target and minimum versions*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="7063e-164">Si no ve **Windows 10, versión 1903** como opción, no tiene instalado el SDK más reciente de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="7063e-164">If you do not see **Windows 10, version 1903** as an option, you do not have the latest Windows 10 SDK installed.</span></span>  <span data-ttu-id="7063e-165">Para que aparezca esta opción, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">Instale la versión 10.0.18362.0 o posterior del SDK de Windows 10</a>.</span><span class="sxs-lookup"><span data-stu-id="7063e-165">To get this option to appear, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">install version 10.0.18362.0 or later of the Windows 10 SDK</a>.</span></span>

<span data-ttu-id="7063e-166">La plantilla genera un proyecto con <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">c++/WinRT</a>, una proyección de lenguaje c++ 17 del Windows Runtime API que admite cualquier compilador de c++ 17 compatible con los estándares.</span><span class="sxs-lookup"><span data-stu-id="7063e-166">The template generates a project using <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">C++/WinRT</a>, a C++17 language projection of the Windows Runtime APIs that supports any standards-compliant C++17 compiler.</span></span>  <span data-ttu-id="7063e-167">En el proyecto se muestra cómo crear un cubo con bloqueo mundial que se coloca a 2 metros del usuario.</span><span class="sxs-lookup"><span data-stu-id="7063e-167">The project shows how to create a world-locked cube that's placed 2 meters from the user.</span></span> <span data-ttu-id="7063e-168">El usuario puede pulsar en el [aire](../../design/gaze-and-commit.md#composite-gestures) o presionar un botón en el controlador para colocar el cubo en una posición diferente especificada por la [mirada](../../design/gaze-and-commit.md)del usuario.</span><span class="sxs-lookup"><span data-stu-id="7063e-168">The user can [air-tap](../../design/gaze-and-commit.md#composite-gestures) or press a button on the controller to place the cube in a different position specified by the user's [gaze](../../design/gaze-and-commit.md).</span></span> <span data-ttu-id="7063e-169">Puede modificar este proyecto para crear cualquier aplicación de realidad mixta.</span><span class="sxs-lookup"><span data-stu-id="7063e-169">You can modify this project to create any mixed reality app.</span></span>

<span data-ttu-id="7063e-170">También puede crear un nuevo proyecto con la plantilla de proyecto de **Visual C#** Holographic, que se basa en SharpDX.</span><span class="sxs-lookup"><span data-stu-id="7063e-170">You can also create a new project using the **Visual C#** holographic project template, which is based on SharpDX.</span></span>  <span data-ttu-id="7063e-171">Si el proyecto de C# holográfica no se inició desde la plantilla de aplicación de Windows Holographic, deberá copiar el archivo MS. fxcompile. targets de un proyecto de plantilla de C# de realidad mixta de Windows e importarlo en el archivo. csproj para compilar los archivos HLSL que agregue al proyecto.</span><span class="sxs-lookup"><span data-stu-id="7063e-171">If your holographic C# project didn't start from the Windows Holographic app template, you'll need to copy the ms.fxcompile.targets file from a Windows Mixed Reality C# template project and import it in your.csproj file to compile HLSL files that you add to your project.</span></span> <span data-ttu-id="7063e-172">También se proporciona una plantilla de Direct3D 12 en la extensión de plantillas de aplicaciones de Windows Mixed Reality a Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7063e-172">A Direct3D 12 template is also provided in the Windows Mixed Reality app templates extension to Visual Studio.</span></span>

<span data-ttu-id="7063e-173">Revise el [uso de Visual Studio para implementar y depurar](../platform-capabilities-and-apis/using-visual-studio.md) para obtener información sobre cómo compilar e implementar el ejemplo en su HoloLens, el equipo con un dispositivo inmersivo conectado o un emulador.</span><span class="sxs-lookup"><span data-stu-id="7063e-173">Review [Using Visual Studio to deploy and debug](../platform-capabilities-and-apis/using-visual-studio.md) for information on how to build and deploy the sample to your HoloLens, PC with immersive device attached, or an emulator.</span></span>

<span data-ttu-id="7063e-174">En el resto de las instrucciones siguientes se asumirá que está usando C++ para compilar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7063e-174">The rest of the instructions below will assume that you're using C++ to build your app.</span></span>

### <a name="uwp-app-entry-point"></a><span data-ttu-id="7063e-175">Punto de entrada de aplicación de UWP</span><span class="sxs-lookup"><span data-stu-id="7063e-175">UWP app entry point</span></span>

<span data-ttu-id="7063e-176">La aplicación holográfica UWP se inicia en la función **wWinMain** en AppView. cpp.</span><span class="sxs-lookup"><span data-stu-id="7063e-176">Your holographic UWP app starts in the **wWinMain** function in AppView.cpp.</span></span> <span data-ttu-id="7063e-177">La función **wWinMain** crea el <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a> de la aplicación e inicia <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.coreapplication" target="_blank">CoreApplication</a> con él.</span><span class="sxs-lookup"><span data-stu-id="7063e-177">The **wWinMain** function creates the app's <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a> and starts the <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.coreapplication" target="_blank">CoreApplication</a> with it.</span></span>

<span data-ttu-id="7063e-178">Desde **AppView. cpp**:</span><span class="sxs-lookup"><span data-stu-id="7063e-178">From **AppView.cpp**:</span></span>

```cpp
// The main function bootstraps into the IFrameworkView.
int __stdcall wWinMain(HINSTANCE, HINSTANCE, PWSTR, int)
{
    winrt::init_apartment();
    CoreApplication::Run(AppViewSource());
    return 0;
}
```

<span data-ttu-id="7063e-179">A partir de ese momento, la clase AppView controla la interacción con los eventos de entrada básicos de Windows, los eventos y la mensajería de CoreWindow, etc.</span><span class="sxs-lookup"><span data-stu-id="7063e-179">From that point on, the AppView class handles interaction with Windows basic input events, CoreWindow events and messaging, and so on.</span></span> <span data-ttu-id="7063e-180">También creará el HolographicSpace que usa la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7063e-180">It will also create the HolographicSpace used by your app.</span></span>

## <a name="creating-a-win32-project"></a><span data-ttu-id="7063e-181">Crear un proyecto de Win32</span><span class="sxs-lookup"><span data-stu-id="7063e-181">Creating a Win32 project</span></span>

<span data-ttu-id="7063e-182">La manera más sencilla de empezar a crear un proyecto de Win32 Holographic es adaptar el <a href="https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/BasicHologram" target="_blank">ejemplo de Win32 *BasicHologram*</a>.</span><span class="sxs-lookup"><span data-stu-id="7063e-182">The easiest way to get started building a Win32 holographic project is to adapt the <a href="https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/BasicHologram" target="_blank">*BasicHologram* Win32 sample</a>.</span></span>

<span data-ttu-id="7063e-183">En este ejemplo de Win32 se usa <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">c++/WinRT</a>, una proyección de lenguaje c++ 17 de las api de Windows Runtime que admite cualquier compilador de c++ 17 compatible con los estándares.</span><span class="sxs-lookup"><span data-stu-id="7063e-183">This Win32 sample uses <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">C++/WinRT</a>, a C++17 language projection of the Windows Runtime APIs that supports any standards-compliant C++17 compiler.</span></span>  <span data-ttu-id="7063e-184">En el proyecto se muestra cómo crear un cubo con bloqueo mundial que se coloca a 2 metros del usuario.</span><span class="sxs-lookup"><span data-stu-id="7063e-184">The project shows how to create a world-locked cube that's placed 2 meters from the user.</span></span> <span data-ttu-id="7063e-185">El usuario puede presionar un botón en el controlador para colocar el cubo en una posición diferente especificada por el [usuario.](../../design/gaze-and-commit.md)</span><span class="sxs-lookup"><span data-stu-id="7063e-185">The user can press a button on the controller to place the cube in a different position that's specified by the user's [gaze](../../design/gaze-and-commit.md).</span></span> <span data-ttu-id="7063e-186">Puede modificar este proyecto para crear cualquier aplicación de realidad mixta.</span><span class="sxs-lookup"><span data-stu-id="7063e-186">You can modify this project to create any mixed reality app.</span></span>

### <a name="win32-app-entry-point"></a><span data-ttu-id="7063e-187">Punto de entrada de la aplicación Win32</span><span class="sxs-lookup"><span data-stu-id="7063e-187">Win32 app entry point</span></span>

<span data-ttu-id="7063e-188">La aplicación holográfica Win32 se inicia en la función **wWinMain** en AppMain. cpp.</span><span class="sxs-lookup"><span data-stu-id="7063e-188">Your holographic Win32 app starts in the **wWinMain** function in AppMain.cpp.</span></span> <span data-ttu-id="7063e-189">La función **wWinMain** crea el HWND de la aplicación e inicia su bucle de mensajes.</span><span class="sxs-lookup"><span data-stu-id="7063e-189">The **wWinMain** function creates the app's HWND and starts its message loop.</span></span>

<span data-ttu-id="7063e-190">Desde **AppMain. cpp**:</span><span class="sxs-lookup"><span data-stu-id="7063e-190">From **AppMain.cpp**:</span></span>

```cpp
int APIENTRY wWinMain(
    _In_     HINSTANCE hInstance,
    _In_opt_ HINSTANCE hPrevInstance,
    _In_     LPWSTR    lpCmdLine,
    _In_     int       nCmdShow)
{
    UNREFERENCED_PARAMETER(hPrevInstance);
    UNREFERENCED_PARAMETER(lpCmdLine);

    winrt::init_apartment();

    App app;

    // Initialize global strings, and perform application initialization.
    app.Initialize(hInstance);

    // Create the HWND and the HolographicSpace.
    app.CreateWindowAndHolographicSpace(hInstance, nCmdShow);

    // Main message loop:
    app.Run(hInstance);

    // Perform application teardown.
    app.Uninitialize();

    return 0;
}
```

<span data-ttu-id="7063e-191">A partir de ese momento, la clase AppMain controla la interacción con los mensajes básicos de la ventana, etc.</span><span class="sxs-lookup"><span data-stu-id="7063e-191">From that point on, the AppMain class handles interaction with basic window messages, and so on.</span></span> <span data-ttu-id="7063e-192">También creará el HolographicSpace que usa la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7063e-192">It will also create the HolographicSpace used by your app.</span></span>

## <a name="render-holographic-content"></a><span data-ttu-id="7063e-193">Representación de contenido holográfica</span><span class="sxs-lookup"><span data-stu-id="7063e-193">Render holographic content</span></span>

<span data-ttu-id="7063e-194">La carpeta de **contenido** del proyecto contiene clases para representar hologramas en el [espacio holográfica](getting-a-holographicspace.md).</span><span class="sxs-lookup"><span data-stu-id="7063e-194">The project's **Content** folder contains classes for rendering holograms in the [holographic space](getting-a-holographicspace.md).</span></span> <span data-ttu-id="7063e-195">El holograma predeterminado de la plantilla es un cubo giratorio que se coloca a dos metros del usuario.</span><span class="sxs-lookup"><span data-stu-id="7063e-195">The default hologram in the template is a spinning cube that's placed 2 meters away from the user.</span></span> <span data-ttu-id="7063e-196">El dibujo de este cubo se implementa en **SpinningCubeRenderer. cpp**, que tiene estos métodos clave:</span><span class="sxs-lookup"><span data-stu-id="7063e-196">Drawing this cube is implemented in **SpinningCubeRenderer.cpp**, which has these key methods:</span></span>

|  <span data-ttu-id="7063e-197">Método</span><span class="sxs-lookup"><span data-stu-id="7063e-197">Method</span></span>  |  <span data-ttu-id="7063e-198">Explicación</span><span class="sxs-lookup"><span data-stu-id="7063e-198">Explanation</span></span> | 
|----------|----------|
|  `CreateDeviceDependentResources` |  <span data-ttu-id="7063e-199">Carga los sombreadores y crea la malla del cubo.</span><span class="sxs-lookup"><span data-stu-id="7063e-199">Loads shaders and creates the cube mesh.</span></span> | 
|  `PositionHologram` |  <span data-ttu-id="7063e-200">Coloca el holograma en la ubicación especificada por el <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialpointerpose" target="_blank">SpatialPointerPose</a>proporcionado.</span><span class="sxs-lookup"><span data-stu-id="7063e-200">Places the hologram at the location specified by the provided <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialpointerpose" target="_blank">SpatialPointerPose</a>.</span></span> | 
|  `Update` |  <span data-ttu-id="7063e-201">Gira el cubo y establece la matriz del modelo.</span><span class="sxs-lookup"><span data-stu-id="7063e-201">Rotates the cube, and sets the model matrix.</span></span> | 
|  `Render` |  <span data-ttu-id="7063e-202">Representa un marco con los sombreadores de píxeles y vértices.</span><span class="sxs-lookup"><span data-stu-id="7063e-202">Renders a frame using the vertex and pixel shaders.</span></span> | 

<span data-ttu-id="7063e-203">La subcarpeta **shaders** contiene cuatro implementaciones de sombreador predeterminadas:</span><span class="sxs-lookup"><span data-stu-id="7063e-203">The **Shaders** subfolder contains four default shader implementations:</span></span>

|  <span data-ttu-id="7063e-204">Sombreador</span><span class="sxs-lookup"><span data-stu-id="7063e-204">Shader</span></span>  |  <span data-ttu-id="7063e-205">Explicación</span><span class="sxs-lookup"><span data-stu-id="7063e-205">Explanation</span></span> | 
|----------|----------|
|  `GeometryShader.hlsl` |  <span data-ttu-id="7063e-206">Un paso a través que deja la geometría sin modificar.</span><span class="sxs-lookup"><span data-stu-id="7063e-206">A pass-through that leaves the geometry unmodified.</span></span> | 
|  `PixelShader.hlsl` |  <span data-ttu-id="7063e-207">Pasa por los datos de color.</span><span class="sxs-lookup"><span data-stu-id="7063e-207">Passes through the color data.</span></span> <span data-ttu-id="7063e-208">Los datos de color se interpolan y se asignan a un píxel en el paso de rasterización.</span><span class="sxs-lookup"><span data-stu-id="7063e-208">The color data is interpolated and assigned to a pixel at the rasterization step.</span></span> | 
|  `VertexShader.hlsl` |  <span data-ttu-id="7063e-209">Sombreador simple para realizar el procesamiento de vértices en la GPU.</span><span class="sxs-lookup"><span data-stu-id="7063e-209">Simple shader to do vertex processing on the GPU.</span></span> | 
|  `VPRTVertexShader.hlsl` |  <span data-ttu-id="7063e-210">Sombreador simple para realizar el procesamiento de vértices en la GPU, que está optimizado para la representación estéreo de realidad mixta de Windows.</span><span class="sxs-lookup"><span data-stu-id="7063e-210">Simple shader to do vertex processing on the GPU, that is optimized for Windows Mixed Reality stereo rendering.</span></span> | 

<span data-ttu-id="7063e-211">`VertexShaderShared.hlsl` contiene código común compartido entre `VertexShader.hlsl` y `VPRTVertexShader.hlsl` .</span><span class="sxs-lookup"><span data-stu-id="7063e-211">`VertexShaderShared.hlsl` contains common code shared between `VertexShader.hlsl` and `VPRTVertexShader.hlsl`.</span></span>

<span data-ttu-id="7063e-212">Nota: la plantilla de aplicación de Direct3D 12 también incluye `ViewInstancingVertexShader.hlsl` .</span><span class="sxs-lookup"><span data-stu-id="7063e-212">Note: The Direct3D 12 app template also includes `ViewInstancingVertexShader.hlsl`.</span></span> <span data-ttu-id="7063e-213">Esta variante usa características opcionales de D3D12 para representar imágenes estéreo de forma más eficaz.</span><span class="sxs-lookup"><span data-stu-id="7063e-213">This variant uses D3D12 optional features to render stereo images more efficiently.</span></span>

<span data-ttu-id="7063e-214">Los sombreadores se compilan cuando se compila el proyecto y se cargan en el método **SpinningCubeRenderer:: CreateDeviceDependentResources** .</span><span class="sxs-lookup"><span data-stu-id="7063e-214">The shaders compile when the project is built, and loaded in the **SpinningCubeRenderer::CreateDeviceDependentResources** method.</span></span>

## <a name="interact-with-your-holograms"></a><span data-ttu-id="7063e-215">Interactúe con los hologramas</span><span class="sxs-lookup"><span data-stu-id="7063e-215">Interact with your holograms</span></span>

<span data-ttu-id="7063e-216">La entrada del usuario se procesa en la clase **SpatialInputHandler** , que obtiene una instancia de <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager" target="_blank">SpatialInteractionManager</a> y se suscribe al evento <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed" target="_blank">SourcePressed</a> .</span><span class="sxs-lookup"><span data-stu-id="7063e-216">User input is processed in the **SpatialInputHandler** class, which gets a <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager" target="_blank">SpatialInteractionManager</a> instance and subscribes to the <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed" target="_blank">SourcePressed</a> event.</span></span> <span data-ttu-id="7063e-217">Esto permite detectar el gesto de punteo de aire y otros eventos de entrada espacial.</span><span class="sxs-lookup"><span data-stu-id="7063e-217">This enables detecting the air-tap gesture and other spatial input events.</span></span>

## <a name="update-holographic-content"></a><span data-ttu-id="7063e-218">Actualización del contenido holográfica</span><span class="sxs-lookup"><span data-stu-id="7063e-218">Update holographic content</span></span>

<span data-ttu-id="7063e-219">Las actualizaciones de la aplicación de realidad mixta en un bucle de juego, que se implementa de forma predeterminada en el método de **actualización** en `AppMain.cpp` .</span><span class="sxs-lookup"><span data-stu-id="7063e-219">Your mixed reality app updates in a game loop, which by default is implemented in the **Update** method in `AppMain.cpp`.</span></span> <span data-ttu-id="7063e-220">El método **Update** actualiza los objetos de la escena, como el cubo giratorio, y devuelve un objeto <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> que se usa para obtener las matrices de la vista y la proyección actualizadas y para presentar la cadena de intercambio.</span><span class="sxs-lookup"><span data-stu-id="7063e-220">The **Update** method updates scene objects, like the spinning cube, and returns a <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> object that is used to get up-to-date view and projection matrices and to present the swap chain.</span></span>

<span data-ttu-id="7063e-221">El método **Render** en `AppMain.cpp` toma el <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> y representa el marco actual en cada cámara holográfica, según la aplicación actual y el estado de posicionamiento espacial.</span><span class="sxs-lookup"><span data-stu-id="7063e-221">The **Render** method in `AppMain.cpp` takes the <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> and renders the current frame to each holographic camera, according to the current app and spatial positioning state.</span></span>

## <a name="notes"></a><span data-ttu-id="7063e-222">Notas</span><span class="sxs-lookup"><span data-stu-id="7063e-222">Notes</span></span>

<span data-ttu-id="7063e-223">La plantilla de aplicación de Windows Mixed Reality ahora admite la compilación con la marca de mitigación de Spectre habilitada (/Qspectre).</span><span class="sxs-lookup"><span data-stu-id="7063e-223">The Windows Mixed Reality app template now supports compilation with the Spectre mitigation flag enabled (/Qspectre).</span></span> <span data-ttu-id="7063e-224">Asegúrese de instalar la versión mitigada Spectre de las bibliotecas en tiempo de ejecución de Microsoft Visual C++ (MSVC) antes de compilar una configuración con la mitigación de Spectre habilitada.</span><span class="sxs-lookup"><span data-stu-id="7063e-224">Make sure to install the Spectre-mitigated version of the Microsoft Visual C++ (MSVC) runtime libraries before compiling a configuration with Spectre mitigation enabled.</span></span> <span data-ttu-id="7063e-225">Para instalar las bibliotecas de C++ mitigadas en Spectre, inicie el Instalador de Visual Studio y seleccione **modificar**.</span><span class="sxs-lookup"><span data-stu-id="7063e-225">To install the Spectre-mitigated C++ libraries, launch the Visual Studio Installer and select **Modify**.</span></span> <span data-ttu-id="7063e-226">Vaya a **componentes individuales** y busque "Spectre".</span><span class="sxs-lookup"><span data-stu-id="7063e-226">Navigate to **Individual components** and search for "spectre".</span></span> <span data-ttu-id="7063e-227">Seleccione las casillas correspondientes a las plataformas de destino y la versión de MSVC que necesita para compilar el código de Spectre mitigado para y haga clic en **modificar** para iniciar la instalación.</span><span class="sxs-lookup"><span data-stu-id="7063e-227">Select the boxes corresponding to the target platforms and MSVC version that you need to compile Spectre-mitigated code for, and click **Modify** to begin the install.</span></span>

## <a name="see-also"></a><span data-ttu-id="7063e-228">Consulte también</span><span class="sxs-lookup"><span data-stu-id="7063e-228">See also</span></span>
* [<span data-ttu-id="7063e-229">Obtención de HolographicSpace</span><span class="sxs-lookup"><span data-stu-id="7063e-229">Getting a HolographicSpace</span></span>](getting-a-holographicspace.md)
* <span data-ttu-id="7063e-230"><a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicspaceh" target="_blank">HolographicSpace</a></span><span class="sxs-lookup"><span data-stu-id="7063e-230"><a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicspaceh" target="_blank">HolographicSpace</a></span></span>
* [<span data-ttu-id="7063e-231">Representación en DirectX</span><span class="sxs-lookup"><span data-stu-id="7063e-231">Rendering in DirectX</span></span>](rendering-in-directx.md)
* [<span data-ttu-id="7063e-232">Uso de Visual Studio para implementar y depurar</span><span class="sxs-lookup"><span data-stu-id="7063e-232">Using Visual Studio to deploy and debug</span></span>](../platform-capabilities-and-apis/using-visual-studio.md)
* [<span data-ttu-id="7063e-233">Uso del emulador de HoloLens</span><span class="sxs-lookup"><span data-stu-id="7063e-233">Using the HoloLens emulator</span></span>](../platform-capabilities-and-apis/using-the-hololens-emulator.md)
* [<span data-ttu-id="7063e-234">Uso de XAML con aplicaciones de DirectX holográficas</span><span class="sxs-lookup"><span data-stu-id="7063e-234">Using XAML with holographic DirectX apps</span></span>](../platform-capabilities-and-apis/using-xaml-with-holographic-directx-apps.md)
