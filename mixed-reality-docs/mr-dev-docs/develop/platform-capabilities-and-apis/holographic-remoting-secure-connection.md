---
title: Habilitación de la seguridad de conexión para Holographic Remoting
description: En esta página se explica cómo configurar la comunicación remota holográfica para usar conexiones cifradas y autenticadas entre el reproductor y las aplicaciones remotas.
author: florianbagarmicrosoft
ms.author: flbagar
ms.date: 12/01/2020
ms.topic: article
keywords: HoloLens, comunicación remota, comunicación remota holográfica, auriculares de realidad mixta, auriculares de realidad mixta de Windows, auriculares de realidad virtual, seguridad, autenticación, servidor a cliente
ms.openlocfilehash: 0881238bfca199958802598a3e1829a9de0d8e5b
ms.sourcegitcommit: 2329db5a76dfe1b844e21291dbc8ee3888ed1b81
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "98006485"
---
# <a name="enabling-connection-security-for-holographic-remoting"></a><span data-ttu-id="5db45-104">Habilitación de la seguridad de conexión para Holographic Remoting</span><span class="sxs-lookup"><span data-stu-id="5db45-104">Enabling connection security for Holographic Remoting</span></span>

>[!IMPORTANT]
><span data-ttu-id="5db45-105">Esta guía es específica de Holographic Remoting en HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="5db45-105">This guidance is specific to Holographic Remoting on HoloLens 2.</span></span>

<span data-ttu-id="5db45-106">Esta página proporciona información general sobre la seguridad de red para Holographic Remoting.</span><span class="sxs-lookup"><span data-stu-id="5db45-106">This page gives you an overview of network security for Holographic Remoting.</span></span> <span data-ttu-id="5db45-107">Encontrará información sobre</span><span class="sxs-lookup"><span data-stu-id="5db45-107">You'll find information about</span></span>

* <span data-ttu-id="5db45-108">seguridad en el contexto de Holographic Remoting y por qué podría necesitarlo</span><span class="sxs-lookup"><span data-stu-id="5db45-108">security in the context of Holographic Remoting and why you might need it</span></span>
* <span data-ttu-id="5db45-109">medidas recomendadas basadas en diferentes casos de uso</span><span class="sxs-lookup"><span data-stu-id="5db45-109">recommended measures based on different use cases</span></span>
* <span data-ttu-id="5db45-110">implementación de la seguridad en la solución de Holographic Remoting</span><span class="sxs-lookup"><span data-stu-id="5db45-110">implementing security in your Holographic Remoting solution</span></span>

## <a name="holographic-remoting-security"></a><span data-ttu-id="5db45-111">Seguridad de Holographic Remoting</span><span class="sxs-lookup"><span data-stu-id="5db45-111">Holographic Remoting security</span></span>

<span data-ttu-id="5db45-112">Holographic Remoting intercambia información a través de una red.</span><span class="sxs-lookup"><span data-stu-id="5db45-112">Holographic Remoting exchanges information over a network.</span></span> <span data-ttu-id="5db45-113">Si no se aplica ninguna medida de seguridad, los adversarios en la misma red puede poner en peligro la integridad de la comunicación o acceder a la información confidencial.</span><span class="sxs-lookup"><span data-stu-id="5db45-113">If no security measures are in place, adversaries on the same network may compromise the integrity of the communication or access confidential information.</span></span>

<span data-ttu-id="5db45-114">Las aplicaciones de ejemplo y el reproductor de comunicación remota holográfica en la tienda Windows tienen la seguridad deshabilitada.</span><span class="sxs-lookup"><span data-stu-id="5db45-114">The sample apps and the Holographic Remoting Player in the Windows Store come with security disabled.</span></span> <span data-ttu-id="5db45-115">Esto hace que los ejemplos sean más fáciles de entender.</span><span class="sxs-lookup"><span data-stu-id="5db45-115">Doing so makes the samples easier to understand.</span></span> <span data-ttu-id="5db45-116">También le ayuda a empezar a trabajar más rápidamente con el desarrollo.</span><span class="sxs-lookup"><span data-stu-id="5db45-116">It also helps you to get started more quickly with development.</span></span>

<span data-ttu-id="5db45-117">En el caso de las pruebas de campo o de producción, se recomienda encarecidamente habilitar la seguridad en la solución de Holographic Remoting.</span><span class="sxs-lookup"><span data-stu-id="5db45-117">For field testing or production, we strongly recommend enabling security in your Holographic Remoting solution.</span></span>

<span data-ttu-id="5db45-118">La seguridad de Holographic Remoting, cuando se configura correctamente para su caso de uso, ofrece las siguientes garantías:</span><span class="sxs-lookup"><span data-stu-id="5db45-118">Security in Holographic Remoting, when set up correctly for your use case, gives you the following guarantees:</span></span>

* <span data-ttu-id="5db45-119">**Autenticidad:** tanto el reproductor como la aplicación remota pueden estar seguros de que el otro lado es quien dice ser</span><span class="sxs-lookup"><span data-stu-id="5db45-119">**Authenticity:** both player and remote app can be sure the other side is who they claim to be</span></span>
* <span data-ttu-id="5db45-120">**Confidencialidad:** ningún tercero puede leer la información intercambiada entre el reproductor y la aplicación remota</span><span class="sxs-lookup"><span data-stu-id="5db45-120">**Confidentiality:** no third party can read the information exchanged between player and remote app</span></span>
* <span data-ttu-id="5db45-121">**Integridad:** el reproductor y el remoto pueden detectar cualquier cambio en tránsito a su comunicación</span><span class="sxs-lookup"><span data-stu-id="5db45-121">**Integrity:** player and remote can detect any in-transit changes to their communication</span></span>

>[!IMPORTANT]
><span data-ttu-id="5db45-122">Para poder usar las características de seguridad, debe implementar un [reproductor personalizado](holographic-remoting-create-player.md) y una aplicación remota personalizada mediante [Windows Mixed Reality](holographic-remoting-create-remote-wmr.md) o las API de [OpenXR](holographic-remoting-create-remote-openxr.md) .</span><span class="sxs-lookup"><span data-stu-id="5db45-122">To be able to use security features, you will need to implement both a [custom player](holographic-remoting-create-player.md) and a custom remote app using either [Windows Mixed Reality](holographic-remoting-create-remote-wmr.md) or [OpenXR](holographic-remoting-create-remote-openxr.md) APIs.</span></span>

>[!NOTE]
> <span data-ttu-id="5db45-123">A partir de la versión [2.4.0](holographic-remoting-version-history.md#v2.4.0) , se pueden crear aplicaciones remotas con la [API de OpenXR](../native/openxr.md) .</span><span class="sxs-lookup"><span data-stu-id="5db45-123">Starting with version [2.4.0](holographic-remoting-version-history.md#v2.4.0) remote apps using the [OpenXR API](../native/openxr.md) can be created.</span></span> <span data-ttu-id="5db45-124">[A continuación](#secure-connection-using-the-openxr-api)encontrará información general sobre cómo establecer una conexión segura en un entorno de OpenXR.</span><span class="sxs-lookup"><span data-stu-id="5db45-124">An overview on how to establish a secure connection in an OpenXR environment can be found [below](#secure-connection-using-the-openxr-api).</span></span>

## <a name="planning-the-security-implementation"></a><span data-ttu-id="5db45-125">Planeación de la implementación de seguridad</span><span class="sxs-lookup"><span data-stu-id="5db45-125">Planning the security implementation</span></span>

<span data-ttu-id="5db45-126">Cuando se habilita la seguridad en Holographic Remoting, la biblioteca remota habilitará automáticamente el cifrado y las comprobaciones de integridad de todos los datos intercambiados a través de la red.</span><span class="sxs-lookup"><span data-stu-id="5db45-126">When you enable security in Holographic Remoting, the remoting library will automatically enable encryption and integrity checks for all data exchanged over the network.</span></span>

<span data-ttu-id="5db45-127">Sin embargo, garantizar la correcta autenticación requiere algún trabajo adicional.</span><span class="sxs-lookup"><span data-stu-id="5db45-127">Ensuring proper authentication requires some extra work though.</span></span> <span data-ttu-id="5db45-128">Lo que debe hacer exactamente depende de su caso de uso y el resto de esta sección trata de determinar los pasos necesarios.</span><span class="sxs-lookup"><span data-stu-id="5db45-128">What exactly you need to do depends on your use case, and the rest of this section is about figuring out the necessary steps.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="5db45-129">Este artículo solo puede proporcionar instrucciones generales.</span><span class="sxs-lookup"><span data-stu-id="5db45-129">This article can only provide general guidance.</span></span> <span data-ttu-id="5db45-130">Si no está seguro, considere la posibilidad de consultar a un experto en seguridad que pueda proporcionarle orientación específica para su caso de uso.</span><span class="sxs-lookup"><span data-stu-id="5db45-130">If you feel unsure, consider consulting a security expert that can give you guidance specific to your use case.</span></span>

<span data-ttu-id="5db45-131">En primer lugar, se usa la terminología siguiente: al describir las conexiones de red, se utilizarán los términos _cliente_ y _servidor_ .</span><span class="sxs-lookup"><span data-stu-id="5db45-131">First some terminology: when describing network connections, the terms _client_ and _server_ will be used.</span></span> <span data-ttu-id="5db45-132">El servidor es el lado que escucha las conexiones entrantes en una dirección de extremo conocida y el cliente es el que se conecta al punto de conexión del servidor.</span><span class="sxs-lookup"><span data-stu-id="5db45-132">The server is the side listening for incoming connections on a known endpoint address, and the client is the one connecting to the server's endpoint.</span></span>

>[!NOTE]
> <span data-ttu-id="5db45-133">Los roles de servidor y cliente no están asociados a si una aplicación actúa como un reproductor o como remota.</span><span class="sxs-lookup"><span data-stu-id="5db45-133">The client and and server roles are not tied to whether an app is acting as a player or as a remote.</span></span> <span data-ttu-id="5db45-134">Aunque los ejemplos tienen el reproductor en el rol de servidor, es fácil invertir los roles si se adapta mejor a su caso de uso.</span><span class="sxs-lookup"><span data-stu-id="5db45-134">While the samples have the player in the server role, it's easy to reverse the roles if it better fits your use case.</span></span>

### <a name="planning-the-server-to-client-authentication"></a><span data-ttu-id="5db45-135">Planeación de la autenticación de servidor a cliente</span><span class="sxs-lookup"><span data-stu-id="5db45-135">Planning the server-to-client authentication</span></span>

<span data-ttu-id="5db45-136">El servidor utiliza certificados digitales para demostrar su identidad al cliente.</span><span class="sxs-lookup"><span data-stu-id="5db45-136">The server uses digital certificates to prove its identity to the client.</span></span> <span data-ttu-id="5db45-137">El cliente valida el certificado del servidor durante la fase de protocolo de enlace de la conexión.</span><span class="sxs-lookup"><span data-stu-id="5db45-137">The client validates the server's certificate during the connection handshake phase.</span></span> <span data-ttu-id="5db45-138">Si el cliente no confía en el servidor, finalizará la conexión en este momento.</span><span class="sxs-lookup"><span data-stu-id="5db45-138">If the client doesn't trust the server, it will end the connection at this point.</span></span>

<span data-ttu-id="5db45-139">El modo en que el cliente valida el certificado de servidor y los tipos de certificados de servidor que se pueden usar dependen del caso de uso.</span><span class="sxs-lookup"><span data-stu-id="5db45-139">How the client validates the server certificate, and what kinds of server certificates can be used, depends on your use case.</span></span>

<span data-ttu-id="5db45-140">**Caso de uso 1:** El nombre de host del servidor no es fijo, o bien el servidor no se dirige en absoluto.</span><span class="sxs-lookup"><span data-stu-id="5db45-140">**Use case 1:** The server hostname isn't fixed, or the server isn't addressed by host name at all.</span></span>

<span data-ttu-id="5db45-141">En este caso de uso, no es práctico (ni siquiera posible) emitir un certificado para el nombre de host del servidor.</span><span class="sxs-lookup"><span data-stu-id="5db45-141">In this use case, it isn't practical (or even possible) to issue a certificate for the server's host name.</span></span> <span data-ttu-id="5db45-142">En su lugar, se recomienda validar la huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="5db45-142">We recommendation you validate the certificate's thumbprint instead.</span></span> <span data-ttu-id="5db45-143">Al igual que una huella digital humana, la huella digital identifica de forma única un certificado.</span><span class="sxs-lookup"><span data-stu-id="5db45-143">Like a human fingerprint, the thumbprint uniquely identifies a certificate.</span></span>

<span data-ttu-id="5db45-144">Es importante comunicar la huella digital al cliente fuera de banda.</span><span class="sxs-lookup"><span data-stu-id="5db45-144">It's important to communicate the thumbprint to the client out-of-band.</span></span> <span data-ttu-id="5db45-145">Esto significa que no se puede enviar a través de la misma conexión de red que se usa para la comunicación remota.</span><span class="sxs-lookup"><span data-stu-id="5db45-145">That means, you can't send it over the same network connection that's used for remoting.</span></span> <span data-ttu-id="5db45-146">En su lugar, puede escribirlo manualmente en la configuración del cliente o para que el cliente examine un código QR.</span><span class="sxs-lookup"><span data-stu-id="5db45-146">Instead, you could manually enter it into the client's configuration, or to have the client scan a QR code.</span></span>

<span data-ttu-id="5db45-147">**Caso de uso 2:** Se puede tener acceso al servidor a través de un nombre de host estable.</span><span class="sxs-lookup"><span data-stu-id="5db45-147">**Use case 2:** The server can be reached over a stable host name.</span></span>

<span data-ttu-id="5db45-148">En este caso de uso, el servidor tiene un nombre de host específico y sabe que este nombre no es probable que cambie.</span><span class="sxs-lookup"><span data-stu-id="5db45-148">In this use case, the server has a specific host name, and you know this name isn't likely to change.</span></span> <span data-ttu-id="5db45-149">Después, puede usar un certificado emitido para el nombre de host del servidor.</span><span class="sxs-lookup"><span data-stu-id="5db45-149">You can then use a certificate issued to the server's host name.</span></span> <span data-ttu-id="5db45-150">La confianza se establecerá en función del nombre de host y la cadena de confianza del certificado.</span><span class="sxs-lookup"><span data-stu-id="5db45-150">Trust will be established based on the host name and the certificate's chain of trust.</span></span>

<span data-ttu-id="5db45-151">Si elige esta opción, el cliente necesita conocer el nombre de host del servidor y el certificado raíz de antemano.</span><span class="sxs-lookup"><span data-stu-id="5db45-151">If you choose this option, the client needs to know the server's host name and the root certificate in advance.</span></span>

### <a name="planning-the-client-to-server-authentication"></a><span data-ttu-id="5db45-152">Planeación de la autenticación de cliente a servidor</span><span class="sxs-lookup"><span data-stu-id="5db45-152">Planning the client-to-server authentication</span></span>

<span data-ttu-id="5db45-153">Los clientes se autentican en el servidor mediante un token de forma libre.</span><span class="sxs-lookup"><span data-stu-id="5db45-153">Clients authenticate against the server using a free-form token.</span></span> <span data-ttu-id="5db45-154">Lo que debe contener este token dependerá de nuevo en el caso de uso:</span><span class="sxs-lookup"><span data-stu-id="5db45-154">What this token should contain will again depend on your use case:</span></span>

<span data-ttu-id="5db45-155">**Caso de uso 1:** Solo tiene que comprobar la identidad de la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="5db45-155">**Use case 1:** You only need to verify the client app's identity.</span></span>

<span data-ttu-id="5db45-156">En este caso de uso, un secreto compartido puede ser suficiente.</span><span class="sxs-lookup"><span data-stu-id="5db45-156">In this use case, a shared secret can be sufficient.</span></span> <span data-ttu-id="5db45-157">Este secreto debe ser lo suficientemente complejo como para que no se pueda adivinar.</span><span class="sxs-lookup"><span data-stu-id="5db45-157">This secret must be complex enough that it can't be guessed.</span></span>

<span data-ttu-id="5db45-158">Un secreto compartido bueno es un GUID aleatorio, que se especifica manualmente tanto en la configuración del cliente como del servidor.</span><span class="sxs-lookup"><span data-stu-id="5db45-158">A good shared secret is a random GUID, which is manually entered in both the server's and client's configuration.</span></span> <span data-ttu-id="5db45-159">Para crear uno, por ejemplo, puede usar el `New-Guid` comando en PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5db45-159">To create one you can, for example, use the `New-Guid` command in PowerShell.</span></span>

<span data-ttu-id="5db45-160">Asegúrese de que este secreto compartido nunca se comunica a través de canales no seguros.</span><span class="sxs-lookup"><span data-stu-id="5db45-160">Make sure this shared secret is never communicated over insecure channels.</span></span> <span data-ttu-id="5db45-161">La biblioteca remota garantiza que el secreto compartido siempre se envíe cifrado y solo a los elementos del mismo nivel de confianza.</span><span class="sxs-lookup"><span data-stu-id="5db45-161">The remoting library ensures that the shared secret is always sent encrypted, and only to trusted peers.</span></span>

<span data-ttu-id="5db45-162">**Caso de uso 2:** También debe comprobar la identidad del usuario de la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="5db45-162">**Use case 2:** You also need to verify the identity of the client app's user.</span></span>

<span data-ttu-id="5db45-163">Un secreto compartido no será suficiente para cubrir este caso de uso.</span><span class="sxs-lookup"><span data-stu-id="5db45-163">A shared secret won't be enough to cover this use case.</span></span> <span data-ttu-id="5db45-164">En su lugar, puede usar tokens creados por un proveedor de identidades.</span><span class="sxs-lookup"><span data-stu-id="5db45-164">Instead, you can use tokens created by an identity provider.</span></span> <span data-ttu-id="5db45-165">Un flujo de trabajo de autenticación mediante un proveedor de identidades sería similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="5db45-165">An authentication workflow using an identity provider would look like this:</span></span>

* <span data-ttu-id="5db45-166">El cliente autoriza al proveedor de identidades y solicita un token</span><span class="sxs-lookup"><span data-stu-id="5db45-166">The client authorizes against the identity provider and requests a token</span></span>
* <span data-ttu-id="5db45-167">El proveedor de identidades genera un token y lo envía al cliente.</span><span class="sxs-lookup"><span data-stu-id="5db45-167">The identity provider generates a token and sends it to the client</span></span>
* <span data-ttu-id="5db45-168">El cliente envía este token al servidor mediante la comunicación remota holográfica</span><span class="sxs-lookup"><span data-stu-id="5db45-168">The client sends this token to the server through Holographic Remoting</span></span>
* <span data-ttu-id="5db45-169">El servidor valida el token del cliente con el proveedor de identidades</span><span class="sxs-lookup"><span data-stu-id="5db45-169">The server validates the client's token against the identity provider</span></span>

<span data-ttu-id="5db45-170">Un ejemplo de un proveedor de identidades es la [plataforma de Microsoft Identity](https://docs.microsoft.com/azure/active-directory/develop/).</span><span class="sxs-lookup"><span data-stu-id="5db45-170">One example of an identity provider is the [Microsoft identity platform](https://docs.microsoft.com/azure/active-directory/develop/).</span></span>

<span data-ttu-id="5db45-171">Al igual que en el caso de uso anterior, asegúrese de que estos tokens no se envían a través de canales no seguros o expuestos de otro modo.</span><span class="sxs-lookup"><span data-stu-id="5db45-171">Like in the previous use case, make sure these tokens aren't sent through insecure channels or otherwise exposed.</span></span>

## <a name="implementing-holographic-remoting-security"></a><span data-ttu-id="5db45-172">Implementación de la seguridad de Holographic Remoting</span><span class="sxs-lookup"><span data-stu-id="5db45-172">Implementing holographic remoting security</span></span>

<span data-ttu-id="5db45-173">Recuerde que debe implementar aplicaciones de reproductor y remotas personalizadas si desea habilitar la seguridad de la conexión.</span><span class="sxs-lookup"><span data-stu-id="5db45-173">Remember that you need to implement custom remote and player apps if you want to enable connection security.</span></span> <span data-ttu-id="5db45-174">Puede usar los ejemplos proporcionados como puntos de partida para sus propias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="5db45-174">You can use the provided samples as starting points for your own apps.</span></span>

<span data-ttu-id="5db45-175">Para habilitar la seguridad, llame a `ListenSecure()` en lugar de `Listen()` y en `ConnectSecure()` lugar de `Connect()` para establecer la conexión remota.</span><span class="sxs-lookup"><span data-stu-id="5db45-175">To enable security, call `ListenSecure()` instead of `Listen()`, and `ConnectSecure()` instead of `Connect()` to establish the remoting connection.</span></span>

<span data-ttu-id="5db45-176">Estas llamadas requieren que proporcione implementaciones de ciertas interfaces para proporcionar y validar información relacionada con la seguridad:</span><span class="sxs-lookup"><span data-stu-id="5db45-176">These calls require you to provide implementations of certain interfaces for providing and validating security-related information:</span></span>

* <span data-ttu-id="5db45-177">El servidor debe implementar un proveedor de certificados y un validador de autenticación</span><span class="sxs-lookup"><span data-stu-id="5db45-177">The server needs to implement a certificate provider and an authentication validator</span></span>
* <span data-ttu-id="5db45-178">El cliente debe implementar un proveedor de autenticación y un validador de certificado.</span><span class="sxs-lookup"><span data-stu-id="5db45-178">The client needs to implement an authentication provider and a certificate validator.</span></span>

<span data-ttu-id="5db45-179">Todas las interfaces tienen una función que le solicita que realice una acción, que recibe un objeto de devolución de llamada como parámetro.</span><span class="sxs-lookup"><span data-stu-id="5db45-179">All interfaces have a function requesting you to take action, which receives a callback object as parameter.</span></span> <span data-ttu-id="5db45-180">Con este objeto, puede implementar fácilmente el control asincrónico de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="5db45-180">Using this object, you can easily implement asynchronous handling of the request.</span></span> <span data-ttu-id="5db45-181">Mantenga una referencia a este objeto y llame a la función de finalización cuando se complete la acción asincrónica.</span><span class="sxs-lookup"><span data-stu-id="5db45-181">Keep a reference to this object, and call the completion function when the asynchronous action is complete.</span></span> <span data-ttu-id="5db45-182">Se puede llamar a la función de finalización desde cualquier subproceso.</span><span class="sxs-lookup"><span data-stu-id="5db45-182">The completion function may be called from any thread.</span></span>

>[!TIP]
><span data-ttu-id="5db45-183">La implementación de interfaces de WinRT se puede realizar fácilmente con C++/WinRT.</span><span class="sxs-lookup"><span data-stu-id="5db45-183">Implementing WinRT interfaces can easily be done using C++/WinRT.</span></span> <span data-ttu-id="5db45-184">En el capítulo [API de autor con C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) se describe con más detalle.</span><span class="sxs-lookup"><span data-stu-id="5db45-184">The [Author APIs with C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) chapter describes this in detail.</span></span>

>[!IMPORTANT]
><span data-ttu-id="5db45-185">`build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl`En el paquete de NuGet se incluye documentación detallada sobre la API relacionada con las conexiones seguras.</span><span class="sxs-lookup"><span data-stu-id="5db45-185">The `build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl` inside the NuGet package contains detailed documentation for the API related to secure connections.</span></span>

### <a name="implementing-a-certificate-provider"></a><span data-ttu-id="5db45-186">Implementación de un proveedor de certificados</span><span class="sxs-lookup"><span data-stu-id="5db45-186">Implementing a certificate provider</span></span>

<span data-ttu-id="5db45-187">Los proveedores de certificados proporcionan a la aplicación de servidor el certificado que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="5db45-187">Certificate providers supply the server application with the certificate to use.</span></span> <span data-ttu-id="5db45-188">La implementación consta de dos partes:</span><span class="sxs-lookup"><span data-stu-id="5db45-188">The implementation consists of two parts:</span></span>

1) <span data-ttu-id="5db45-189">Un objeto de certificado, que implementa la `ICertificate` interfaz:</span><span class="sxs-lookup"><span data-stu-id="5db45-189">A certificate object, which implements the `ICertificate` interface:</span></span>

    * <span data-ttu-id="5db45-190">`GetCertificatePfx()` debe devolver el contenido binario de un `PKCS#12` almacén de certificados.</span><span class="sxs-lookup"><span data-stu-id="5db45-190">`GetCertificatePfx()` should return the binary contents of a `PKCS#12` certificate store.</span></span> <span data-ttu-id="5db45-191">Un `.pfx` archivo contiene `PKCS#12` datos, por lo que su contenido se puede usar directamente aquí.</span><span class="sxs-lookup"><span data-stu-id="5db45-191">A `.pfx` file contains `PKCS#12` data, so its contents can be used directly here.</span></span>
    * <span data-ttu-id="5db45-192">`GetSubjectName()` debe devolver el nombre descriptivo que identifica el certificado que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="5db45-192">`GetSubjectName()` should return the friendly name that identifies the certificate to use.</span></span> <span data-ttu-id="5db45-193">Si no se ha asignado ningún nombre descriptivo al certificado, esta función debe devolver el nombre de sujeto del certificado.</span><span class="sxs-lookup"><span data-stu-id="5db45-193">If no friendly name is assigned to the certificate, this function should return the certificate's subject name.</span></span>
    * <span data-ttu-id="5db45-194">`GetPfxPassword()` debe devolver la contraseña necesaria para abrir el almacén de certificados (o una cadena vacía si no se requiere ninguna contraseña).</span><span class="sxs-lookup"><span data-stu-id="5db45-194">`GetPfxPassword()` should return the password required to open the certificate store (or an empty string if no password is required).</span></span>

2) <span data-ttu-id="5db45-195">Un proveedor de certificados que implementa la `ICertificateProvider` interfaz:</span><span class="sxs-lookup"><span data-stu-id="5db45-195">A certificate provider implementing the `ICertificateProvider` interface:</span></span>
    * <span data-ttu-id="5db45-196">`GetCertificate()` debe construir un objeto de certificado y devolverlo llamando a `CertificateReceived()` en el objeto de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="5db45-196">`GetCertificate()` should construct a certificate object and return it by calling `CertificateReceived()` on the callback object.</span></span>

### <a name="implementing-an-authentication-validator"></a><span data-ttu-id="5db45-197">Implementar un validador de autenticación</span><span class="sxs-lookup"><span data-stu-id="5db45-197">Implementing an authentication validator</span></span>

<span data-ttu-id="5db45-198">Los validadores de autenticación reciben el token de autenticación enviado por el cliente y responden con el resultado de la validación.</span><span class="sxs-lookup"><span data-stu-id="5db45-198">Authentication validators receive the authentication token sent by the client, and answer back with the validation result.</span></span>

<span data-ttu-id="5db45-199">Implemente la `IAuthenticationReceiver` interfaz de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="5db45-199">Implement the `IAuthenticationReceiver` interface as follows:</span></span>

* <span data-ttu-id="5db45-200">`GetRealm()` debe devolver el nombre del dominio Kerberos de autenticación (un dominio HTTP usado durante el protocolo de enlace de la conexión remota).</span><span class="sxs-lookup"><span data-stu-id="5db45-200">`GetRealm()` should return the name of the authentication realm (an HTTP realm  used during the remoting connection handshake).</span></span>
* <span data-ttu-id="5db45-201">`ValidateToken()` debe validar el token de autenticación del cliente y llamar a `ValidationCompleted()` en el objeto de devolución de llamada con el resultado de la validación.</span><span class="sxs-lookup"><span data-stu-id="5db45-201">`ValidateToken()` should validate the client authentication token and call `ValidationCompleted()` on the callback object with the validation result.</span></span>

### <a name="implementing-an-authentication-provider"></a><span data-ttu-id="5db45-202">Implementación de un proveedor de autenticación</span><span class="sxs-lookup"><span data-stu-id="5db45-202">Implementing an authentication provider</span></span>

<span data-ttu-id="5db45-203">Los proveedores de autenticación generan o recuperan el token de autenticación que se va a enviar al servidor.</span><span class="sxs-lookup"><span data-stu-id="5db45-203">Authentication providers generate or retrieve the authentication token to be sent to the server.</span></span>

<span data-ttu-id="5db45-204">Implemente la `IAuthenticationProvider` interfaz de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="5db45-204">Implement the `IAuthenticationProvider` interface as follows:</span></span>

* <span data-ttu-id="5db45-205">`GetToken()` debe generar o recuperar el token de autenticación que se va a enviar.</span><span class="sxs-lookup"><span data-stu-id="5db45-205">`GetToken()` should generate or retrieve the authentication token to be sent.</span></span> <span data-ttu-id="5db45-206">Una vez que el token esté listo, llame al `TokenReceived()` método en el objeto de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="5db45-206">Once the token is ready, call the `TokenReceived()` method on the callback object.</span></span>

### <a name="implementing-a-certificate-validator"></a><span data-ttu-id="5db45-207">Implementar un validador de certificado</span><span class="sxs-lookup"><span data-stu-id="5db45-207">Implementing a certificate validator</span></span>

<span data-ttu-id="5db45-208">Los validadores de certificado reciben la cadena de certificados enviada por el servidor y determinan si se puede confiar en el servidor.</span><span class="sxs-lookup"><span data-stu-id="5db45-208">Certificate validators receive the certificate chain sent by the server and determine whether the server can be trusted.</span></span>

<span data-ttu-id="5db45-209">Para validar los certificados, puede utilizar la lógica de validación del sistema subyacente.</span><span class="sxs-lookup"><span data-stu-id="5db45-209">To validate certificates, you can use the validation logic of the underlying system.</span></span> <span data-ttu-id="5db45-210">Esta validación del sistema puede admitir su propia lógica de validación o reemplazarla por completo.</span><span class="sxs-lookup"><span data-stu-id="5db45-210">This system validation can either support your own validation logic, or replace it altogether.</span></span> <span data-ttu-id="5db45-211">Si no pasa su propio validador de certificado al solicitar una conexión segura, se usará automáticamente la validación del sistema.</span><span class="sxs-lookup"><span data-stu-id="5db45-211">If you don't pass your own certificate validator when requesting a secure connection, system validation will be used automatically.</span></span>

<span data-ttu-id="5db45-212">En Windows, la validación del sistema comprobará:</span><span class="sxs-lookup"><span data-stu-id="5db45-212">On Windows, the system validation will check for:</span></span>

* <span data-ttu-id="5db45-213">Integridad de la cadena de certificados: los certificados forman una cadena coherente que termina en un certificado raíz de confianza</span><span class="sxs-lookup"><span data-stu-id="5db45-213">Integrity of the certificate chain: the certificates form a consistent chain that ends at a trusted root certificate</span></span>
* <span data-ttu-id="5db45-214">Validez del certificado: el certificado del servidor se encuentra dentro del intervalo de tiempo de validez y se emite para la autenticación del servidor.</span><span class="sxs-lookup"><span data-stu-id="5db45-214">Certificate validity: the server's certificate is within its validity timespan, and is issued for server authentication</span></span>
* <span data-ttu-id="5db45-215">Revocación: no se ha revocado el certificado</span><span class="sxs-lookup"><span data-stu-id="5db45-215">Revocation: The certificate hasn't been revoked</span></span>
* <span data-ttu-id="5db45-216">Coincidencia de nombre: el nombre de host del servidor coincide con uno de los nombres de host para los que se emitió el certificado.</span><span class="sxs-lookup"><span data-stu-id="5db45-216">Name match: The host name of the server matches one of the host names the certificate was issued for</span></span>

<span data-ttu-id="5db45-217">Implemente la `ICertificateValidator` interfaz de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="5db45-217">Implement the `ICertificateValidator` interface as follows:</span></span>

 * <span data-ttu-id="5db45-218">`PerformSystemValidation()` debe devolver `true` si se debe realizar una validación del sistema tal y como se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="5db45-218">`PerformSystemValidation()` should return `true` if a system validation as described above should be performed.</span></span> <span data-ttu-id="5db45-219">En este caso, el resultado de la validación del sistema se pasa como entrada al `ValidateCertificate()` método.</span><span class="sxs-lookup"><span data-stu-id="5db45-219">In this case, the system validation result is passed as an input to the `ValidateCertificate()` method.</span></span>
* <span data-ttu-id="5db45-220">`ValidateCertificate()` debe validar la cadena de certificados y, a continuación, llamar a `CertificateValidated()` en la devolución de llamada pasada con el resultado de la validación final.</span><span class="sxs-lookup"><span data-stu-id="5db45-220">`ValidateCertificate()` should validate the certificate chain and then call `CertificateValidated()` on the passed callback with the final validation result.</span></span> <span data-ttu-id="5db45-221">Este método acepta la cadena de certificados, el nombre del servidor con el que se establece la conexión y si se debe forzar una comprobación de revocación.</span><span class="sxs-lookup"><span data-stu-id="5db45-221">This method accepts the certificate chain, the name of the server the connection is being established with, and whether a revocation check should be forced.</span></span> <span data-ttu-id="5db45-222">Si la cadena de certificados contiene varios certificados, el primero es el certificado del firmante.</span><span class="sxs-lookup"><span data-stu-id="5db45-222">If the certificate chain contains multiple certificates, the first one is the subject certificate.</span></span>

>[!NOTE]
><span data-ttu-id="5db45-223">Si el caso de uso requiere una forma de validación diferente (consulte el caso de uso de certificados #1 anterior), omita completamente la validación del sistema.</span><span class="sxs-lookup"><span data-stu-id="5db45-223">If your use case requires a different form of validation (see certificate use case #1 above), bypass system validation entirely.</span></span> <span data-ttu-id="5db45-224">En su lugar, use cualquier API o biblioteca que pueda controlar los certificados X. 509 con codificación DER para descodificar la cadena de certificados y realizar las comprobaciones necesarias para su caso de uso.</span><span class="sxs-lookup"><span data-stu-id="5db45-224">Instead, use any API or library that can handle DER-encoded X.509 certificates to decode the certificate chain and perform the checks needed for your use case.</span></span>

## <a name="secure-connection-using-the-openxr-api"></a><span data-ttu-id="5db45-225">Conexión segura mediante la API de OpenXR</span><span class="sxs-lookup"><span data-stu-id="5db45-225">Secure connection using the OpenXR API</span></span>

<span data-ttu-id="5db45-226">Cuando se usa la [API de OpenXR](../native/openxr.md) , todas las API relacionadas con la conexión segura están disponibles como parte de la `XR_MSFT_holographic_remoting` extensión OpenXR.</span><span class="sxs-lookup"><span data-stu-id="5db45-226">When using the [OpenXR API](../native/openxr.md) all secure connection-related API is available as part of the `XR_MSFT_holographic_remoting` OpenXR extension.</span></span>

>[!IMPORTANT]
><span data-ttu-id="5db45-227">Para obtener información acerca de la API de extensión OpenXR de Holographic Remoting, consulte la [especificación](https://htmlpreview.github.io/?https://github.com/microsoft/MixedReality-HolographicRemoting-Samples/blob/master/remote_openxr/specification.html) que se encuentra en el repositorio de github de ejemplos de la [comunicación remota de Holographic](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span><span class="sxs-lookup"><span data-stu-id="5db45-227">To learn about the Holographic Remoting OpenXR extension API, check out the [specification](https://htmlpreview.github.io/?https://github.com/microsoft/MixedReality-HolographicRemoting-Samples/blob/master/remote_openxr/specification.html) which can be found in the [Holographic Remoting samples github repository](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span></span>

<span data-ttu-id="5db45-228">Los elementos clave para la conexión segura mediante la `XR_MSFT_holographic_remoting` extensión OpenXR son las siguientes devoluciones de llamada.</span><span class="sxs-lookup"><span data-stu-id="5db45-228">The key elements for secure connection using the `XR_MSFT_holographic_remoting` OpenXR extension are the following callbacks.</span></span>
- <span data-ttu-id="5db45-229">`xrRemotingRequestAuthenticationTokenCallbackMSFT`, genera o recupera el token de autenticación que se va a enviar.</span><span class="sxs-lookup"><span data-stu-id="5db45-229">`xrRemotingRequestAuthenticationTokenCallbackMSFT`, generates, or retrieves the authentication token to be sent.</span></span>
- <span data-ttu-id="5db45-230">`xrRemotingValidateServerCertificateCallbackMSFT`, valida la cadena de certificados.</span><span class="sxs-lookup"><span data-stu-id="5db45-230">`xrRemotingValidateServerCertificateCallbackMSFT`, validates the certificate chain.</span></span>
- <span data-ttu-id="5db45-231">`xrRemotingValidateAuthenticationTokenCallbackMSFT`, valida el token de autenticación del cliente.</span><span class="sxs-lookup"><span data-stu-id="5db45-231">`xrRemotingValidateAuthenticationTokenCallbackMSFT`, validates the client authentication token.</span></span>
- <span data-ttu-id="5db45-232">`xrRemotingRequestServerCertificateCallbackMSFT`, proporcione la aplicación de servidor con el certificado que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="5db45-232">`xrRemotingRequestServerCertificateCallbackMSFT`, supply the server application with the certificate to use.</span></span>

<span data-ttu-id="5db45-233">Estas devoluciones de llamada se pueden proporcionar al tiempo de ejecución de OpenXR remoto a través `xrRemotingSetSecureConnectionClientCallbacksMSFT` de y `xrRemotingSetSecureConnectionServerCallbacksMSFT` .</span><span class="sxs-lookup"><span data-stu-id="5db45-233">These callbacks can be provided to the remoting OpenXR runtime via `xrRemotingSetSecureConnectionClientCallbacksMSFT` and `xrRemotingSetSecureConnectionServerCallbacksMSFT`.</span></span> <span data-ttu-id="5db45-234">Además, la conexión segura debe habilitarse mediante el parámetro secureConnection en la `XrRemotingConnectInfoMSFT` estructura o la `XrRemotingListenInfoMSFT` estructura, dependiendo de si usa `xrRemotingConnectMSFT` o `xrRemotingListenMSFT` .</span><span class="sxs-lookup"><span data-stu-id="5db45-234">Additionally, the secure connection needs to be enabled via the secureConnection parameter on the `XrRemotingConnectInfoMSFT` structure or the `XrRemotingListenInfoMSFT` structure depending on whether you're using `xrRemotingConnectMSFT` or `xrRemotingListenMSFT`.</span></span>

<span data-ttu-id="5db45-235">Esta API es similar a la API basada en IDL que se describe en implementación de la seguridad de la [comunicación remota holográfica](#implementing-holographic-remoting-security).</span><span class="sxs-lookup"><span data-stu-id="5db45-235">This API is similar to the IDL-based API described in [Implementing holographic remoting security](#implementing-holographic-remoting-security).</span></span> <span data-ttu-id="5db45-236">Sin embargo, en lugar de implementar interfaces, se supone que proporciona implementaciones de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="5db45-236">However, instead of implementing interfaces, you're supposed to provide callback implementations.</span></span> <span data-ttu-id="5db45-237">Puede encontrar un ejemplo detallado en la [aplicación de ejemplo OpenXR](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span><span class="sxs-lookup"><span data-stu-id="5db45-237">You can find a detailed example in the [OpenXR sample app](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span></span>

## <a name="see-also"></a><span data-ttu-id="5db45-238">Consulte también</span><span class="sxs-lookup"><span data-stu-id="5db45-238">See Also</span></span>
* [<span data-ttu-id="5db45-239">Escritura de una aplicación remota Holographic Remoting con las API de Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="5db45-239">Writing a Holographic Remoting remote app using Windows Mixed Reality APIs</span></span>](holographic-remoting-create-remote-wmr.md)
* [<span data-ttu-id="5db45-240">Escritura de una aplicación remota de Holographic Remoting con las API de OpenXR</span><span class="sxs-lookup"><span data-stu-id="5db45-240">Writing a Holographic Remoting remote app using OpenXR APIs</span></span>](holographic-remoting-create-remote-openxr.md)
* [<span data-ttu-id="5db45-241">Escritura de una aplicación de reproductor de control remoto de holografías personalizada</span><span class="sxs-lookup"><span data-stu-id="5db45-241">Writing a custom Holographic Remoting player app</span></span>](holographic-remoting-create-player.md)
* [<span data-ttu-id="5db45-242">Solución de problemas y limitaciones de la comunicación remota holográfica</span><span class="sxs-lookup"><span data-stu-id="5db45-242">Holographic Remoting troubleshooting and limitations</span></span>](holographic-remoting-troubleshooting.md)
* [<span data-ttu-id="5db45-243">Términos de licencia del software de control remoto de holografías</span><span class="sxs-lookup"><span data-stu-id="5db45-243">Holographic Remoting software license terms</span></span>](https://docs.microsoft.com//legal/mixed-reality/microsoft-holographic-remoting-software-license-terms)
* [<span data-ttu-id="5db45-244">Declaración de privacidad de Microsoft</span><span class="sxs-lookup"><span data-stu-id="5db45-244">Microsoft Privacy Statement</span></span>](https://go.microsoft.com/fwlink/?LinkId=521839)
