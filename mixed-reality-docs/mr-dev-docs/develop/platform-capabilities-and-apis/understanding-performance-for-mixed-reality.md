---
title: Descripción del rendimiento de la realidad mixta
description: Información avanzada y detalles para optimizar el rendimiento de las aplicaciones de Windows Mixed Reality.
author: hferrone
ms.author: v-hferrone
ms.date: 3/26/2019
ms.topic: article
keywords: Windows Mixed Reality, realidad mixta, realidad virtual, VR, MR, rendimiento, optimización, CPU, GPU
ms.openlocfilehash: fc7b6385acda9079a649131b9e6eccf5ac067819
ms.sourcegitcommit: c41372e0c6ca265f599bff309390982642d628b8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/15/2020
ms.locfileid: "97530067"
---
# <a name="understanding-performance-for-mixed-reality"></a><span data-ttu-id="975f0-104">Descripción del rendimiento de la realidad mixta</span><span class="sxs-lookup"><span data-stu-id="975f0-104">Understanding performance for mixed reality</span></span>

<span data-ttu-id="975f0-105">Este artículo es una introducción a la comprensión del significado del rendimiento de la aplicación de realidad mixta.</span><span class="sxs-lookup"><span data-stu-id="975f0-105">This article is an introduction to understanding the significance of performance for your Mixed Reality app.</span></span>  <span data-ttu-id="975f0-106">La experiencia del usuario se puede degradar considerablemente si la aplicación no se ejecuta con una velocidad de fotogramas óptima.</span><span class="sxs-lookup"><span data-stu-id="975f0-106">User experience can be greatly degraded if your application doesn't run at optimal frame rate.</span></span> <span data-ttu-id="975f0-107">Los hologramas aparecerán inestables y el seguimiento de los cabezales del entorno no será preciso, lo que conduce a una mala experiencia para el usuario.</span><span class="sxs-lookup"><span data-stu-id="975f0-107">Holograms will appear unstable and head tracking of the environment will be inaccurate, leading to a poor experience for the user.</span></span> <span data-ttu-id="975f0-108">El rendimiento se debe considerar como una característica de primera clase para el desarrollo de la realidad mixta y no para una tarea fina.</span><span class="sxs-lookup"><span data-stu-id="975f0-108">Performance must be considered a first class feature for mixed reality development and not a polish task.</span></span>

<span data-ttu-id="975f0-109">A continuación se enumeran los valores de velocidad de fotogramas de rendimiento para cada plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="975f0-109">The performant framerate values for each target platform are listed below.</span></span>

| <span data-ttu-id="975f0-110">Plataforma</span><span class="sxs-lookup"><span data-stu-id="975f0-110">Platform</span></span> | <span data-ttu-id="975f0-111">Velocidad de fotogramas de destino</span><span class="sxs-lookup"><span data-stu-id="975f0-111">Target Frame Rate</span></span> |
|----------|-------------------|
| [<span data-ttu-id="975f0-112">HoloLens</span><span class="sxs-lookup"><span data-stu-id="975f0-112">HoloLens</span></span>](../../hololens-hardware-details.md) | <span data-ttu-id="975f0-113">60 FPS</span><span class="sxs-lookup"><span data-stu-id="975f0-113">60 FPS</span></span> |
| [<span data-ttu-id="975f0-114">Windows Mixed Reality ultra PC</span><span class="sxs-lookup"><span data-stu-id="975f0-114">Windows Mixed Reality Ultra PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="975f0-115">90 FPS</span><span class="sxs-lookup"><span data-stu-id="975f0-115">90 FPS</span></span> |
| [<span data-ttu-id="975f0-116">Equipos con Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="975f0-116">Windows Mixed Reality PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="975f0-117">60 FPS</span><span class="sxs-lookup"><span data-stu-id="975f0-117">60 FPS</span></span> |

<span data-ttu-id="975f0-118">En el marco siguiente se describen los procedimientos recomendados para alcanzar las velocidades de fotogramas de destino.</span><span class="sxs-lookup"><span data-stu-id="975f0-118">The framework below outlines best practices for hitting target frame rates.</span></span> <span data-ttu-id="975f0-119">Se recomienda leer el [artículo recomendaciones de rendimiento para Unity](../unity/performance-recommendations-for-unity.md) para obtener sugerencias sobre cómo medir y mejorar las velocidad de fotogramas en el entorno de Unity.</span><span class="sxs-lookup"><span data-stu-id="975f0-119">We recommend reading the [performance recommendations for Unity article](../unity/performance-recommendations-for-unity.md) for tips on measuring and improving framerate in the Unity environment.</span></span>

## <a name="understanding-performance-bottlenecks"></a><span data-ttu-id="975f0-120">Descripción de los cuellos de botella de rendimiento</span><span class="sxs-lookup"><span data-stu-id="975f0-120">Understanding performance bottlenecks</span></span>

<span data-ttu-id="975f0-121">Si la aplicación tiene una velocidad de fotogramas que realiza un uso intensivo, el primer paso consiste en analizar y comprender en qué medida su aplicación es intensiva.</span><span class="sxs-lookup"><span data-stu-id="975f0-121">If your app has an underperforming framerate, the first step is to analyze and understand where your application is computationally intensive.</span></span> <span data-ttu-id="975f0-122">Hay dos procesadores principales responsables del trabajo para representar la escena: la CPU y la GPU, cada una de las cuales controla distintos aspectos de la aplicación de realidad mixta.</span><span class="sxs-lookup"><span data-stu-id="975f0-122">There are two primary processors responsible for the work to render your scene: the CPU and the GPU, each handling different aspects of your Mixed Reality app.</span></span> <span data-ttu-id="975f0-123">Los tres lugares principales en los que se pueden producir cuellos de botella son:</span><span class="sxs-lookup"><span data-stu-id="975f0-123">The three key places where bottlenecks may occur are:</span></span> 

1. <span data-ttu-id="975f0-124">**Subproceso de aplicación: CPU** -
    Responsable de la lógica de la aplicación, incluida la entrada de procesamiento, las animaciones, la física y otras lógicas de aplicación.</span><span class="sxs-lookup"><span data-stu-id="975f0-124">**App Thread - CPU** -
 Responsible for your app logic, including processing input, animations, physics, and other app logic.</span></span>
2. <span data-ttu-id="975f0-125">**Render Thread-CPU to GPU** : responsable del envío de llamadas a Draw a la GPU.</span><span class="sxs-lookup"><span data-stu-id="975f0-125">**Render Thread - CPU to GPU** - Responsible for submitting your draw calls to the GPU.</span></span> <span data-ttu-id="975f0-126">Cuando la aplicación desea representar un objeto como un cubo o un modelo, este subproceso envía una solicitud a la GPU para realizar las operaciones.</span><span class="sxs-lookup"><span data-stu-id="975f0-126">When your app wants to render an object such as a cube or model, this thread sends a request to the GPU to do the operations.</span></span>
3. <span data-ttu-id="975f0-127">**GPU** : normalmente controla la canalización de gráficos de la aplicación para transformar datos 3D (modelos, texturas, etc.) en píxeles.</span><span class="sxs-lookup"><span data-stu-id="975f0-127">**GPU** - Most commonly handles the graphics pipeline of your application to transform 3D data (models, textures, and so on) into pixels.</span></span> <span data-ttu-id="975f0-128">En última instancia, genera una imagen 2D para enviarla a la pantalla del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="975f0-128">It ultimately produces a 2D image to submit to your device's screen.</span></span>

![Duración de un marco](images/lifetime-of-a-frame.png)

<span data-ttu-id="975f0-130">Por lo general, las aplicaciones de HoloLens estarán enlazadas por GPU, pero no siempre.</span><span class="sxs-lookup"><span data-stu-id="975f0-130">Generally, HoloLens applications will be GPU bound, but not always.</span></span> <span data-ttu-id="975f0-131">Use las herramientas y técnicas siguientes para entender dónde se encuentra un cuello de botella en la aplicación en particular.</span><span class="sxs-lookup"><span data-stu-id="975f0-131">Use the tools and techniques below to understand where your particular app is bottlenecked.</span></span>

## <a name="how-to-analyze-your-application"></a><span data-ttu-id="975f0-132">Cómo analizar la aplicación</span><span class="sxs-lookup"><span data-stu-id="975f0-132">How to analyze your application</span></span>

<span data-ttu-id="975f0-133">Hay muchas herramientas que le permiten comprender el perfil de rendimiento y los posibles cuellos de botella en la aplicación de realidad mixta.</span><span class="sxs-lookup"><span data-stu-id="975f0-133">There are many tools that allow you to understand the performance profile and potential bottlenecks in your mixed reality application.</span></span> 

<span data-ttu-id="975f0-134">A continuación se muestran algunas herramientas comunes para ayudarle a recopilar información de generación de perfiles profunda para su aplicación:</span><span class="sxs-lookup"><span data-stu-id="975f0-134">Below are some common tools to help you gather deep profiling information for your application:</span></span>
- [<span data-ttu-id="975f0-135">Analizadores de rendimiento de gráficos Intel</span><span class="sxs-lookup"><span data-stu-id="975f0-135">Intel Graphics Performance Analyzers</span></span>](https://software.intel.com/gpa)
- [<span data-ttu-id="975f0-136">Depuradores de gráficos de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="975f0-136">Visual Studio Graphics Debuggers</span></span>](https://docs.microsoft.com/visualstudio/debugger/graphics/visual-studio-graphics-diagnostics)
- [<span data-ttu-id="975f0-137">Generador de perfiles de Unity</span><span class="sxs-lookup"><span data-stu-id="975f0-137">Unity Profiler</span></span>](https://docs.unity3d.com/Manual/Profiler.html)
- [<span data-ttu-id="975f0-138">Depurador de fotogramas de Unity</span><span class="sxs-lookup"><span data-stu-id="975f0-138">Unity Frame Debugger</span></span>](https://docs.unity3d.com/Manual/FrameDebugger.html)

### <a name="how-to-profile-in-any-environment"></a><span data-ttu-id="975f0-139">Cómo generar perfiles en cualquier entorno</span><span class="sxs-lookup"><span data-stu-id="975f0-139">How to profile in any environment</span></span>

<span data-ttu-id="975f0-140">Una manera de determinar si la aplicación es una GPU o un límite de CPU es reducir la resolución de la salida del destino de representación.</span><span class="sxs-lookup"><span data-stu-id="975f0-140">One way to determine if your app is GPU or CPU bound is to lower the resolution of the render target output.</span></span> <span data-ttu-id="975f0-141">Al reducir el número de píxeles que se van a calcular, reducirá la carga de la GPU.</span><span class="sxs-lookup"><span data-stu-id="975f0-141">By reducing the number of pixels to calculate, you'll reduce your GPU load.</span></span> <span data-ttu-id="975f0-142">El dispositivo se representará en una textura más pequeña y, luego, se mostrará como ejemplo para mostrar la imagen final.</span><span class="sxs-lookup"><span data-stu-id="975f0-142">The device will render to a smaller texture, then up-sample to display your final image.</span></span>

<span data-ttu-id="975f0-143">Después de reducir la resolución de representación, si:</span><span class="sxs-lookup"><span data-stu-id="975f0-143">After lowering rendering resolution, if:</span></span>
1) <span data-ttu-id="975f0-144">La velocidad de fotogramas de aplicación **aumenta**, es probable que esté **enlazada a GPU**</span><span class="sxs-lookup"><span data-stu-id="975f0-144">Application framerate **increases**, then you're likely **GPU Bound**</span></span>
1) <span data-ttu-id="975f0-145">Velocidad de la aplicación **inalterada**, es probable que esté **enlazada** a la CPU</span><span class="sxs-lookup"><span data-stu-id="975f0-145">Application framerate **unchanged**, then you're likely **CPU Bound**</span></span>

>[!NOTE]
><span data-ttu-id="975f0-146">Unity proporciona la capacidad de modificar fácilmente la resolución del destino de representación de la aplicación en tiempo de ejecución a través de la propiedad *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* .</span><span class="sxs-lookup"><span data-stu-id="975f0-146">Unity provides the ability to easily modify the render target resolution of your application at runtime through the *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property.</span></span> <span data-ttu-id="975f0-147">La imagen final presentada en el dispositivo tiene una resolución fija.</span><span class="sxs-lookup"><span data-stu-id="975f0-147">The final image presented on device has a fixed resolution.</span></span> <span data-ttu-id="975f0-148">La plataforma muestreará el resultado de la resolución inferior para crear una imagen de resolución más alta para la representación de las pantallas.</span><span class="sxs-lookup"><span data-stu-id="975f0-148">The platform will sample the lower resolution output to build a higher resolution image for rendering on displays.</span></span> 
>
>```CS
>UnityEngine.XR.XRSettings.renderScale = 0.7f;
>```

## <a name="how-to-improve-your-application"></a><span data-ttu-id="975f0-149">Cómo mejorar la aplicación</span><span class="sxs-lookup"><span data-stu-id="975f0-149">How to improve your application</span></span>

### <a name="cpu-performance-recommendations"></a><span data-ttu-id="975f0-150">Recomendaciones de rendimiento de CPU</span><span class="sxs-lookup"><span data-stu-id="975f0-150">CPU performance recommendations</span></span>

<span data-ttu-id="975f0-151">Por lo general, la mayor parte del trabajo en una aplicación de realidad mixta en la CPU implica la realización de la "simulación" de la escena y el procesamiento de la lógica de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="975f0-151">Generally, most work in a mixed reality application on the CPU involves doing the "simulation" of the scene and processing your application logic.</span></span> <span data-ttu-id="975f0-152">Las siguientes áreas están destinadas a la optimización:</span><span class="sxs-lookup"><span data-stu-id="975f0-152">The following areas are targeted for optimization:</span></span>

- <span data-ttu-id="975f0-153">Animaciones</span><span class="sxs-lookup"><span data-stu-id="975f0-153">Animations</span></span>
- <span data-ttu-id="975f0-154">Física</span><span class="sxs-lookup"><span data-stu-id="975f0-154">Physics</span></span>
- <span data-ttu-id="975f0-155">Asignaciones de memoria</span><span class="sxs-lookup"><span data-stu-id="975f0-155">Memory allocations</span></span>
- <span data-ttu-id="975f0-156">Algoritmos complejos (es decir,</span><span class="sxs-lookup"><span data-stu-id="975f0-156">Complex algorithms (i.e</span></span> <span data-ttu-id="975f0-157">cinemática inversa, búsqueda de rutas de acceso)</span><span class="sxs-lookup"><span data-stu-id="975f0-157">inverse kinematics, path-finding)</span></span>

### <a name="gpu-performance-recommendations"></a><span data-ttu-id="975f0-158">Recomendaciones de rendimiento de GPU</span><span class="sxs-lookup"><span data-stu-id="975f0-158">GPU performance recommendations</span></span>

#### <a name="understanding-bandwidth-vs-fill-rate"></a><span data-ttu-id="975f0-159">Descripción del ancho de banda y la velocidad de relleno</span><span class="sxs-lookup"><span data-stu-id="975f0-159">Understanding bandwidth vs. fill rate</span></span>
<span data-ttu-id="975f0-160">Al representar un fotograma en la GPU, una aplicación está enlazada por el ancho de banda de memoria o la velocidad de relleno.</span><span class="sxs-lookup"><span data-stu-id="975f0-160">When rendering a frame on the GPU, an application is either bound by memory bandwidth or fill rate.</span></span>

- <span data-ttu-id="975f0-161">El **ancho de banda de memoria** es la velocidad de lecturas y escrituras que la GPU puede realizar desde la memoria</span><span class="sxs-lookup"><span data-stu-id="975f0-161">**Memory bandwidth** is the rate of reads and writes the GPU can do from memory</span></span>
    - <span data-ttu-id="975f0-162">Para identificar las limitaciones de ancho de banda, reduzca la calidad de la textura y compruebe si la velocidad de fotogramas ha mejorado.</span><span class="sxs-lookup"><span data-stu-id="975f0-162">To identify bandwidth limitations, reduce texture quality and check if the framerate has improved.</span></span>
    - <span data-ttu-id="975f0-163">En Unity, cambie **calidad de textura** en **Editar** configuración de  >  **proyecto**  >  **[configuración de calidad](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span><span class="sxs-lookup"><span data-stu-id="975f0-163">In Unity, change **Texture Quality** in **Edit** > **Project Settings** > **[Quality Settings](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span></span>
- <span data-ttu-id="975f0-164">La **velocidad de relleno** hace referencia a los píxeles que la GPU puede dibujar por segundo.</span><span class="sxs-lookup"><span data-stu-id="975f0-164">**Fill rate** refers to the pixels that can be drawn per second by the GPU.</span></span>
    - <span data-ttu-id="975f0-165">Para identificar las limitaciones de velocidad de relleno, reduzca la resolución de pantalla y compruebe si se ha mejorado la velocidad de fotogramas.</span><span class="sxs-lookup"><span data-stu-id="975f0-165">To identify fill rate limitations, lower the display resolution and check if framerate improved.</span></span> 
    - <span data-ttu-id="975f0-166">En Unity, use la propiedad *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)*</span><span class="sxs-lookup"><span data-stu-id="975f0-166">In Unity, use the  *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property</span></span>

<span data-ttu-id="975f0-167">Generalmente, el ancho de banda de memoria implica optimizaciones para:</span><span class="sxs-lookup"><span data-stu-id="975f0-167">Memory bandwidth generally involves optimizations to either:</span></span>
1) <span data-ttu-id="975f0-168">Resoluciones de textura inferiores</span><span class="sxs-lookup"><span data-stu-id="975f0-168">Lower texture resolutions</span></span>
2) <span data-ttu-id="975f0-169">Usar menos texturas (normalización, reflejo, etc.)</span><span class="sxs-lookup"><span data-stu-id="975f0-169">Use fewer textures (normals, specular, and so on)</span></span>

<span data-ttu-id="975f0-170">La velocidad de relleno se centra en reducir el número de operaciones que se deben calcular para un píxel representado final, incluidos:</span><span class="sxs-lookup"><span data-stu-id="975f0-170">Fill rate is focused on reducing the number of operations that need to be computed for a final rendered pixel, including:</span></span>
1) <span data-ttu-id="975f0-171">Número de objetos que se van a representar o procesar</span><span class="sxs-lookup"><span data-stu-id="975f0-171">Number of objects to render/process</span></span>
2) <span data-ttu-id="975f0-172">Número de operaciones por sombreador</span><span class="sxs-lookup"><span data-stu-id="975f0-172">Number of operations per shader</span></span>
3) <span data-ttu-id="975f0-173">Número de fases de GPU en el resultado final (sombreadores de geometría, efectos de procesamiento posterior, etc.)</span><span class="sxs-lookup"><span data-stu-id="975f0-173">Number of GPU stages to final result (geometry shaders, post-processing effects, and so on)</span></span>
4) <span data-ttu-id="975f0-174">Número de píxeles que se van a representar (resolución de pantalla)</span><span class="sxs-lookup"><span data-stu-id="975f0-174">Number of pixels to render (display resolution)</span></span>

#### <a name="reduce-polygon-count"></a><span data-ttu-id="975f0-175">Reducir el número de polígonos</span><span class="sxs-lookup"><span data-stu-id="975f0-175">Reduce polygon count</span></span>

<span data-ttu-id="975f0-176">Los recuentos de polígonos más altos producen más operaciones para la GPU, por lo que [reducir el número de polígonos](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) de la escena reduce el tiempo de representación.</span><span class="sxs-lookup"><span data-stu-id="975f0-176">Higher polygon counts result in more operations for the GPU, so [reducing the number of polygons](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) in your scene reduces the render time.</span></span> <span data-ttu-id="975f0-177">Hay otros factores que hacen que el sombreado de la geometría sea caro, pero el recuento de polígonos es la métrica más simple para determinar la cantidad de trabajo que se tardará en representar una escena.</span><span class="sxs-lookup"><span data-stu-id="975f0-177">There are other factors that make shading the geometry expensive, but polygon count is the simplest metric to determine how much work it will take to render a scene.</span></span>

#### <a name="limit-overdraw"></a><span data-ttu-id="975f0-178">Sobredibujo del límite</span><span class="sxs-lookup"><span data-stu-id="975f0-178">Limit overdraw</span></span>

<span data-ttu-id="975f0-179">El sobredibujo alto se produce cuando se representan varios objetos, pero no se muestran en la pantalla, ya que están ocultos por un objeto occluding.</span><span class="sxs-lookup"><span data-stu-id="975f0-179">High overdraw occurs when multiple objects are rendered but not shown on screen as they're hidden by an occluding object.</span></span> <span data-ttu-id="975f0-180">Imagine que mira una pared que tiene objetos detrás.</span><span class="sxs-lookup"><span data-stu-id="975f0-180">Imagine looking at a wall that has objects behind it.</span></span> <span data-ttu-id="975f0-181">Toda la geometría se procesaría para la representación, pero solo se debe representar la pared opaca, lo que produce operaciones innecesarias.</span><span class="sxs-lookup"><span data-stu-id="975f0-181">All of the geometry would be processed for rendering, but only the opaque wall needs to be rendered, which results in unnecessary operations.</span></span>

#### <a name="shaders"></a><span data-ttu-id="975f0-182">Sombreadores</span><span class="sxs-lookup"><span data-stu-id="975f0-182">Shaders</span></span>

<span data-ttu-id="975f0-183">Los sombreadores son pequeños programas que se ejecutan en la GPU y realizan dos pasos importantes en la representación:</span><span class="sxs-lookup"><span data-stu-id="975f0-183">Shaders are small programs that run on the GPU and do two important steps in rendering:</span></span>
1) <span data-ttu-id="975f0-184">Determinar qué vértices se deben dibujar y dónde se encuentran en el espacio de pantalla (el sombreador de vértices)</span><span class="sxs-lookup"><span data-stu-id="975f0-184">Determining which vertices should be drawn and where they are in screen space (the Vertex shader)</span></span>
    - <span data-ttu-id="975f0-185">El sombreador de vértices se ejecuta por vértice para cada malla.</span><span class="sxs-lookup"><span data-stu-id="975f0-185">The Vertex shader is executed per vertex for every mesh.</span></span>
2) <span data-ttu-id="975f0-186">Determinar el color de cada píxel (el sombreador de píxeles)</span><span class="sxs-lookup"><span data-stu-id="975f0-186">Determining the color of each pixel (the Pixel shader)</span></span>
    - <span data-ttu-id="975f0-187">El sombreador de píxeles se ejecuta por píxel y lo representa la geometría en la textura de representación de destino.</span><span class="sxs-lookup"><span data-stu-id="975f0-187">The Pixel shader is executed per pixel and rendered by the geometry to the target render texture.</span></span>

<span data-ttu-id="975f0-188">Normalmente, los sombreadores realizan muchas transformaciones y cálculos de iluminación.</span><span class="sxs-lookup"><span data-stu-id="975f0-188">Typically, shaders do many transformations and lighting calculations.</span></span> <span data-ttu-id="975f0-189">Aunque los modelos de iluminación complejos, las sombras y otras operaciones pueden generar resultados fantásticos, también tienen un precio.</span><span class="sxs-lookup"><span data-stu-id="975f0-189">Although complex lighting models, shadows, and other operations can generate fantastic results, they also come with a price.</span></span> <span data-ttu-id="975f0-190">Reducir el número de operaciones calculadas en los sombreadores puede reducir en gran medida el trabajo necesario para la GPU por fotograma.</span><span class="sxs-lookup"><span data-stu-id="975f0-190">Reducing the number of operations computed in shaders can greatly reduce the work needed for the GPU per frame.</span></span>

##### <a name="shader-coding-recommendations"></a><span data-ttu-id="975f0-191">Recomendaciones de codificación del sombreador</span><span class="sxs-lookup"><span data-stu-id="975f0-191">Shader coding recommendations</span></span>

- <span data-ttu-id="975f0-192">Usar el filtrado bilineal, siempre que sea posible</span><span class="sxs-lookup"><span data-stu-id="975f0-192">Use bilinear filtering, whenever possible</span></span>
- <span data-ttu-id="975f0-193">Reorganizar expresiones para usar funciones intrínsecas de MAD para realizar una multiplicación y agregar al mismo tiempo</span><span class="sxs-lookup"><span data-stu-id="975f0-193">Rearrange expressions to use MAD intrinsics to do a multiply and an add at the same time</span></span>
- <span data-ttu-id="975f0-194">Calcular el precálculo tanto como sea posible en la CPU y pasar como constantes al material</span><span class="sxs-lookup"><span data-stu-id="975f0-194">Precalculate as much as possible on the CPU and pass as constants to the material</span></span>
- <span data-ttu-id="975f0-195">**Favorecer el movimiento de las operaciones desde el sombreador de píxeles hasta el sombreador de vértices**</span><span class="sxs-lookup"><span data-stu-id="975f0-195">**Favor moving operations from the pixel shader to the vertex shader**</span></span>
    - <span data-ttu-id="975f0-196">Por lo general, el número de vértices es mucho menor que el número de píxeles (720p es de 921.600 píxeles, 1080p es 2.073.600 píxeles, etc.)</span><span class="sxs-lookup"><span data-stu-id="975f0-196">Generally, the number of vertices is much smaller than the number of pixels (720p is 921,600 pixels, 1080p is 2,073,600 pixels, and so on)</span></span>

#### <a name="remove-gpu-stages"></a><span data-ttu-id="975f0-197">Quitar fases de GPU</span><span class="sxs-lookup"><span data-stu-id="975f0-197">Remove GPU stages</span></span>

<span data-ttu-id="975f0-198">Los efectos posteriores al procesamiento pueden ser caros y aumentar la velocidad de relleno de la aplicación, incluidas las técnicas de suavizado de contorno como MSAA.</span><span class="sxs-lookup"><span data-stu-id="975f0-198">Post-processing effects can be expensive and increase the fill rate of your application, including anti-aliasing techniques like MSAA.</span></span> <span data-ttu-id="975f0-199">En HoloLens, se recomienda evitar estas técnicas y otras fases del sombreador, como la geometría, el casco y los sombreadores de cálculo.</span><span class="sxs-lookup"><span data-stu-id="975f0-199">On HoloLens, we recommended avoiding these techniques and additional shader stages such as geometry, hull, and compute shaders.</span></span>

## <a name="memory-recommendations"></a><span data-ttu-id="975f0-200">Recomendaciones de memoria</span><span class="sxs-lookup"><span data-stu-id="975f0-200">Memory recommendations</span></span>

<span data-ttu-id="975f0-201">Las operaciones de asignación y desasignación de memoria excesiva pueden dar lugar a un rendimiento incoherente, marcos inmovilizados y otro comportamiento perjudicial.</span><span class="sxs-lookup"><span data-stu-id="975f0-201">Excessive memory allocation and deallocation operations can result in inconsistent performance, frozen frames, and other detrimental behavior.</span></span> <span data-ttu-id="975f0-202">Es especialmente importante comprender las consideraciones de memoria al desarrollar en Unity, ya que la administración de la memoria se controla mediante el recolector de elementos no utilizados.</span><span class="sxs-lookup"><span data-stu-id="975f0-202">It's especially important to understand memory considerations when developing in Unity, since memory management is controlled by the garbage collector.</span></span>

#### <a name="object-pooling"></a><span data-ttu-id="975f0-203">Agrupación de objetos</span><span class="sxs-lookup"><span data-stu-id="975f0-203">Object pooling</span></span>

<span data-ttu-id="975f0-204">La agrupación de objetos es una técnica popular para reducir el costo de las asignaciones continuas y desasignaciones de objetos.</span><span class="sxs-lookup"><span data-stu-id="975f0-204">Object pooling is a popular technique to reduce the cost of continuous allocations and deallocations of objects.</span></span> <span data-ttu-id="975f0-205">Para ello, se asigna un grupo grande de objetos idénticos y se reutilizan instancias disponibles inactivas de este grupo en lugar de generar y destruir objetos constantemente a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="975f0-205">This is done by allocating a large pool of identical objects and reusing inactive, available instances from this pool instead of constantly spawning and destroying objects over time.</span></span> <span data-ttu-id="975f0-206">Los grupos de objetos son excelentes para los componentes reutilizables que tienen una duración variable durante una aplicación.</span><span class="sxs-lookup"><span data-stu-id="975f0-206">Object pools are great for reuseable components that have variable lifetime during an app.</span></span>

## <a name="see-also"></a><span data-ttu-id="975f0-207">Consulte también</span><span class="sxs-lookup"><span data-stu-id="975f0-207">See also</span></span>
- [<span data-ttu-id="975f0-208">Recomendaciones de rendimiento para Unity</span><span class="sxs-lookup"><span data-stu-id="975f0-208">Performance recommendations for Unity</span></span>](../unity/performance-recommendations-for-unity.md)
- [<span data-ttu-id="975f0-209">Configuración recomendada para Unity</span><span class="sxs-lookup"><span data-stu-id="975f0-209">Recommended settings for Unity</span></span>](../unity/recommended-settings-for-unity.md)
- [<span data-ttu-id="975f0-210">Optimizar modelos 3D</span><span class="sxs-lookup"><span data-stu-id="975f0-210">Optimize 3D models</span></span>](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets)
- [<span data-ttu-id="975f0-211">Prácticas recomendadas para convertir y optimizar modelos 3D en tiempo real</span><span class="sxs-lookup"><span data-stu-id="975f0-211">Best practices for converting and optimizing real-time 3D Models</span></span>](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/best-practices)

