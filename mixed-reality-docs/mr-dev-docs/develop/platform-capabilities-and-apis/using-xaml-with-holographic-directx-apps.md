---
title: Uso de XAML con aplicaciones de DirectX holográficas
description: Explica el impacto de cambiar entre las vistas XAML 2D y las vistas de envolvente en la aplicación DirectX y cómo hacer un uso eficaz de una vista XAML y una vista envolvente.
author: mikeriches
ms.author: mriches
ms.date: 08/04/2020
ms.topic: article
keywords: Windows Mixed Reality, UWP, administración de vistas de aplicaciones, XAML, teclado, tutorial, DirectX
ms.openlocfilehash: b062efadca9ccfe2e2caeb054f662becc0807b50
ms.sourcegitcommit: c41372e0c6ca265f599bff309390982642d628b8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/15/2020
ms.locfileid: "97530273"
---
# <a name="using-xaml-with-holographic-directx-apps"></a><span data-ttu-id="a1743-104">Uso de XAML con aplicaciones de DirectX holográficas</span><span class="sxs-lookup"><span data-stu-id="a1743-104">Using XAML with holographic DirectX apps</span></span>

> [!NOTE]
> <span data-ttu-id="a1743-105">Este artículo está relacionado con las API nativas de WinRT heredadas.</span><span class="sxs-lookup"><span data-stu-id="a1743-105">This article relates to the legacy WinRT native APIs.</span></span>  <span data-ttu-id="a1743-106">En el caso de los nuevos proyectos de aplicaciones nativas, se recomienda usar la **[API de OpenXR](../native/openxr-getting-started.md)**.</span><span class="sxs-lookup"><span data-stu-id="a1743-106">For new native app projects, we recommend using the **[OpenXR API](../native/openxr-getting-started.md)**.</span></span>

<span data-ttu-id="a1743-107">En este tema se explica el impacto del cambio entre las [vistas XAML 2D y las vistas de envolvente](../../design/app-views.md) en la aplicación DirectX y cómo hacer un uso eficaz de una vista XAML y una vista envolvente.</span><span class="sxs-lookup"><span data-stu-id="a1743-107">This topic explains the impact of switching between [2D XAML views and immersive views](../../design/app-views.md) in your DirectX app, and how to make efficient use of both a XAML view and immersive view.</span></span>

## <a name="xaml-view-switching-overview"></a><span data-ttu-id="a1743-108">Información general sobre el cambio de vista XAML</span><span class="sxs-lookup"><span data-stu-id="a1743-108">XAML view switching overview</span></span>

<span data-ttu-id="a1743-109">En HoloLens, una aplicación envolvente que puede mostrar más adelante una vista XAML 2D debe inicializar esa vista XAML primero y cambiar inmediatamente a una vista envolvente desde allí.</span><span class="sxs-lookup"><span data-stu-id="a1743-109">On HoloLens, an immersive app that may later display a 2D XAML view needs to initialize that XAML view first and immediately switch to an immersive view from there.</span></span> <span data-ttu-id="a1743-110">XAML se cargará antes de que la aplicación pueda hacer nada, lo que agrega un pequeño aumento en el tiempo de inicio.</span><span class="sxs-lookup"><span data-stu-id="a1743-110">XAML will load before your app can do anything, which adds a small increase to your startup time.</span></span> <span data-ttu-id="a1743-111">XAML seguirá ocupando espacio en la memoria en el proceso de la aplicación mientras se mantiene en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="a1743-111">XAML will continue to occupy memory space in your app process while it stays in the background.</span></span> <span data-ttu-id="a1743-112">La cantidad de retraso de inicio y el uso de memoria depende de lo que hace la aplicación con XAML antes de cambiar a la vista nativa.</span><span class="sxs-lookup"><span data-stu-id="a1743-112">The amount of startup delay and memory usage depends on what your app does with XAML before switching to the native view.</span></span> <span data-ttu-id="a1743-113">Si no hace nada en el código de inicio XAML en primer lugar, excepto iniciar la vista envolvente, el impacto debe ser menor.</span><span class="sxs-lookup"><span data-stu-id="a1743-113">If you do nothing in your XAML startup code at first except start your immersive view, the impact should be minor.</span></span> <span data-ttu-id="a1743-114">Además, dado que la representación holográfica se realiza directamente en la vista envolvente, evitará las restricciones relacionadas con XAML en esa representación.</span><span class="sxs-lookup"><span data-stu-id="a1743-114">Also, because your holographic rendering is done directly to the immersive view, you'll avoid any XAML-related restrictions on that rendering.</span></span>

<span data-ttu-id="a1743-115">Los recuentos de uso de memoria para CPU y GPU.</span><span class="sxs-lookup"><span data-stu-id="a1743-115">The memory usage counts for both CPU and GPU.</span></span> <span data-ttu-id="a1743-116">Direct3D 11 puede intercambiar la memoria de los gráficos virtuales, pero es posible que no pueda intercambiar algunos o todos los recursos de GPU de XAML, y puede haber un descenso significativo en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a1743-116">Direct3D 11 can swap virtual graphics memory, but it might not be able to swap out some or all of the XAML GPU resources, and there might be a noticeable performance hit.</span></span> <span data-ttu-id="a1743-117">En cualquier caso, si no se cargan las características de XAML que no necesite, dejará más espacio para la aplicación y proporcionará una mejor experiencia.</span><span class="sxs-lookup"><span data-stu-id="a1743-117">Either way, not loading any XAML features you don't need will leave more room for your app and provide a better experience.</span></span>

## <a name="xaml-view-switching-workflow"></a><span data-ttu-id="a1743-118">Flujo de trabajo de cambio de vista XAML</span><span class="sxs-lookup"><span data-stu-id="a1743-118">XAML view switching workflow</span></span>

<span data-ttu-id="a1743-119">El flujo de trabajo de una aplicación que va directamente desde XAML al modo inmersivo es como el siguiente:</span><span class="sxs-lookup"><span data-stu-id="a1743-119">The workflow for an app that goes directly from XAML to immersive mode is like so:</span></span>
* <span data-ttu-id="a1743-120">La aplicación se inicia en la vista XAML 2D.</span><span class="sxs-lookup"><span data-stu-id="a1743-120">The app starts up in the 2D XAML view.</span></span>
* <span data-ttu-id="a1743-121">La secuencia de inicio de XAML de la aplicación detecta si el sistema actual admite la representación holográfica:</span><span class="sxs-lookup"><span data-stu-id="a1743-121">The app’s XAML startup sequence detects if the current system supports holographic rendering:</span></span>
* <span data-ttu-id="a1743-122">Si es así, la aplicación crea la vista envolvente y la pone en primer plano de forma inmediata.</span><span class="sxs-lookup"><span data-stu-id="a1743-122">If so, the app creates the immersive view and brings it to the foreground right away.</span></span> <span data-ttu-id="a1743-123">La carga de XAML se omite para cualquier elemento que no sea necesario en dispositivos de Windows Mixed Reality, incluidas las clases de representación y la carga de recursos en la vista XAML.</span><span class="sxs-lookup"><span data-stu-id="a1743-123">XAML loading is skipped for anything not necessary on Windows Mixed Reality devices, including any rendering classes and asset loading in the XAML view.</span></span> <span data-ttu-id="a1743-124">Si la aplicación usa XAML para la entrada de teclado, la página de entrada se debe crear.</span><span class="sxs-lookup"><span data-stu-id="a1743-124">If the app is using XAML for keyboard input, that input page should still be created.</span></span>
* <span data-ttu-id="a1743-125">Si no es así, la vista XAML puede continuar con la empresa como de costumbre.</span><span class="sxs-lookup"><span data-stu-id="a1743-125">If not, the XAML view can continue with business as usual.</span></span>

## <a name="tip-for-rendering-graphics-across-both-views"></a><span data-ttu-id="a1743-126">Sugerencia para representar gráficos en ambas vistas</span><span class="sxs-lookup"><span data-stu-id="a1743-126">Tip for rendering graphics across both views</span></span>

<span data-ttu-id="a1743-127">Si la aplicación necesita implementar una cantidad de representación en DirectX para la vista XAML en Windows Mixed Reality, la mejor opción es crear un representador que pueda funcionar con ambas vistas.</span><span class="sxs-lookup"><span data-stu-id="a1743-127">If your app needs to implement some amount of rendering in DirectX for the XAML view in Windows Mixed Reality, your best bet is to create one renderer that can work with both views.</span></span> <span data-ttu-id="a1743-128">El representador debe ser una instancia a la que se pueda tener acceso desde ambas vistas y debe cambiar entre la representación 2D y holográfica.</span><span class="sxs-lookup"><span data-stu-id="a1743-128">The renderer should be one instance that can be accessed from both views, and it should switch between 2D and holographic rendering.</span></span> <span data-ttu-id="a1743-129">De esta forma, los recursos de GPU solo se cargan una vez, lo que reduce los tiempos de carga, el impacto en la memoria y la cantidad de recursos intercambiados al cambiar de vista.</span><span class="sxs-lookup"><span data-stu-id="a1743-129">This way GPU assets only load once, which reduces load times, memory impact, and the amount of swapped resources when switching views.</span></span>
