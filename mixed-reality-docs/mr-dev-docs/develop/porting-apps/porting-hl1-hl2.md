---
title: Portabilidad de aplicaciones de HoloLens (1.ª generación) a HoloLens 2
description: Diseñado para desarrolladores que ya tienen una aplicación en HoloLens (1.ª generación) o una versión anterior de MRTK, y quieren realizar la portabilidad a MRTK versión 2 y HoloLens 2.
author: hferrone
ms.author: grbury
ms.date: 07/29/2020
ms.topic: article
ms.localizationpriority: high
keywords: Windows Mixed Reality, test, MRTK, MRTK version 2, HoloLens 2, unity, porting, HoloLens 1st gen, mixed reality headset, windows mixed reality headset, virtual reality headset, migration, best practices, ARM
ms.openlocfilehash: 9d76dcdb6fedb3297a781b9bf905b9d74521ad58
ms.sourcegitcommit: 9664bcc10ed7e60f7593f3a7ae58c66060802ab1
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/01/2020
ms.locfileid: "96469732"
---
# <a name="porting-hololens-1st-gen-apps-to-hololens-2"></a><span data-ttu-id="36412-104">Portabilidad de aplicaciones de HoloLens (1.ª generación) a HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="36412-104">Porting HoloLens (1st Gen) apps to HoloLens 2</span></span>

## <a name="overview"></a><span data-ttu-id="36412-105">Introducción</span><span class="sxs-lookup"><span data-stu-id="36412-105">Overview</span></span>

<span data-ttu-id="36412-106">Esta guía está diseñada específicamente para ayudar a los desarrolladores que tienen una aplicación existente de Unity para HoloLens (1.ª generación) para realizar la portabilidad de su aplicación al dispositivo HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="36412-106">This guide is tailored to help developers with an existing Unity application for HoloLens (1st gen) port their application for the HoloLens 2 device.</span></span> <span data-ttu-id="36412-107">Hay cuatro pasos clave para portar una aplicación de Unity de HoloLens (1.ª generación) a HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="36412-107">There are four key steps to porting a HoloLens (1st gen) Unity application to HoloLens 2.</span></span> 

<span data-ttu-id="36412-108">En las secciones siguientes se detalla la información de cada fase:</span><span class="sxs-lookup"><span data-stu-id="36412-108">The sections below detail information for each stage:</span></span>

| <span data-ttu-id="36412-109">Paso 1</span><span class="sxs-lookup"><span data-stu-id="36412-109">Step 1</span></span> | <span data-ttu-id="36412-110">Paso 2</span><span class="sxs-lookup"><span data-stu-id="36412-110">Step 2</span></span> | <span data-ttu-id="36412-111">Paso 3</span><span class="sxs-lookup"><span data-stu-id="36412-111">Step 3</span></span> | <span data-ttu-id="36412-112">Paso 4</span><span class="sxs-lookup"><span data-stu-id="36412-112">Step 4</span></span> |
|----------|-------------------|-------------------|-------------------|
| ![Logotipo de Visual Studio](../images/visualstudio_logo.png) | ![Logotipo de Unity](../../design/images/logo-unity.png)| ![Icono de Unity](../unity/images/hololens2_icon.jpg) | ![Logotipo de MRTK](../../design/images/74-12.png) |
| <span data-ttu-id="36412-117">Descarga de las herramientas más recientes</span><span class="sxs-lookup"><span data-stu-id="36412-117">Download latest tools</span></span> | <span data-ttu-id="36412-118">Actualización del proyecto de Unity</span><span class="sxs-lookup"><span data-stu-id="36412-118">Update Unity Project</span></span> | <span data-ttu-id="36412-119">Compilación para ARM</span><span class="sxs-lookup"><span data-stu-id="36412-119">Compile for ARM</span></span> | <span data-ttu-id="36412-120">Migración a versión 2 de MRTK</span><span class="sxs-lookup"><span data-stu-id="36412-120">Migrate to MRTK v2</span></span>

<span data-ttu-id="36412-121">Requisitos previos:</span><span class="sxs-lookup"><span data-stu-id="36412-121">Prerequisites:</span></span>

<span data-ttu-id="36412-122">Se **recomienda encarecidamente** usar el control de código fuente para guardar una instantánea del estado original de la aplicación antes de iniciar el proceso de portabilidad.</span><span class="sxs-lookup"><span data-stu-id="36412-122">It's **highly recommended** that you use source control to save a snapshot your applications original state before starting the porting process.</span></span> <span data-ttu-id="36412-123">Además, se recomienda *guardar* estados de punto de control en varios momentos durante el proceso.</span><span class="sxs-lookup"><span data-stu-id="36412-123">Additionally, we recommend *saving* checkpoint states at various times during the process.</span></span> <span data-ttu-id="36412-124">También puede ser útil tener otra instancia de Unity de la aplicación original para comparar en paralelo durante el proceso de portabilidad.</span><span class="sxs-lookup"><span data-stu-id="36412-124">It can also be helpful to have another Unity instance of the original application to compare side-by-side during the porting process.</span></span> 

> [!NOTE]
> <span data-ttu-id="36412-125">Antes de realizar la portabilidad, asegúrate de que tienes instaladas las herramientas más recientes para el desarrollo de Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="36412-125">Before porting, ensure you have the latest tools installed for Windows Mixed Reality development.</span></span> <span data-ttu-id="36412-126">Para la mayoría de los desarrolladores de HoloLens existentes, esto implica actualizar a la versión más reciente de Visual Studio 2019 e instalar el Windows SDK adecuado.</span><span class="sxs-lookup"><span data-stu-id="36412-126">For most existing HoloLens developers, this involves updating to the latest version of Visual Studio 2019 and installing the appropriate Windows SDK.</span></span> <span data-ttu-id="36412-127">El contenido siguiente profundiza más en las diferentes versiones de Unity y la versión 2 de Mixed Reality Toolkit (MRTK).</span><span class="sxs-lookup"><span data-stu-id="36412-127">The content that follows dives further into different Unity versions and the Mixed Reality Toolkit (MRTK) Version 2.</span></span>
>
> <span data-ttu-id="36412-128">Para más información, consulta [Instalar las herramientas](../install-the-tools.md).</span><span class="sxs-lookup"><span data-stu-id="36412-128">For more information, please see [Install the tools](../install-the-tools.md).</span></span>

## <a name="migrate-project-to-the-latest-version-of-unity"></a><span data-ttu-id="36412-129">Migración del proyecto a la última versión de Unity</span><span class="sxs-lookup"><span data-stu-id="36412-129">Migrate project to the latest version of Unity</span></span>

<span data-ttu-id="36412-130">Si usa [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases) será la mejor vía de compatibilidad a largo plazo sin cambios importantes en Unity ni en MRTK.</span><span class="sxs-lookup"><span data-stu-id="36412-130">If you're using [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases) is the best long-term support path with no breaking changes in Unity or in MRTK.</span></span> <span data-ttu-id="36412-131">Debe evaluar cualquier [dependencia de complemento](https://docs.unity3d.com/Manual/Plugins.html) que exista actualmente en su proyecto, y determinar si estos archivos DLL pueden compilarse para ARM64.</span><span class="sxs-lookup"><span data-stu-id="36412-131">You should assess any [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) that currently exist in your project, and determine whether or not these DLLs can be built for ARM64.</span></span> <span data-ttu-id="36412-132">Si no se puede compilar un complemento de dependencia fuerte para ARM64, es posible que deba seguir compilando la aplicación para ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-132">If a hard dependency plugin cannot be built for ARM64, you may need to continue building your app for ARM.</span></span>

<!-- MRTK v2 always guarantees support for Unity 2018 LTS, but does not necessarily guarantee support for every iteration of Unity 2019.x.

To help clarify additional differences between [Unity 2018 LTS](https://unity3d.com/unity/qa/lts-releases) and Unity 2019.x, the following table outlines the trade-offs between the two versions. The primary difference between the two is the ability to compile for ARM64 in Unity 2019.

| Unity 2018 LTS | Unity 2019.x |
|----------|-------------------|
| ARM32 build support | ARM32 and ARM64 build support |
| Stable LTS build release | Beta stability |
| [.NET Scripting back-end](https://docs.unity3d.com/2018.4/Documentation/Manual/windowsstore-dotnet.html) *deprecated* | [.NET Scripting back-end](https://docs.unity3d.com/2018.4/Documentation/Manual/windowsstore-dotnet.html) *removed* |
| UNET Networking *deprecated* | UNET Networking *deprecated* |

-->

## <a name="update-sceneproject-settings-in-unity"></a><span data-ttu-id="36412-133">Actualización de la configuración de la escena o proyecto en Unity</span><span class="sxs-lookup"><span data-stu-id="36412-133">Update scene/project settings in Unity</span></span>

<span data-ttu-id="36412-134">Después de actualizar a [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases), se recomienda actualizar valores concretos en Unity para obtener los mejores resultados en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="36412-134">After updating to [Unity 2019 LTS](https://unity3d.com/unity/qa/lts-releases), it's recommended that you update particular settings in Unity for optimal results on the device.</span></span> <span data-ttu-id="36412-135">Estos valores se describen en detalle en [Configuración recomendada para Unity](../unity/Recommended-settings-for-Unity.md).</span><span class="sxs-lookup"><span data-stu-id="36412-135">These settings are outlined in detail under [recommended settings for Unity](../unity/Recommended-settings-for-Unity.md).</span></span>

<span data-ttu-id="36412-136">Es necesario reiterar que el [back-end de scripting de .NET](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) estará en desuso en Unity 2018 y se habrá *eliminado* en Unity 2019.</span><span class="sxs-lookup"><span data-stu-id="36412-136">It should be reiterated that the [.NET scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) is being deprecated in Unity 2018 and *removed* in Unity 2019.</span></span> <span data-ttu-id="36412-137">Es muy recomendable que los desarrolladores consideren la posibilidad de cambiar su proyecto a [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="36412-137">Developers should strongly consider switching their project to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span>

> [!NOTE]
> <span data-ttu-id="36412-138">El back-end del scripting de IL2CPP puede aumentar los tiempos de compilación de Unity a Visual Studio, y los desarrolladores deben configurar la máquina de desarrollo para [optimizar los tiempos de compilación de IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span><span class="sxs-lookup"><span data-stu-id="36412-138">IL2CPP scripting back-end can cause longer build times from Unity to Visual Studio, and developers should set up their developer machine for [optimizing IL2CPP build times](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span></span>
> <span data-ttu-id="36412-139">También puede resultar útil configurar un [servidor de caché](https://docs.unity3d.com/Manual/CacheServer.html), especialmente para los proyectos de Unity con una gran cantidad de activos (sin contar con los archivos de script), o que cambien constantemente de escenas y activos.</span><span class="sxs-lookup"><span data-stu-id="36412-139">It might also be beneficial to set up a [cache server](https://docs.unity3d.com/Manual/CacheServer.html), especially for Unity projects with a large amount of assets (excluding script files) or constantly changing scenes and assets.</span></span> <span data-ttu-id="36412-140">Al abrir un proyecto, Unity almacena los activos aplicables en un formato de la memoria caché interna en la máquina del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="36412-140">When opening a project, Unity stores qualifying assets into an internal cache format on the developer machine.</span></span> <span data-ttu-id="36412-141">Los elementos se tienen que volver a importar y a procesar cuando se modifican.</span><span class="sxs-lookup"><span data-stu-id="36412-141">Items must be re-imported and re-processed when modified.</span></span> <span data-ttu-id="36412-142">Este proceso se puede realizar una vez y guardar en un servidor de caché, de esta forma se comparte con otros desarrolladores, lo que ahorra tiempo, en lugar de que cada desarrollador tenga que procesar localmente la reimportación de los nuevos cambios.</span><span class="sxs-lookup"><span data-stu-id="36412-142">This process can be done once and saved in a cache server and consequently shared with other developers to save time, as opposed to every developer processing the re-import of new changes locally.</span></span>

<span data-ttu-id="36412-143">Después de solucionar los cambios importantes tras el cambio a la versión actualizada de Unity, los debe compilar y probar sus aplicaciones actuales en HoloLens (1.ª generación).</span><span class="sxs-lookup"><span data-stu-id="36412-143">After addressing any breaking changes from moving to the updated Unity version, you should build and test your current applications on HoloLens (1st gen).</span></span> <span data-ttu-id="36412-144">Este es un buen momento para crear y guardar una confirmación en el control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="36412-144">This is a good time to create and save a commit into source control.</span></span>

## <a name="compile-dependenciesplugins-for-arm-processor"></a><span data-ttu-id="36412-145">Compilación de dependencias/complementos para procesadores ARM</span><span class="sxs-lookup"><span data-stu-id="36412-145">Compile dependencies/plugins for ARM processor</span></span>

<span data-ttu-id="36412-146">HoloLens (1.ª generación) ejecuta las aplicaciones en un procesador x86, mientras que el dispositivo HoloLens 2 usa un procesador ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-146">HoloLens (1st gen) executes applications on an x86 processor while the HoloLens 2 uses an ARM processor.</span></span> <span data-ttu-id="36412-147">Por lo tanto, las aplicaciones de HoloLens existentes se tienen que portar para admitir ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-147">Therefore, existing HoloLens applications need to be ported over to support ARM.</span></span> <span data-ttu-id="36412-148">Como se indicó anteriormente, Unity 2018 LTS admite la compilación para las aplicaciones de ARM32, mientras que Unity 2019.x admite la compilación para las aplicaciones de ARM32 y ARM64.</span><span class="sxs-lookup"><span data-stu-id="36412-148">As noted earlier, Unity 2018 LTS supports compiling ARM32 apps while Unity 2019.x supports compiling ARM32 and ARM64 apps.</span></span> <span data-ttu-id="36412-149">Es preferible desarrollar para aplicaciones de ARM64 porque hay una diferencia sustancial en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="36412-149">Developing for ARM64 applications is preferred, as there is a material difference in performance.</span></span> <span data-ttu-id="36412-150">Sin embargo, esto requiere que todas [las dependencias de complemento](https://docs.unity3d.com/Manual/Plugins.html) se compilen también para ARM64.</span><span class="sxs-lookup"><span data-stu-id="36412-150">However, this requires all [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) to also be built for ARM64.</span></span>

<span data-ttu-id="36412-151">Revisa todas las dependencias DLL en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="36412-151">Review all DLL dependencies in your application.</span></span> <span data-ttu-id="36412-152">Es aconsejable quitar cualquier dependencia que ya no sea necesaria del proyecto.</span><span class="sxs-lookup"><span data-stu-id="36412-152">It is advisable to remove any dependency that is no longer needed from your project.</span></span> <span data-ttu-id="36412-153">Para el resto de complementos que son necesarios, se deben ingerir los respectivos archivos binarios de ARM32 o ARM64 en el proyecto de Unity.</span><span class="sxs-lookup"><span data-stu-id="36412-153">For remaining plugins that are required, ingest the respective ARM32 or ARM64 binaries into your Unity project.</span></span>

<span data-ttu-id="36412-154">Tras la ingesta de los archivos DLL pertinentes, crea una solución de Visual Studio desde Unity y, a continuación, compila un AppX para ARM en Visual Studio para probar que la aplicación se puede compilar para procesadores ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-154">After ingesting the relevant DLLs, build a Visual Studio solution from Unity and then compile an AppX for ARM in Visual Studio to test that your application can be built for ARM processors.</span></span> <span data-ttu-id="36412-155">Se recomienda guardar la aplicación como una confirmación en la solución de control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="36412-155">It is advised to save the application as a commit in your source control solution.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="36412-156">La aplicación que usa MRTK v1 puede ejecutarse en HoloLens 2 después de cambiar el destino de compilación a ARM, suponiendo que se cumplen todos los demás requisitos.</span><span class="sxs-lookup"><span data-stu-id="36412-156">Application's using MRTK v1 can be run on HoloLens 2 after changing the build target to ARM, assuming that all other requirements are met.</span></span> <span data-ttu-id="36412-157">Esto incluye asegurarse de que tiene versiones ARM de todos los complementos.</span><span class="sxs-lookup"><span data-stu-id="36412-157">This includes making sure you have ARM versions of all your plugins.</span></span> <span data-ttu-id="36412-158">Sin embargo, la aplicación no tendrá acceso a funciones específicas de HoloLens 2, como el seguimiento de la mano articulada y el ojo.</span><span class="sxs-lookup"><span data-stu-id="36412-158">However, your app won't have access to HoloLens 2 specific functions like articulated hand and eye tracking.</span></span> <span data-ttu-id="36412-159">MRTK v1 y MRTK v2 tienen distintos espacios de nombres que permiten que ambas versiones estén en el mismo proyecto, lo que resulta útil para realizar la transición de una a otra.</span><span class="sxs-lookup"><span data-stu-id="36412-159">MRTK v1 and MRTK v2 have different namespaces that allow both versions to be in the same project, which is useful for transitioning from one to the other.</span></span>

## <a name="update-to-mrtk-version-2"></a><span data-ttu-id="36412-160">Actualización a la versión 2 de MRTK</span><span class="sxs-lookup"><span data-stu-id="36412-160">Update to MRTK version 2</span></span>

<span data-ttu-id="36412-161">[MRTK versión 2](https://github.com/microsoft/MixedRealityToolkit-Unity) es el nuevo kit de herramientas además de Unity que admite tanto HoloLens (1.ª generación) como HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="36412-161">[MRTK Version 2](https://github.com/microsoft/MixedRealityToolkit-Unity) is the new toolkit on top of Unity that supports both HoloLens (1st gen) and HoloLens 2.</span></span> <span data-ttu-id="36412-162">También es donde se han agregado todas las nuevas funcionalidades de HoloLens 2, como las interacciones de mano y el seguimiento de los ojos.</span><span class="sxs-lookup"><span data-stu-id="36412-162">It is also where all the new HoloLens 2 capabilities have been added, such as hand interactions and eye tracking.</span></span>

<span data-ttu-id="36412-163">Consulte los recursos siguientes para obtener más información sobre el uso de la versión 2 de MRTK:</span><span class="sxs-lookup"><span data-stu-id="36412-163">Check out the following resources for more information on using MRTK version 2:</span></span>

- [<span data-ttu-id="36412-164">MRTK: Página principal de documentación (GitHub)</span><span class="sxs-lookup"><span data-stu-id="36412-164">MRTK - Documentation home (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html)
- [<span data-ttu-id="36412-165">Guía de instalación (GitHub)</span><span class="sxs-lookup"><span data-stu-id="36412-165">Installation guide (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Installation.html)
- [<span data-ttu-id="36412-166">MRTK: Seguimiento de manos (GitHub)</span><span class="sxs-lookup"><span data-stu-id="36412-166">MRTK - Hand tracking (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/HandTracking.html)
- [<span data-ttu-id="36412-167">MRTK: Seguimiento ocular (GitHub)</span><span class="sxs-lookup"><span data-stu-id="36412-167">MRTK - Eye tracking (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/EyeTracking/EyeTracking_Main.html)

### <a name="prepare-for-the-migration"></a><span data-ttu-id="36412-168">Preparación para la migración</span><span class="sxs-lookup"><span data-stu-id="36412-168">Prepare for the migration</span></span>

<span data-ttu-id="36412-169">Antes de realizar la ingesta de los nuevos [archivos \*.unitypackage para la versión 2 de MRTK](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), se recomienda realizar un inventario de **1) cualquier código personalizado que se integre con la versión 1 de MRTK** y **2) cualquier código personalizado para las interacciones de entrada o componentes de la experiencia de usuario**.</span><span class="sxs-lookup"><span data-stu-id="36412-169">Before ingesting the new [\*.unitypackage files for MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), it is recommended to take an inventory of **1) any custom-built code that integrates with MRTK v1** and **2) any custom-built code for input interactions or UX components**.</span></span> <span data-ttu-id="36412-170">El conflicto más común y que se da con más frecuencia para un desarrollador de realidad mixta en relación con la ingesta de la versión 2 de MRTK tiene que ver con las entradas y las interacciones.</span><span class="sxs-lookup"><span data-stu-id="36412-170">The most common and prevalent conflict for a mixed reality developer ingesting MRTK v2 involves input and interactions.</span></span> <span data-ttu-id="36412-171">Se recomienda comenzar con la lectura y comprensión del [modelo de entrada de la versión 2 de MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span><span class="sxs-lookup"><span data-stu-id="36412-171">It is advised to begin reading and understanding the [MRTK v2 input model](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span></span>

<span data-ttu-id="36412-172">Por último, la nueva [versión 2 de MRTK](https://github.com/microsoft/MixedRealityToolkit-Unity) ha pasado de un modelo de scripts y objetos de administrador en la escena a una arquitectura de configuración y proveedor de servicios.</span><span class="sxs-lookup"><span data-stu-id="36412-172">Finally, the new [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) has transitioned from a model of scripts and in-scene manager objects to a configuration and services provider architecture.</span></span> <span data-ttu-id="36412-173">Esto da como resultado un modelo de arquitectura y jerarquía de escena más limpio, pero requiere una curva de aprendizaje para comprender los nuevos perfiles de configuración.</span><span class="sxs-lookup"><span data-stu-id="36412-173">This results in a cleaner scene hierarchy and architecture model, but requires a learning curve for understanding the new configuration profiles.</span></span> <span data-ttu-id="36412-174">Por ello, debes leer [Mixed Reality Toolkit Configuration Guide](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) (Guía de configuración de Mixed Reality Toolkit) para comenzar a familiarizarte con los perfiles y opciones importantes para ajustar a las necesidades de tu aplicación.</span><span class="sxs-lookup"><span data-stu-id="36412-174">Thus, please read the [Mixed Reality Toolkit Configuration Guide](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) to start becoming familiar with the important settings and profiles to adjust to the needs of your application.</span></span>

### <a name="perform-the-migration"></a><span data-ttu-id="36412-175">Realización de la migración</span><span class="sxs-lookup"><span data-stu-id="36412-175">Perform the migration</span></span>

<span data-ttu-id="36412-176">Después de importar [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), el proyecto de Unity probablemente tenga muchos errores relacionados con el compilador.</span><span class="sxs-lookup"><span data-stu-id="36412-176">After importing [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), your Unity project most likely has many compiler-related errors.</span></span> <span data-ttu-id="36412-177">Generalmente estos errores se deben a la nueva estructura de espacio de nombres y los nuevos nombres de componente.</span><span class="sxs-lookup"><span data-stu-id="36412-177">These are commonly due to the new namespace structure and new component names.</span></span> <span data-ttu-id="36412-178">Resuelve estos errores mediante la modificación de los scripts con los nuevos espacios de nombres y componentes.</span><span class="sxs-lookup"><span data-stu-id="36412-178">Proceed to resolve these errors by modifying your scripts to the new namespaces and components.</span></span>

<span data-ttu-id="36412-179">Para más información sobre las diferencias de API específicas entre HTK/MRTK y MRTK v2, consulta la guía de migración en la [wiki de la versión 2 de MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span><span class="sxs-lookup"><span data-stu-id="36412-179">For information on the specific API differences between HTK/MRTK and MRTK v2, see the porting guide on the [MRTK Version 2 wiki](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span></span>

### <a name="best-practices"></a><span data-ttu-id="36412-180">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="36412-180">Best practices</span></span>

- <span data-ttu-id="36412-181">Da preferencia al uso del [sombreador MRTK Standard](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_MRTKStandardShader.html).</span><span class="sxs-lookup"><span data-stu-id="36412-181">Prefer use of the [MRTK standard shader](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_MRTKStandardShader.html).</span></span>
- <span data-ttu-id="36412-182">Trabaja en un solo tipo de cambio importante a la vez (por ejemplo: IFocusable a [IMixedRealityFocusHandler](https://microsoft.github.io/MixedRealityToolkit-Unity/api/Microsoft.MixedReality.Toolkit.Input.IMixedRealityFocusHandler.html)).</span><span class="sxs-lookup"><span data-stu-id="36412-182">Work on one breaking change type at a time (ex: IFocusable to [IMixedRealityFocusHandler](https://microsoft.github.io/MixedRealityToolkit-Unity/api/Microsoft.MixedReality.Toolkit.Input.IMixedRealityFocusHandler.html)).</span></span>
- <span data-ttu-id="36412-183">Haz una prueba después de cada cambio y usa el control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="36412-183">Test after every change and use source control.</span></span>
- <span data-ttu-id="36412-184">Use experiencias de usuario de MRTK predeterminadas (botones, tabletas táctiles, etc.) cuando sea posible.</span><span class="sxs-lookup"><span data-stu-id="36412-184">Use default MRTK UX (buttons, slates, etc.), when possible.</span></span>
- <span data-ttu-id="36412-185">Intenta evitar la modificación de los archivos de MRTK directamente; en su lugar, crea contenedores en torno a los componentes de MRTK.</span><span class="sxs-lookup"><span data-stu-id="36412-185">Refrain from modifying MRTK files directly; create wrappers around MRTK components.</span></span>
    - <span data-ttu-id="36412-186">Esta acción facilita las futuras ingestas y actualizaciones de MRTK.</span><span class="sxs-lookup"><span data-stu-id="36412-186">This action eases future MRTK ingestions and updates.</span></span>
- <span data-ttu-id="36412-187">Revisa y explora escenas de ejemplo proporcionadas en MRTK (especialmente *HandInteractionExamples.scene*).</span><span class="sxs-lookup"><span data-stu-id="36412-187">Review and explore sample scenes provided in the MRTK, especially *HandInteractionExamples.scene*.</span></span>
- <span data-ttu-id="36412-188">Vuelve a generar la interfaz de usuario basada en lienzo con cuadrángulos, colisionadores y texto TextMeshPro.</span><span class="sxs-lookup"><span data-stu-id="36412-188">Rebuild canvas-based UI with quads, colliders, and TextMeshPro text.</span></span>
- <span data-ttu-id="36412-189">Habilita el [uso compartido del búfer de profundidad](../unity/camera-in-unity.md#sharing-your-depth-buffers-with-windows) o [establece el punto de enfoque](../unity/focus-point-in-unity.md); es preferible usar un búfer de profundidad de 16 bits para mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="36412-189">Enable [Depth Buffer Sharing](../unity/camera-in-unity.md#sharing-your-depth-buffers-with-windows) or [set focus point](../unity/focus-point-in-unity.md); prefer to use a 16-bit depth buffer for better performance.</span></span> <span data-ttu-id="36412-190">Al representar el color, asegúrate de representar también la profundidad.</span><span class="sxs-lookup"><span data-stu-id="36412-190">Ensure when rendering color, to also render depth.</span></span> <span data-ttu-id="36412-191">Por lo general, Unity no escribe la profundidad de objetos GameObject de texto y transparentes.</span><span class="sxs-lookup"><span data-stu-id="36412-191">Unity generally does not write depth for transparent and text gameobjects.</span></span> 
- <span data-ttu-id="36412-192">Establece la ruta de representación de instancia de paso único.</span><span class="sxs-lookup"><span data-stu-id="36412-192">Set Single Pass Instanced Rendering Path.</span></span>
- <span data-ttu-id="36412-193">Usa el [perfil de configuración de HoloLens 2 para MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Profiles/Profiles.html#hololens-2-profile)</span><span class="sxs-lookup"><span data-stu-id="36412-193">Utilize the [HoloLens 2 configuration profile for MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Profiles/Profiles.html#hololens-2-profile)</span></span>

### <a name="testing-your-application"></a><span data-ttu-id="36412-194">Prueba de la aplicación</span><span class="sxs-lookup"><span data-stu-id="36412-194">Testing your application</span></span>

<span data-ttu-id="36412-195">En MRTK versión 2, puedes simular las interacciones con las manos directamente en Unity, así como desarrollar con las nuevas API para las interacciones con las manos y el seguimiento de los ojos.</span><span class="sxs-lookup"><span data-stu-id="36412-195">In MRTK Version 2, you can simulate hand interactions directly in Unity as well as develop with the new APIs for hand interactions and eye tracking.</span></span> <span data-ttu-id="36412-196">El dispositivo HoloLens 2 es necesario para crear una experiencia de usuario satisfactoria.</span><span class="sxs-lookup"><span data-stu-id="36412-196">The HoloLens 2 device is required to create a satisfying user experience.</span></span> <span data-ttu-id="36412-197">Se recomienda empezar examinando la documentación y las herramientas para mejorar la comprensión.</span><span class="sxs-lookup"><span data-stu-id="36412-197">You are encouraged to start studying the documentation and tools for greater understanding.</span></span> <span data-ttu-id="36412-198">La [versión 2 de MRTK](https://github.com/microsoft/MixedRealityToolkit-Unity) admite el desarrollo en HoloLens (1.ª generación) y los modelos de entrada tradicionales, como la selección mediante pulsación en el aire, se pueden probar en los dispositivos HoloLens (1.ª generación).</span><span class="sxs-lookup"><span data-stu-id="36412-198">[MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) supports development on HoloLens (1st gen) and traditional input models, such as select via air-tap can be tested on HoloLens (1st gen).</span></span> 

## <a name="updating-your-interaction-model-for-hololens-2"></a><span data-ttu-id="36412-199">Actualización del modelo de interacción para HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="36412-199">Updating your interaction model for HoloLens 2</span></span>

> [!CAUTION]
> <span data-ttu-id="36412-200">Si el proyecto usa cualquiera de las API XR.WSA, tenga en cuenta que se van a retirar gradualmente en favor de las nuevas API de entrada de XR de Unity en futuras versiones de Unity.</span><span class="sxs-lookup"><span data-stu-id="36412-200">If your project is using any of the XR.WSA APIs, these are being phased out in favor of Unity's new XR input APIs in future Unity releases.</span></span> <span data-ttu-id="36412-201">Puede encontrar más información sobre estas las [API de entrada de XR aquí](https://docs.unity3d.com/Manual/xr_input.html).</span><span class="sxs-lookup"><span data-stu-id="36412-201">You can find more information about the [XR input APIs here](https://docs.unity3d.com/Manual/xr_input.html).</span></span>

<span data-ttu-id="36412-202">Una vez que la aplicación está portada y preparada para HoloLens 2, ya estás listo para considerar la actualización de las ubicaciones del diseño del holograma y del modelo.</span><span class="sxs-lookup"><span data-stu-id="36412-202">Once your application is ported and prepped for HoloLens 2, you're ready to consider updating your interaction model and hologram design placements.</span></span>
<span data-ttu-id="36412-203">En HoloLens (1ª generación), es muy posible que tu aplicación tenga un modelo de interacción de mirada y confirmación con hologramas relativamente lejanos para encajar en el campo de visión.</span><span class="sxs-lookup"><span data-stu-id="36412-203">In HoloLens (1st gen), your application likely has a gaze and commit interaction model with holograms relatively far away to fit into the field of view.</span></span>

<span data-ttu-id="36412-204">Pasos para actualizar el diseño de la aplicación al diseño más adecuado para HoloLens 2:</span><span class="sxs-lookup"><span data-stu-id="36412-204">Steps to update your application design to be best suited for HoloLens 2:</span></span>
1.  <span data-ttu-id="36412-205">Componentes de MRTK: por el trabajo previo, si agregas la [versión 2 de MRTK](https://github.com/microsoft/MixedRealityToolkit-Unity), hay varios componentes o scripts para aprovechar que se han diseñado y optimizado para HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="36412-205">MRTK components: Per the pre-work, if you added [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), there are various components/scripts to leverage that have been designed and optimized for HoloLens 2.</span></span>

2.  <span data-ttu-id="36412-206">Modelo de interacción: Plantéate la posibilidad de actualizar el modelo de interacción.</span><span class="sxs-lookup"><span data-stu-id="36412-206">Interaction model: Consider updating your interaction model.</span></span> <span data-ttu-id="36412-207">Para la mayoría de los escenarios, se recomienda cambiar de mirada y confirmación a interacciones con las manos.</span><span class="sxs-lookup"><span data-stu-id="36412-207">For most scenarios, we recommend switching from gaze and commit to hands.</span></span> <span data-ttu-id="36412-208">Con tus hologramas normalmente fuera del alcance de la mano, el cambio a las entradas de interacción con las manos produce gestos de agarre y haces apuntadores de interacción lejana.</span><span class="sxs-lookup"><span data-stu-id="36412-208">With your holograms typically being out of arms-reach, switching to hands results in far interaction pointing rays and grab gestures.</span></span>

3.  <span data-ttu-id="36412-209">Ubicación de hologramas: después de cambiar a un modelo de interacción con las manos, considera la posibilidad de acercar algunos hologramas para interactuar directamente con ellos, utilizando gestos de agarre de interacción cercana con las manos.</span><span class="sxs-lookup"><span data-stu-id="36412-209">Hologram placement: After switching to a hands interaction model, consider moving some holograms closer to directly interact with them, by using near-interaction grab gestures with your hands.</span></span> <span data-ttu-id="36412-210">Los tipos de hologramas recomendados para el acercamiento que te permita agarrar o interactuar directamente, son los menús de destino pequeños, controles, botones y los hologramas más pequeños que caben dentro del campo de visión de HoloLens 2 al agarrar e inspeccionar el holograma.</span><span class="sxs-lookup"><span data-stu-id="36412-210">The types of holograms recommended to move closer to directly grab or interact are small target menus, controls, buttons, and smaller holograms that fit within the HoloLens 2 field of view when grabbing and inspecting the hologram.</span></span>
<br>
<span data-ttu-id="36412-211">Cada aplicación y escenario son diferentes, y vamos a seguir mejorando y publicando instrucciones para el diseño basadas en comentarios y en lo que vamos aprendiendo cada día.</span><span class="sxs-lookup"><span data-stu-id="36412-211">Every application and scenario are different, and we’ll continue to refine and post design guidance based on feedback and continued learnings.</span></span>


## <a name="additional-caveats-and-learnings-about-moving-applications-from-x86-to-arm"></a><span data-ttu-id="36412-212">Advertencias y aprendizajes adicionales sobre cómo mover aplicaciones de x86 a ARM</span><span class="sxs-lookup"><span data-stu-id="36412-212">Additional caveats and learnings about moving applications from x86 to ARM</span></span>

- <span data-ttu-id="36412-213">Las aplicaciones directas de Unity son sencillas porque puedes compilar un paquete de aplicaciones de ARM o realizar la implementación directamente en el dispositivo para que se ejecute la agrupación.</span><span class="sxs-lookup"><span data-stu-id="36412-213">Straight-forward Unity applications are simple because you can build an ARM application bundle or deploy directly to the device for the bundle to run.</span></span> <span data-ttu-id="36412-214">Algunos complementos nativos de Unity pueden presentar ciertos desafíos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="36412-214">Some Unity native plugins can present certain development challenges.</span></span> <span data-ttu-id="36412-215">Por este motivo, debes actualizar todos los complementos nativos de Unity a Visual Studio 2019 y, a continuación, volver a generarlos para ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-215">Because of this, you must upgrade all Unity native plugins to Visual Studio 2019 and then rebuild for ARM.</span></span>

- <span data-ttu-id="36412-216">Una aplicación usó el complemento AudioKinetic Wwise de Unity y esa versión de Unity no tenía ningún complemento de ARM para UWP, lo que exigió un esfuerzo considerable para volver a crear las funcionalidades de sonido en la aplicación en cuestión para su ejecución en ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-216">One application used the Unity AudioKinetic Wwise plugin and that version of Unity did not have a UWP ARM plugin, which caused a considerable effort to rework sound capabilities into the application in question to run on ARM.</span></span> <span data-ttu-id="36412-217">Asegúrate de que todos los complementos necesarios para tus planes de desarrollo están instalados y disponibles en Unity.</span><span class="sxs-lookup"><span data-stu-id="36412-217">Ensure that all required plugins for your development plans are installed and available in Unity.</span></span>

- <span data-ttu-id="36412-218">En algunos casos, puede que no exista un complemento de UWP/ARM para los complementos necesarios para la aplicación, lo que bloquea la capacidad de portar la aplicación y ejecutarla en HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="36412-218">In some cases, a UWP/ARM plugin might not exist for application-required plugins, which blocks the ability to port the application and run it on HoloLens 2.</span></span> <span data-ttu-id="36412-219">Ponte en contacto con tu proveedor de complementos para resolver el problema y obtener compatibilidad con ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-219">Contact your plugin provider to resolve the issue and provide support for ARM.</span></span>

- <span data-ttu-id="36412-220">El comando minfloat (y sus variantes, como min16float, minint, etc.) puede comportarse en los sombreadores de manera diferente en HoloLens 2 a como lo hacía en HoloLens (1.ª generación).</span><span class="sxs-lookup"><span data-stu-id="36412-220">The minfloat (and variants such as min16float, minint, etc.…) in shaders might behave differently on HoloLens 2 than on HoloLens (1st gen).</span></span> <span data-ttu-id="36412-221">En concreto, estos garantizan que se utilizará al menos el número especificado de bits.</span><span class="sxs-lookup"><span data-stu-id="36412-221">Specifically, these guarantee that at least the specified number of bits will be used.</span></span> <span data-ttu-id="36412-222">En las GPU de Nvidia/Intel, se tratan generalmente como de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="36412-222">On Intel/Nvidia GPUs, these are largely treated as 32 bits.</span></span> <span data-ttu-id="36412-223">En ARM, el número de bits especificado se respeta.</span><span class="sxs-lookup"><span data-stu-id="36412-223">On ARM, the number of bits specified is actually adhered to.</span></span> <span data-ttu-id="36412-224">En la práctica, esto significa que estos números pueden tener menos precisión o rango en HoloLens 2 del que tenían en HoloLens (1.ª generación).</span><span class="sxs-lookup"><span data-stu-id="36412-224">That means in practice, these numbers might have less precision or range on HoloLens 2 than they did on HoloLens (1st gen).</span></span>

- <span data-ttu-id="36412-225">Las instrucciones _asm no parecen funcionar en ARM, lo que significa que cualquier código con instrucciones _asm tiene que volverse a escribir.</span><span class="sxs-lookup"><span data-stu-id="36412-225">The _asm instructions don’t appear to work on ARM, meaning any code using _asm instructions must be rewritten.</span></span>

- <span data-ttu-id="36412-226">La instrucción SIMD establecida no se admite en ARM porque diferentes encabezados, como xmmintrin.h, emmintrin.h, tmmintrin.h e immintrin.h, no están disponibles en ARM.</span><span class="sxs-lookup"><span data-stu-id="36412-226">The SIMD instruction set is not supported on ARM because various headers, such as xmmintrin.h, emmintrin.h, tmmintrin.h, and immintrin.h, are not available on ARM.</span></span>

- <span data-ttu-id="36412-227">El compilador del sombreador en ARM se ejecuta durante la primera llamada draw, después de que el sombreador se haya cargado, o algo en lo que se basa sombreador haya cambiado, no en el tiempo de carga de sombreador.</span><span class="sxs-lookup"><span data-stu-id="36412-227">The shader compiler on ARM runs during the first draw call after the shader has been loaded or something the shader relies on has changed, not at shader load time.</span></span> <span data-ttu-id="36412-228">El impacto en la velocidad de fotogramas puede ser notable, dependiendo de cuántos sombreadores tengan que compilarse.</span><span class="sxs-lookup"><span data-stu-id="36412-228">The impact on framerate can be noticeable, depending on how many shaders need to be compiled.</span></span> <span data-ttu-id="36412-229">Esto cambia la forma de controlar, empaquetar o actualizar los sombreadores en HoloLens 2 en comparación con HoloLens (1.ª generación).</span><span class="sxs-lookup"><span data-stu-id="36412-229">This has various implications for how shaders should be handled, packaged, updated differently on HoloLens 2 vs HoloLens (1st gen).</span></span>

## <a name="see-also"></a><span data-ttu-id="36412-230">Consulta también</span><span class="sxs-lookup"><span data-stu-id="36412-230">See also</span></span>
* [<span data-ttu-id="36412-231">Instalación de las herramientas</span><span class="sxs-lookup"><span data-stu-id="36412-231">Install the tools</span></span>](../install-the-tools.md)
* [<span data-ttu-id="36412-232">MRTK: Guía de instalación (GitHub)</span><span class="sxs-lookup"><span data-stu-id="36412-232">MRTK - Installation guide (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Installation.html)
* [<span data-ttu-id="36412-233">MRTK: Página principal de documentación (GitHub)</span><span class="sxs-lookup"><span data-stu-id="36412-233">MRTK - Documentation home (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html)
* [<span data-ttu-id="36412-234">Migración de HoloToolkit/MRTK a MRTK, versión 2 (GitHub)</span><span class="sxs-lookup"><span data-stu-id="36412-234">Porting from HoloToolkit/MRTK to MRTK version 2 (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html)
* [<span data-ttu-id="36412-235">Configuración recomendada para Unity</span><span class="sxs-lookup"><span data-stu-id="36412-235">Recommended settings for Unity</span></span>](../unity/recommended-settings-for-unity.md)
* [<span data-ttu-id="36412-236">Análisis de rendimiento de la realidad mixta</span><span class="sxs-lookup"><span data-stu-id="36412-236">Understanding performance for Mixed Reality</span></span>](../platform-capabilities-and-apis/understanding-performance-for-mixed-reality.md)

