---
title: Procedimientos recomendados Visual Studio Unity y Visual Studio
description: Sugerencias y trucos para simplificar el flujo de trabajo de creación de una aplicación de realidad mixta con Unity y Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: deploy, unity, visual studio, HoloLens, HoloLens 2, casco envolvente, procedimientos recomendados, casco de realidad mixta, casco de realidad mixta de Windows, casco de realidad virtual, UWP, Visual Studio Tools, Windows SDK
ms.openlocfilehash: edd79b95d02cfeb1da4effc485fc57078e3d24a3
ms.sourcegitcommit: 12ea3fb2df4664c5efd07dcbb9040c2ff173afb6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/29/2021
ms.locfileid: "113042266"
---
# <a name="best-practices-for-working-with-unity-and-visual-studio"></a><span data-ttu-id="7eadf-104">Procedimientos recomendados para trabajar con Unity y Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7eadf-104">Best practices for working with Unity and Visual Studio</span></span>

<span data-ttu-id="7eadf-105">Al crear una aplicación de realidad mixta con Unity, debe cambiar entre Unity y Visual Studio para compilar e implementar el paquete de aplicación en HoloLens o un casco envolvente.</span><span class="sxs-lookup"><span data-stu-id="7eadf-105">When you're creating a mixed reality application with Unity, you need to switch between Unity and Visual Studio to build and deploy the app package to HoloLens or an immersive headset.</span></span> <span data-ttu-id="7eadf-106">De forma predeterminada, se requieren dos instancias de Visual Studio, una instancia para modificar scripts de Unity y otra para implementar en el dispositivo y depurar.</span><span class="sxs-lookup"><span data-stu-id="7eadf-106">By default, two instances of Visual Studio are required - one instance to modify Unity scripts and another to deploy to the device and debug.</span></span> <span data-ttu-id="7eadf-107">Las instrucciones siguientes le permiten desarrollar con una única instancia de Visual Studio, lo que reduce la frecuencia de exportación de proyectos de Unity y mejora la experiencia de depuración.</span><span class="sxs-lookup"><span data-stu-id="7eadf-107">The following instructions let you develop using a single Visual Studio instance, reducing the frequency of exporting Unity projects and improves the debugging experience.</span></span>

## <a name="improving-iteration-time"></a><span data-ttu-id="7eadf-108">Mejora del tiempo de iteración</span><span class="sxs-lookup"><span data-stu-id="7eadf-108">Improving iteration time</span></span>

<span data-ttu-id="7eadf-109">La compatibilidad con el back-end de scripting de .NET en Unity quedó en desuso en Unity 2018 y se quitó a partir de Unity 2019 y posteriores, por lo que se recomienda cambiar a [IL2CPP.](https://docs.unity3d.com/Manual/IL2CPP.html)</span><span class="sxs-lookup"><span data-stu-id="7eadf-109">Support for .NET scripting back-end in Unity was deprecated in Unity 2018 and removed as of Unity 2019+, so we recommend you switch to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> <span data-ttu-id="7eadf-110">Sin embargo, puede experimentar tiempos de compilación más largos de Unity a Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7eadf-110">However, you may experience longer build times from Unity to Visual Studio.</span></span> <span data-ttu-id="7eadf-111">Para mejorar la iteración más rápida, configure el entorno para obtener los mejores resultados de compilación:</span><span class="sxs-lookup"><span data-stu-id="7eadf-111">To improve for faster iteration, set up your environment for best compilation results:</span></span>

1) <span data-ttu-id="7eadf-112">Use la compilación incremental mediante la compilación del proyecto en el mismo directorio cada vez, y vuelva a usar allí los archivos pre-creados.</span><span class="sxs-lookup"><span data-stu-id="7eadf-112">Use incremental building by building your project to the same directory every time, reusing the pre-built files there</span></span>
2) <span data-ttu-id="7eadf-113">Deshabilitación de exámenes de software antimalware para el proyecto & carpetas de compilación</span><span class="sxs-lookup"><span data-stu-id="7eadf-113">Disable anti-malware software scans for your project & build folders</span></span>
   - <span data-ttu-id="7eadf-114">Abra **Protección contra & virus en** la aplicación de Windows 10 protección contra amenazas</span><span class="sxs-lookup"><span data-stu-id="7eadf-114">Open **Virus & threat protection** under your Windows 10 settings app</span></span>
   - <span data-ttu-id="7eadf-115">Seleccione **Manage Settings (Administrar configuración)** **en Virus & threat protection settings (Configuración de protección contra amenazas de virus).**</span><span class="sxs-lookup"><span data-stu-id="7eadf-115">Select **Manage Settings** under **Virus & threat protection settings**</span></span>
   - <span data-ttu-id="7eadf-116">Seleccione **Agregar o quitar exclusiones en** la sección **Exclusiones.**</span><span class="sxs-lookup"><span data-stu-id="7eadf-116">Select **Add or remove exclusions** under the **Exclusions** section</span></span>
   - <span data-ttu-id="7eadf-117">Seleccione **Agregar una exclusión** y seleccione la carpeta que contiene el código del proyecto de Unity y las salidas de compilación.</span><span class="sxs-lookup"><span data-stu-id="7eadf-117">Select **Add an exclusion** and select the folder containing your Unity project code and build outputs</span></span>
3) <span data-ttu-id="7eadf-118">Uso de un SSD para la creación</span><span class="sxs-lookup"><span data-stu-id="7eadf-118">Use an SSD for building</span></span>

<span data-ttu-id="7eadf-119">Consulte [Optimizing Build Times for IL2CPP (Optimización](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) de los tiempos de compilación para IL2CPP) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="7eadf-119">Review [Optimizing Build Times for IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) for more info.</span></span> <span data-ttu-id="7eadf-120">Además, revise [Depuración en el back-end de scripting il2CPP](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span><span class="sxs-lookup"><span data-stu-id="7eadf-120">Also, review [Debugging on IL2CPP Scripting Back-end](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span></span>

<span data-ttu-id="7eadf-121">Considere la posibilidad de [ *instalar la extensión de Visual Studio UnityScriptAnalyzer*](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="7eadf-121">Consider installing the [*UnityScriptAnalyzer* Visual Studio extension](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span></span> <span data-ttu-id="7eadf-122">Esta herramienta analiza los scripts de C# de Unity en busca de código que se pueda escribir de una manera más optimizada.</span><span class="sxs-lookup"><span data-stu-id="7eadf-122">This tool analyzes your Unity C# scripts for code that can be written in a more optimized manner.</span></span>

## <a name="visual-studio-tools-for-unity"></a><span data-ttu-id="7eadf-123">Visual Studio Tools para Unity</span><span class="sxs-lookup"><span data-stu-id="7eadf-123">Visual Studio Tools for Unity</span></span>

<span data-ttu-id="7eadf-124">Descargar [Visual Studio Tools para Unity](/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity)</span><span class="sxs-lookup"><span data-stu-id="7eadf-124">Download [Visual Studio Tools for Unity](/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity)</span></span>

<span data-ttu-id="7eadf-125">**Ventajas de Visual Studio Tools para Unity**</span><span class="sxs-lookup"><span data-stu-id="7eadf-125">**Benefits of Visual Studio Tools for Unity**</span></span>
* <span data-ttu-id="7eadf-126">Depure el modo de reproducción en el editor de Unity Visual Studio colocando puntos de interrupción, evaluando variables y expresiones complejas.</span><span class="sxs-lookup"><span data-stu-id="7eadf-126">Debug Unity in-editor play mode from Visual Studio by putting breakpoints, evaluating variables and complex expressions.</span></span>
* <span data-ttu-id="7eadf-127">Use el Explorador de proyectos de Unity para buscar el script con la misma jerarquía exacta que muestra Unity.</span><span class="sxs-lookup"><span data-stu-id="7eadf-127">Use the Unity Project Explorer to find your script with the exact same hierarchy that Unity displays.</span></span>
* <span data-ttu-id="7eadf-128">Obtenga la consola de Unity directamente dentro de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7eadf-128">Get the Unity console directly inside Visual Studio.</span></span>
* <span data-ttu-id="7eadf-129">Use asistentes para crear o navegar rápidamente a scripts.</span><span class="sxs-lookup"><span data-stu-id="7eadf-129">Use wizards to quickly create or navigate to scripts.</span></span>

## <a name="expose-c-class-variables-for-easy-tuning"></a><span data-ttu-id="7eadf-130">Exposición de variables de clase de C# para facilitar el ajuste</span><span class="sxs-lookup"><span data-stu-id="7eadf-130">Expose C# class variables for easy tuning</span></span>

<span data-ttu-id="7eadf-131">Hay dos maneras de exponer variables de clase.</span><span class="sxs-lookup"><span data-stu-id="7eadf-131">There are two ways to expose class variables.</span></span> <span data-ttu-id="7eadf-132">La manera recomendada es agregar el atributo [SerializeField] a las variables privadas.</span><span class="sxs-lookup"><span data-stu-id="7eadf-132">The recommended way is to add the [SerializeField] attribute to your private variables.</span></span> <span data-ttu-id="7eadf-133">Se puede acceder a los campos serializados desde el editor, pero no se pueden exponer mediante programación.</span><span class="sxs-lookup"><span data-stu-id="7eadf-133">Serialized fields can be accessed from the editor but not programmatically exposed.</span></span>  <span data-ttu-id="7eadf-134">La otra opción es hacer públicas las variables de clase de C# para exponerlas en la interfaz de usuario del editor.</span><span class="sxs-lookup"><span data-stu-id="7eadf-134">The other option is to make C# class variables public to expose them in the editor UI.</span></span> 

<span data-ttu-id="7eadf-135">Ambos enfoques hacen posible ajustar fácilmente las variables mientras se reproducen en el editor, lo que resulta especialmente útil para optimizar las propiedades de la mecánica de interacción.</span><span class="sxs-lookup"><span data-stu-id="7eadf-135">Both approaches make it possible to easily tweak variables while playing in-editor, which is especially useful for tuning interaction mechanic properties.</span></span>

## <a name="regenerate-uwp-visual-studio-solutions-after-windows-sdk-or-unity-upgrade"></a><span data-ttu-id="7eadf-136">Regeneración de soluciones de Visual Studio UWP después de Windows SDK o actualización de Unity</span><span class="sxs-lookup"><span data-stu-id="7eadf-136">Regenerate UWP Visual Studio solutions after Windows SDK or Unity upgrade</span></span>

<span data-ttu-id="7eadf-137">Las soluciones Visual Studio UWP que se han registrado en el control de código fuente pueden desaproterse después de actualizar a un nuevo motor Windows SDK o Unity.</span><span class="sxs-lookup"><span data-stu-id="7eadf-137">UWP Visual Studio solutions checked in to source control can get out-of-date after upgrading to a new Windows SDK or Unity engine.</span></span> <span data-ttu-id="7eadf-138">Puede resolver soluciones no actualizadas después de crear una nueva solución para UWP desde Unity y combinar las diferencias en la solución integrada.</span><span class="sxs-lookup"><span data-stu-id="7eadf-138">You can resolve out-of-date solutions after by building a new UWP solution from Unity and merging differences into the checked-in solution.</span></span>

## <a name="use-text-format-assets-for-easy-comparison-of-content-changes"></a><span data-ttu-id="7eadf-139">Uso de recursos de formato de texto para facilitar la comparación de los cambios de contenido</span><span class="sxs-lookup"><span data-stu-id="7eadf-139">Use text-format assets for easy comparison of content changes</span></span>

<span data-ttu-id="7eadf-140">Almacenar recursos en formato de texto facilita la revisión de las diferencias de cambios de contenido en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7eadf-140">Storing assets in text format makes it easier to review content change diffs in Visual Studio.</span></span> <span data-ttu-id="7eadf-141">Puede almacenar recursos en formato de texto seleccionando Editar > configuración del  proyecto **> Editor** y cambiar el modo de serialización de recursos a **Forzar texto.**</span><span class="sxs-lookup"><span data-stu-id="7eadf-141">You can store assets in text format by selecting **Edit > Project Settings > Editor** and change **Asset Serialization** mode to **Force Text**.</span></span> <span data-ttu-id="7eadf-142">Sin embargo, la combinación de cambios en el archivo de recursos de texto es propensa a errores y no se recomienda, por lo que considere la posibilidad de habilitar las desprotecciones binarias exclusivas en el control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="7eadf-142">However, merging text asset file changes is error-prone and not recommended, so consider enabling exclusive binary checkouts in your source control.</span></span>

## <a name="see-also"></a><span data-ttu-id="7eadf-143">Consulte también</span><span class="sxs-lookup"><span data-stu-id="7eadf-143">See also</span></span>
- [<span data-ttu-id="7eadf-144">Visual Studio Tools para Unity</span><span class="sxs-lookup"><span data-stu-id="7eadf-144">Visual Studio Tools for Unity</span></span>](https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9)
- [<span data-ttu-id="7eadf-145">Optimización de los tiempos de compilación para IL2CPP</span><span class="sxs-lookup"><span data-stu-id="7eadf-145">Optimizing Build Times for IL2CPP</span></span>](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)
- [<span data-ttu-id="7eadf-146">*UnityScriptAnalyzer* Visual Studio extensión</span><span class="sxs-lookup"><span data-stu-id="7eadf-146">*UnityScriptAnalyzer* Visual Studio extension</span></span>](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer)