---
title: Gestos en Unity
description: Obtenga información sobre cómo realizar acciones en la mirada en Unity con la entrada de gestos con la mano mediante XR y las API comunes de botones y ejes.
author: hferrone
ms.author: alexturn
ms.date: 12/1/2020
ms.topic: article
keywords: gestos, unity, mirada, entrada, casco de realidad mixta, casco de realidad mixta de Windows, casco de realidad virtual, MRTK, kit de herramientas Mixed Reality
ms.openlocfilehash: 87666c120686547b1a07f6da41519219d4a47720
ms.sourcegitcommit: 9ae76b339968f035c703d9c1fe57ddecb33198e3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/27/2021
ms.locfileid: "110600644"
---
# <a name="gestures-in-unity"></a><span data-ttu-id="b7eb5-104">Gestos en Unity</span><span class="sxs-lookup"><span data-stu-id="b7eb5-104">Gestures in Unity</span></span>

<span data-ttu-id="b7eb5-105">Hay dos maneras clave de tomar medidas en [](../../design/motion-controllers.md) la mirada en [Unity:](gaze-in-unity.md) [gestos](../../design/gaze-and-commit.md#composite-gestures) de mano y controladores de movimiento en HoloLens y HMD inmersivo.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-105">There are two key ways to take action on your [gaze in Unity](gaze-in-unity.md), [hand gestures](../../design/gaze-and-commit.md#composite-gestures) and [motion controllers](../../design/motion-controllers.md) in HoloLens and Immersive HMD.</span></span> <span data-ttu-id="b7eb5-106">Puede acceder a los datos de ambos orígenes de entrada espacial a través de las mismas API en Unity.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-106">You access the data for both sources of spatial input through the same APIs in Unity.</span></span>

<span data-ttu-id="b7eb5-107">Unity proporciona dos formas principales de acceder a los datos de entrada espacial para Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-107">Unity provides two primary ways to access spatial input data for Windows Mixed Reality.</span></span> <span data-ttu-id="b7eb5-108">Las API *Input.GetButton/Input.GetAxis* comunes funcionan en varios SDK XR de Unity, mientras que la API *InteractionManager/GestureRecognizer* específica de Windows Mixed Reality expone el conjunto completo de datos de entrada espacial.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-108">The common *Input.GetButton/Input.GetAxis* APIs work across multiple Unity XR SDKs, while the *InteractionManager/GestureRecognizer* API specific to Windows Mixed Reality exposes the full set of spatial input data.</span></span>

## <a name="high-level-composite-gesture-apis-gesturerecognizer"></a><span data-ttu-id="b7eb5-109">API de gestos compuestos de alto nivel (GestureRecognizer)</span><span class="sxs-lookup"><span data-stu-id="b7eb5-109">High-level composite gesture APIs (GestureRecognizer)</span></span>

<span data-ttu-id="b7eb5-110">**Espacio de nombres:** *UnityEngine.XR.WSA.Input*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-110">**Namespace:** *UnityEngine.XR.WSA.Input*</span></span><br>
<span data-ttu-id="b7eb5-111">**Tipos:** *GestureRecognizer*, *GestureSettings*, *InteractionSourceKind*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-111">**Types**: *GestureRecognizer*, *GestureSettings*, *InteractionSourceKind*</span></span>

<span data-ttu-id="b7eb5-112">La aplicación también puede reconocer gestos compuestos de nivel superior para orígenes de entrada espaciales, gestos de pulsación, retención, manipulación y navegación.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-112">Your app can also recognize higher-level composite gestures for spatial input sources, Tap, Hold, Manipulation, and Navigation gestures.</span></span> <span data-ttu-id="b7eb5-113">Puede reconocer estos gestos compuestos en [las](../../design/gaze-and-commit.md#composite-gestures) manos y los controladores [de movimiento](../../design/motion-controllers.md) mediante GestureRecognizer.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-113">You can recognize these composite gestures across both [hands](../../design/gaze-and-commit.md#composite-gestures) and [motion controllers](../../design/motion-controllers.md) using the GestureRecognizer.</span></span>

<span data-ttu-id="b7eb5-114">Cada evento Gesture en GestureRecognizer proporciona SourceKind para la entrada, así como el rayo de destino de la cabeza en el momento del evento.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-114">Each Gesture event on the GestureRecognizer provides the SourceKind for the input as well as the targeting head ray at the time of the event.</span></span> <span data-ttu-id="b7eb5-115">Algunos eventos proporcionan información adicional específica del contexto.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-115">Some events provide additional context-specific information.</span></span>

<span data-ttu-id="b7eb5-116">Solo hay unos pocos pasos necesarios para capturar gestos mediante un reconocedor de gestos:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-116">There are only a few steps required to capture gestures using a Gesture Recognizer:</span></span>
1. <span data-ttu-id="b7eb5-117">Creación de un reconocedor de gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-117">Create a new Gesture Recognizer</span></span>
2. <span data-ttu-id="b7eb5-118">Especificación de los gestos que se deben observar</span><span class="sxs-lookup"><span data-stu-id="b7eb5-118">Specify which gestures to watch for</span></span>
3. <span data-ttu-id="b7eb5-119">Suscribirse a eventos para esos gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-119">Subscribe to events for those gestures</span></span>
4. <span data-ttu-id="b7eb5-120">Inicio de la captura de gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-120">Start capturing gestures</span></span>

### <a name="create-a-new-gesture-recognizer"></a><span data-ttu-id="b7eb5-121">Creación de un reconocedor de gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-121">Create a new Gesture Recognizer</span></span>

<span data-ttu-id="b7eb5-122">Para usar *GestureRecognizer,* debe haber creado *un objeto GestureRecognizer*:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-122">To use the *GestureRecognizer*, you must have created a *GestureRecognizer*:</span></span>

```cs
GestureRecognizer recognizer = new GestureRecognizer();
```

### <a name="specify-which-gestures-to-watch-for"></a><span data-ttu-id="b7eb5-123">Especificación de los gestos que se deben observar</span><span class="sxs-lookup"><span data-stu-id="b7eb5-123">Specify which gestures to watch for</span></span>

<span data-ttu-id="b7eb5-124">Especifique los gestos que le interesan a través *de SetRecognizableGestures():*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-124">Specify which gestures you're interested in via *SetRecognizableGestures()*:</span></span>

```cs
recognizer.SetRecognizableGestures(GestureSettings.Tap | GestureSettings.Hold);
```

### <a name="subscribe-to-events-for-those-gestures"></a><span data-ttu-id="b7eb5-125">Suscribirse a eventos para esos gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-125">Subscribe to events for those gestures</span></span>

<span data-ttu-id="b7eb5-126">Suscríbase a eventos para los gestos que le interesan.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-126">Subscribe to events for the gestures you're interested in.</span></span>

```cs
void Start()
{
    recognizer.Tapped += GestureRecognizer_Tapped;
    recognizer.HoldStarted += GestureRecognizer_HoldStarted;
    recognizer.HoldCompleted += GestureRecognizer_HoldCompleted;
    recognizer.HoldCanceled += GestureRecognizer_HoldCanceled;
}
```

>[!NOTE]
><span data-ttu-id="b7eb5-127">Los gestos de navegación y manipulación se excluyen mutuamente en una instancia de *GestureRecognizer.*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-127">Navigation and Manipulation gestures are mutually exclusive on an instance of a *GestureRecognizer*.</span></span>

### <a name="start-capturing-gestures"></a><span data-ttu-id="b7eb5-128">Inicio de la captura de gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-128">Start capturing gestures</span></span>

<span data-ttu-id="b7eb5-129">De forma predeterminada, *GestureRecognizer* no supervisa la entrada hasta que se llama a *StartCapturingGestures().*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-129">By default, a *GestureRecognizer* doesn't monitor input until *StartCapturingGestures()* is called.</span></span> <span data-ttu-id="b7eb5-130">Es posible que se genere un evento de gesto después de llamar a *StopCapturingGestures()* si la entrada se realizó antes del fotograma donde se procesó *StopCapturingGestures().*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-130">It's possible that a gesture event may be generated after *StopCapturingGestures()* is called if input was performed before the frame where *StopCapturingGestures()* was processed.</span></span> <span data-ttu-id="b7eb5-131">*GestureRecognizer* recordará si estaba o no en el marco anterior en el que se produjo realmente el gesto, por lo que es confiable iniciar y detener la supervisión de gestos en función de la orientación de la mirada de este marco.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-131">The *GestureRecognizer* will remember whether it was on or off during the previous frame in which the gesture actually occurred, and so it's reliable to start and stop gesture monitoring based on this frame's gaze targeting.</span></span>

```cs
recognizer.StartCapturingGestures();
```

### <a name="stop-capturing-gestures"></a><span data-ttu-id="b7eb5-132">Detener la captura de gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-132">Stop capturing gestures</span></span>

<span data-ttu-id="b7eb5-133">Para detener el reconocimiento de gestos:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-133">To stop gesture recognition:</span></span>

```cs
recognizer.StopCapturingGestures();
```

### <a name="removing-a-gesture-recognizer"></a><span data-ttu-id="b7eb5-134">Eliminación de un reconocedor de gestos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-134">Removing a gesture recognizer</span></span>

<span data-ttu-id="b7eb5-135">No olvide cancelar la suscripción a eventos suscritos antes de destruir un objeto *GestureRecognizer.*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-135">Remember to unsubscribe from subscribed events before destroying a *GestureRecognizer* object.</span></span>

```cs
void OnDestroy()
{
    recognizer.Tapped -= GestureRecognizer_Tapped;
    recognizer.HoldStarted -= GestureRecognizer_HoldStarted;
    recognizer.HoldCompleted -= GestureRecognizer_HoldCompleted;
    recognizer.HoldCanceled -= GestureRecognizer_HoldCanceled;
}
```

## <a name="rendering-the-motion-controller-model-in-unity"></a><span data-ttu-id="b7eb5-136">Representación del modelo de controlador de movimiento en Unity</span><span class="sxs-lookup"><span data-stu-id="b7eb5-136">Rendering the motion controller model in Unity</span></span>

<span data-ttu-id="b7eb5-137">![Modelo y teleportación del controlador de movimiento](images/motioncontrollertest-teleport-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="b7eb5-137">![Motion Controller model and teleportation](images/motioncontrollertest-teleport-1000px.png)</span></span><br>
<span data-ttu-id="b7eb5-138">*Modelo de controlador de movimiento y teleportación*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-138">*Motion controller model and teleportation*</span></span>

<span data-ttu-id="b7eb5-139">Para representar controladores de movimiento en la aplicación que coincidan con los controladores físicos que los usuarios mantienen y articulan a medida que se presionan varios botones, puede usar el **elemento prefab MotionController** en el kit [de herramientas Mixed Reality.](https://github.com/Microsoft/MixedRealityToolkit-Unity/)</span><span class="sxs-lookup"><span data-stu-id="b7eb5-139">To render motion controllers in your app that match the physical controllers your users are holding and articulate as various buttons are pressed, you can use the **MotionController prefab** in the [Mixed Reality Toolkit](https://github.com/Microsoft/MixedRealityToolkit-Unity/).</span></span>  <span data-ttu-id="b7eb5-140">Este objeto prefab carga dinámicamente el modelo glTF correcto en tiempo de ejecución desde el controlador de movimiento instalado del sistema.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-140">This prefab dynamically loads the correct glTF model at runtime from the system's installed motion controller driver.</span></span>  <span data-ttu-id="b7eb5-141">Es importante cargar estos modelos dinámicamente en lugar de importarlos manualmente en el editor, para que la aplicación muestre modelos 3D físicamente precisos para cualquier controlador actual y futuro que puedan tener los usuarios.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-141">It's important to load these models dynamically rather than importing them manually in the editor, so that your app will show physically accurate 3D models for any current and future controllers your users may have.</span></span>

1. <span data-ttu-id="b7eb5-142">Siga las [Tareas iniciales](https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/GettingStarted.md) instrucciones para descargar Mixed Reality Toolkit y agregarlo al proyecto de Unity.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-142">Follow the [Getting Started](https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/GettingStarted.md) instructions to download the Mixed Reality Toolkit and add it to your Unity project.</span></span>
2. <span data-ttu-id="b7eb5-143">Si ha reemplazado la cámara por el prefab *MixedRealityCameraParent* como parte de los pasos Tareas iniciales, ya puede ir.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-143">If you replaced your camera with the *MixedRealityCameraParent* prefab as part of the Getting Started steps, you're good to go!</span></span>  <span data-ttu-id="b7eb5-144">Ese prefab incluye la representación del controlador de movimiento.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-144">That prefab includes motion controller rendering.</span></span>  <span data-ttu-id="b7eb5-145">De lo contrario, agregue *Assets/HoloToolkit/Input/Prefabs/MotionControllers.prefab* a la escena desde el panel Proyecto.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-145">Otherwise, add *Assets/HoloToolkit/Input/Prefabs/MotionControllers.prefab* into your scene from the Project pane.</span></span>  <span data-ttu-id="b7eb5-146">Querrá agregar ese objeto prefab como elemento secundario de cualquier objeto primario que use para mover la cámara cuando el usuario teleporte dentro de la escena, de modo que los controladores se unan con el usuario.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-146">You'll want to add that prefab as a child of whatever parent object you use to move the camera around when the user teleports within your scene, so that the controllers come along with the user.</span></span>  <span data-ttu-id="b7eb5-147">Si la aplicación no implica la teleportación, solo tiene que agregar el objeto prefab en la raíz de la escena.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-147">If your app doesn't involve teleporting, just add the prefab at the root of your scene.</span></span>

## <a name="throwing-objects"></a><span data-ttu-id="b7eb5-148">Iniciar objetos</span><span class="sxs-lookup"><span data-stu-id="b7eb5-148">Throwing objects</span></span>

<span data-ttu-id="b7eb5-149">El lanzamiento de objetos en la realidad virtual es un problema más difícil de lo que puede parecer al principio.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-149">Throwing objects in virtual reality is a harder problem than it may at first seem.</span></span> <span data-ttu-id="b7eb5-150">Al igual que con la mayoría de las interacciones basadas físicamente, cuando el lanzamiento en el juego actúa de forma inesperada, es inmediatamente obvio y se interrumpe.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-150">As with most physically based interactions, when throwing in game acts in an unexpected way, it's immediately obvious and breaks immersion.</span></span> <span data-ttu-id="b7eb5-151">Hemos dedicado un tiempo a pensar profundamente en cómo representar un comportamiento de lanzamiento físicamente correcto, y hemos encontrado algunas directrices, habilitadas a través de actualizaciones en nuestra plataforma, que nos gustaría compartir con usted.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-151">We've spent some time thinking deeply about how to represent a physically correct throwing behavior, and have come up with a few guidelines, enabled through updates to our platform, that we would like to share with you.</span></span>

<span data-ttu-id="b7eb5-152">Puede encontrar un ejemplo de cómo se recomienda implementar throwing [aquí.](https://github.com/keluecke/MixedRealityToolkit-Unity/blob/master/External/Unitypackages/ThrowingStarter.unitypackage)</span><span class="sxs-lookup"><span data-stu-id="b7eb5-152">You can find an example of how we recommend to implement throwing [here](https://github.com/keluecke/MixedRealityToolkit-Unity/blob/master/External/Unitypackages/ThrowingStarter.unitypackage).</span></span> <span data-ttu-id="b7eb5-153">Este ejemplo sigue estas cuatro directrices:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-153">This sample follows these four guidelines:</span></span>
* <span data-ttu-id="b7eb5-154">**Use la velocidad del controlador *en* lugar de la posición**.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-154">**Use the controller’s *velocity* instead of position**.</span></span> <span data-ttu-id="b7eb5-155">En la actualización de noviembre de Windows, se introdujo un cambio de comportamiento cuando se encuentra en el estado de seguimiento [posicional "Aproximado".](../../design/motion-controllers.md#controller-tracking-state)</span><span class="sxs-lookup"><span data-stu-id="b7eb5-155">In the November update to Windows, we introduced a change in behavior when in the [''Approximate'' positional tracking state](../../design/motion-controllers.md#controller-tracking-state).</span></span> <span data-ttu-id="b7eb5-156">Cuando se encuentra en este estado, la información de velocidad sobre el controlador se seguirá notificando mientras creamos su alta precisión, que a menudo es más larga que la posición sigue siendo alta precisión.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-156">When in this state, velocity information about the controller will continue to be reported for as long as we believe its high accuracy, which is often longer than position remains high accuracy.</span></span>
* <span data-ttu-id="b7eb5-157">**Incorpore *la velocidad angular* del controlador**.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-157">**Incorporate the *angular velocity* of the controller**.</span></span> <span data-ttu-id="b7eb5-158">Esta lógica está contenida en el archivo del `throwing.cs` método `GetThrownObjectVelAngVel` estático, dentro del paquete vinculado anteriormente:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-158">This logic is all contained in the `throwing.cs` file in the `GetThrownObjectVelAngVel` static method, within the package linked above:</span></span>
   1. <span data-ttu-id="b7eb5-159">A medida que se conserva la velocidad angular, el objeto producido debe mantener la misma velocidad angular que tenía en el momento del lanzamiento: `objectAngularVelocity = throwingControllerAngularVelocity;`</span><span class="sxs-lookup"><span data-stu-id="b7eb5-159">As angular velocity is conserved, the thrown object must maintain the same angular velocity as it had at the moment of the throw: `objectAngularVelocity = throwingControllerAngularVelocity;`</span></span>
   2. <span data-ttu-id="b7eb5-160">Como es probable que el centro de masa del objeto que se produce no esté en el origen de la posición de control, es probable que tenga una velocidad diferente a la del controlador en el marco de referencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-160">As the center of mass of the thrown object is likely not at the origin of the grip pose, it likely has a different velocity than that of the controller in the frame of reference of the user.</span></span> <span data-ttu-id="b7eb5-161">La parte de la velocidad del objeto aportada de esta manera es la velocidad tangencial instantánea del centro de masa del objeto que se produce alrededor del origen del controlador.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-161">The portion of the object’s velocity contributed in this way is the instantaneous tangential velocity of the center of mass of the thrown object around the controller origin.</span></span> <span data-ttu-id="b7eb5-162">Esta velocidad tangencial es el producto cruzado de la velocidad angular del controlador con el vector que representa la distancia entre el origen del controlador y el centro de masa del objeto lanzado.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-162">This tangential velocity is the cross product of the angular velocity of the controller with the vector representing the distance between the controller origin and the center of mass of the thrown object.</span></span>

      ```cs
      Vector3 radialVec = thrownObjectCenterOfMass - throwingControllerPos;
      Vector3 tangentialVelocity = Vector3.Cross(throwingControllerAngularVelocity, radialVec);
      ```

   3. <span data-ttu-id="b7eb5-163">La velocidad total del objeto que se produce es la suma de la velocidad del controlador y esta velocidad tangencial: `objectVelocity = throwingControllerVelocity + tangentialVelocity;`</span><span class="sxs-lookup"><span data-stu-id="b7eb5-163">The total velocity of the thrown object is the sum of velocity of the controller and this tangential velocity: `objectVelocity = throwingControllerVelocity + tangentialVelocity;`</span></span>

* <span data-ttu-id="b7eb5-164">**Preste mucha atención al momento *en que* se aplica la velocidad**.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-164">**Pay close attention to the *time* at which we apply the velocity**.</span></span> <span data-ttu-id="b7eb5-165">Cuando se presiona un botón, ese evento puede tardar hasta 20 ms en llegar a través de Bluetooth al sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-165">When a button is pressed, it can take up to 20 ms for that event to bubble up through Bluetooth to the operating system.</span></span> <span data-ttu-id="b7eb5-166">Esto significa que si sondea un cambio de estado del controlador de presionado a no presionado o al revés, el controlador que posea la información que obtiene con él se adelantará realmente a este cambio de estado.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-166">This means that if you poll for a controller state change from pressed to not pressed or the other way around, the controller pose information you get with it will actually be ahead of this change in state.</span></span> <span data-ttu-id="b7eb5-167">Además, la posición del controlador presentada por nuestra API de sondeo se predice hacia delante para reflejar una posición probable en el momento en que se mostrará el marco, que podría ser superior a 20 ms en el futuro.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-167">Further, the controller pose presented by our polling API is forward predicted to reflect a likely pose at the time the frame will be displayed which could be more than 20 ms in the future.</span></span> <span data-ttu-id="b7eb5-168">Esto es bueno *para* representar objetos mantenidos,  pero representa nuestro problema de tiempo para dirigirse al objeto a medida que calculamos la trayectoria en el momento en que el usuario lanzó el lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-168">This is good for *rendering* held objects, but compounds our time problem for *targeting* the object as we calculate the trajectory for the moment the user released the throw.</span></span> <span data-ttu-id="b7eb5-169">Afortunadamente, con la actualización de noviembre, cuando se envía un evento de Unity como *InteractionSourcePressed* o *InteractionSourceReleased,* el estado incluye los datos de posición históricos de atrás cuando se presiona o se libera el botón.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-169">Fortunately, with the November update, when a Unity event like *InteractionSourcePressed* or *InteractionSourceReleased* is sent, the state includes the historical pose data from back when the button was pressed or released.</span></span>  <span data-ttu-id="b7eb5-170">Para obtener la representación del controlador y el destino del controlador más precisos durante los lanzamientos, debe usar correctamente el sondeo y los eventos, según corresponda:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-170">To get the most accurate controller rendering and controller targeting during throws, you must correctly use polling and eventing, as appropriate:</span></span>
   * <span data-ttu-id="b7eb5-171">Para **que el** controlador represente cada fotograma, la aplicación debe colocar el *GameObject* del controlador en la posición del controlador de predicción hacia delante para el tiempo de foton del fotograma actual.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-171">For **controller rendering** each frame, your app should position the controller's *GameObject* at the forward-predicted controller pose for the current frame’s photon time.</span></span>  <span data-ttu-id="b7eb5-172">Estos datos se obtienen de las API de sondeo de Unity, como *[XR. InputTracking.GetLocalPosition](https://docs.unity3d.com/ScriptReference/XR.InputTracking.GetLocalPosition.html)* o *[XR. Wsa. Input.InteractionManager.GetCurrentReading](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.GetCurrentReading.html)*.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-172">You get this data from Unity polling APIs like *[XR.InputTracking.GetLocalPosition](https://docs.unity3d.com/ScriptReference/XR.InputTracking.GetLocalPosition.html)* or *[XR.WSA.Input.InteractionManager.GetCurrentReading](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.GetCurrentReading.html)*.</span></span>
   * <span data-ttu-id="b7eb5-173">En **el caso de los** controladores que tienen como destino una publicación o una publicación, la aplicación debe convertir y calcular los cálculos en función de la posición histórica del controlador para ese evento de lanzamiento o de presión.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-173">For **controller targeting** upon a press or release, your app should raycast and calculate trajectories based on the historical controller pose for that press or release event.</span></span>  <span data-ttu-id="b7eb5-174">Estos datos se obtienen de las API de eventos de Unity, como *[InteractionManager.InteractionSourcePressed.](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.InteractionSourcePressed.html)*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-174">You get this data from Unity eventing APIs, like *[InteractionManager.InteractionSourcePressed](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.InteractionSourcePressed.html)*.</span></span>
* <span data-ttu-id="b7eb5-175">**Use la posición de control**.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-175">**Use the grip pose**.</span></span> <span data-ttu-id="b7eb5-176">La velocidad y la velocidad angulares se notifican en relación con la posición del control, no con la posición del puntero.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-176">Angular velocity and velocity are reported relative to the grip pose, not pointer pose.</span></span>

<span data-ttu-id="b7eb5-177">El lanzamiento seguirá mejorando con futuras actualizaciones de Windows y puede encontrar más información al respecto aquí.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-177">Throwing will continue to improve with future Windows updates, and you can expect to find more information on it here.</span></span>

## <a name="gesture-and-motion-controllers-in-mrtk"></a><span data-ttu-id="b7eb5-178">Controladores de gestos y movimiento en MRTK</span><span class="sxs-lookup"><span data-stu-id="b7eb5-178">Gesture and Motion Controllers in MRTK</span></span>

<span data-ttu-id="b7eb5-179">Puede acceder al gesto y al controlador de movimiento desde el Administrador de entrada.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-179">You can access gesture and motion controller from the input Manager.</span></span>

* [<span data-ttu-id="b7eb5-180">Gesto en MRTK</span><span class="sxs-lookup"><span data-stu-id="b7eb5-180">Gesture in MRTK</span></span>](/windows/mixed-reality/mrtk-unity/features/input/gestures)
* [<span data-ttu-id="b7eb5-181">Controlador de movimiento en MRTK</span><span class="sxs-lookup"><span data-stu-id="b7eb5-181">Motion Controller in MRTK</span></span>](/windows/mixed-reality/mrtk-unity/features/input/controllers)

## <a name="follow-along-with-tutorials"></a><span data-ttu-id="b7eb5-182">Seguimiento de tutoriales</span><span class="sxs-lookup"><span data-stu-id="b7eb5-182">Follow along with tutorials</span></span>

<span data-ttu-id="b7eb5-183">Los tutoriales paso a paso, con ejemplos de personalización más detallados, están disponibles en Mixed Reality Academy:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-183">Step-by-step tutorials, with more detailed customization examples, are available in the Mixed Reality Academy:</span></span>

- [<span data-ttu-id="b7eb5-184">MR Input 211: gesto</span><span class="sxs-lookup"><span data-stu-id="b7eb5-184">MR Input 211: Gesture</span></span>](tutorials/holograms-211.md)
- [<span data-ttu-id="b7eb5-185">MR Input 213: controladores de movimiento</span><span class="sxs-lookup"><span data-stu-id="b7eb5-185">MR Input 213: Motion controllers</span></span>](../../deprecated/mixed-reality-213.md)

<span data-ttu-id="b7eb5-186">[![Mr Input 213 : controlador de movimiento](images/mr213-main-600px.jpg)](/windows/mixed-reality/mixed-reality-213)</span><span class="sxs-lookup"><span data-stu-id="b7eb5-186">[![MR Input 213 - Motion controller](images/mr213-main-600px.jpg)](/windows/mixed-reality/mixed-reality-213)</span></span><br>
<span data-ttu-id="b7eb5-187">*Mr Input 213 : controlador de movimiento*</span><span class="sxs-lookup"><span data-stu-id="b7eb5-187">*MR Input 213 - Motion controller*</span></span>

## <a name="next-development-checkpoint"></a><span data-ttu-id="b7eb5-188">Siguiente punto de control de desarrollo</span><span class="sxs-lookup"><span data-stu-id="b7eb5-188">Next Development Checkpoint</span></span>

<span data-ttu-id="b7eb5-189">Si va a seguir el recorrido de desarrollo de Unity que hemos diseñado, se encuentra a la mitad de la exploración de los bloques de creación principales de MRTK.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-189">If you're following the Unity development journey we've laid out, you're in the midst of exploring the MRTK core building blocks.</span></span> <span data-ttu-id="b7eb5-190">Desde aquí, puede continuar con el siguiente bloque de compilación:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-190">From here, you can continue to the next building block:</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="b7eb5-191">Seguimiento de manos y ocular</span><span class="sxs-lookup"><span data-stu-id="b7eb5-191">Hand and eye tracking</span></span>](./hand-eye-in-unity.md)

<span data-ttu-id="b7eb5-192">O bien puede saltar a las funcionalidades y las API de la plataforma de realidad mixta:</span><span class="sxs-lookup"><span data-stu-id="b7eb5-192">Or jump to Mixed Reality platform capabilities and APIs:</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="b7eb5-193">Experiencias compartidas</span><span class="sxs-lookup"><span data-stu-id="b7eb5-193">Shared experiences</span></span>](shared-experiences-in-unity.md)

<span data-ttu-id="b7eb5-194">Puede volver a los [puntos de control de desarrollo de Unity](unity-development-overview.md#2-core-building-blocks) en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="b7eb5-194">You can always go back to the [Unity development checkpoints](unity-development-overview.md#2-core-building-blocks) at any time.</span></span>

## <a name="see-also"></a><span data-ttu-id="b7eb5-195">Consulta también</span><span class="sxs-lookup"><span data-stu-id="b7eb5-195">See also</span></span>

* [<span data-ttu-id="b7eb5-196">Mirada-cabeza y confirmación</span><span class="sxs-lookup"><span data-stu-id="b7eb5-196">Head-gaze and commit</span></span>](../../design/gaze-and-commit.md)
* [<span data-ttu-id="b7eb5-197">Controladores de movimiento</span><span class="sxs-lookup"><span data-stu-id="b7eb5-197">Motion controllers</span></span>](../../design/motion-controllers.md)