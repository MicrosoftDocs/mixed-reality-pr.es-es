---
title: Últimos cambios
description: directiva con respecto a los cambios importantes en MRTK.
author: polar-kev
ms.author: kesemple
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, desarrollo, MRTK
ms.openlocfilehash: 5f48503c4d28316cad49fbdf8bc163399ca9f7ad
ms.sourcegitcommit: c0ba7d7bb57bb5dda65ee9019229b68c2ee7c267
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/19/2021
ms.locfileid: "110143491"
---
# <a name="breaking-changes"></a><span data-ttu-id="c1fbb-104">Cambios importantes</span><span class="sxs-lookup"><span data-stu-id="c1fbb-104">Breaking changes</span></span>

<span data-ttu-id="c1fbb-105">Los consumidores de MRTK dependen de tener una superficie de API de versión a versión estable, para que puedan realizar actualizaciones de MRTK sin tener cambios importantes cada vez.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-105">Consumers of the MRTK depend on having a stable release-to-release API surface, so that they can take updates to the MRTK without having large breaking changes each time.</span></span>

<span data-ttu-id="c1fbb-106">En esta página se describe nuestra directiva actual con respecto a los cambios importantes en MRTK, junto con algunos objetivos a largo plazo en torno a cómo podemos administrar mejor el equilibrio entre mantener bajos los cambios importantes y poder realizar los cambios técnicos a largo plazo adecuados en el código.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-106">This page describes our current policy regarding breaking changes in the MRTK, along with some longer term goals around how we can better manage the tradeoff between keeping breaking changes low and being able to make the right long term technical changes to the code.</span></span>

## <a name="what-is-a-breaking-change"></a><span data-ttu-id="c1fbb-107">¿Qué es un cambio importante?</span><span class="sxs-lookup"><span data-stu-id="c1fbb-107">What is a breaking change?</span></span>

<span data-ttu-id="c1fbb-108">Un cambio es un cambio importante si cumple cualquiera de las condiciones de la lista [A](#list-a) Y cumple todas las condiciones de la [lista B.](#list-b)</span><span class="sxs-lookup"><span data-stu-id="c1fbb-108">A change is a breaking change if it satisfies any of the conditions in the [List A](#list-a) AND satisfies all of the conditions in [list B](#list-b)</span></span>

### <a name="list-a"></a><span data-ttu-id="c1fbb-109">Lista A</span><span class="sxs-lookup"><span data-stu-id="c1fbb-109">List A</span></span>

- <span data-ttu-id="c1fbb-110">La adición, eliminación o actualización de cualquier miembro o función de cualquier interfaz (o eliminación o cambio de nombre de toda la interfaz).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-110">The addition, removal, or update of any member or function of any interface (or removal/rename of the entire interface).</span></span>
- <span data-ttu-id="c1fbb-111">Eliminación, actualización (cambio de tipo o definición, hacer privado o interno) de cualquier miembro o función pública o protegido de la clase.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-111">The removal, update (changing type/definition, making private or internal) of any protected or public member or function of class.</span></span> <span data-ttu-id="c1fbb-112">(o eliminación o cambio de nombre de toda la clase).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-112">(or removal/rename of the entire class).</span></span>
- <span data-ttu-id="c1fbb-113">Cambio en el orden de los eventos desencadenados por una clase.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-113">The change in the order of events fired by a class.</span></span>
- <span data-ttu-id="c1fbb-114">El cambio de nombre de cualquier serializedField privado (sin una etiqueta FormerlySerializedAs correspondiente) o propiedad pública en un scriptableObject (especialmente cambios en los perfiles).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-114">The rename of any private SerializedField (without a corresponding FormerlySerializedAs tag) or public property on a ScriptableObject (especially changes to profiles).</span></span>
- <span data-ttu-id="c1fbb-115">Cambiar el tipo de un campo en scriptableObject (especialmente cambios en los perfiles).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-115">Changing the type of a field on a ScriptableObject (especially changes to profiles).</span></span>
- <span data-ttu-id="c1fbb-116">Actualizaciones del espacio de nombres o las definiciones de cualquier clase o interfaz.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-116">Updates to the namespace or asmdefs of any class or interface.</span></span>
- <span data-ttu-id="c1fbb-117">Eliminación de cualquier prefab o eliminación de un script en el objeto de nivel superior de un objeto prefab.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-117">Removal of any prefab or removal of a script on the top level object of a prefab.</span></span>

### <a name="list-b"></a><span data-ttu-id="c1fbb-118">Lista B</span><span class="sxs-lookup"><span data-stu-id="c1fbb-118">List B</span></span>

- <span data-ttu-id="c1fbb-119">El recurso en cuestión está en el paquete de base (es decir, se encuentra en una de las carpetas siguientes):</span><span class="sxs-lookup"><span data-stu-id="c1fbb-119">The asset in question is in the foundation package (i.e. it's in one of the following folders):</span></span>

  - <span data-ttu-id="c1fbb-120">MRTK/Core</span><span class="sxs-lookup"><span data-stu-id="c1fbb-120">MRTK/Core</span></span>
  - <span data-ttu-id="c1fbb-121">MRTK/Providers/</span><span class="sxs-lookup"><span data-stu-id="c1fbb-121">MRTK/Providers/</span></span>
  - <span data-ttu-id="c1fbb-122">MRTK/Services/</span><span class="sxs-lookup"><span data-stu-id="c1fbb-122">MRTK/Services/</span></span>
  - <span data-ttu-id="c1fbb-123">MRTK/SDK/</span><span class="sxs-lookup"><span data-stu-id="c1fbb-123">MRTK/SDK/</span></span>
  - <span data-ttu-id="c1fbb-124">MRTK/Extensions</span><span class="sxs-lookup"><span data-stu-id="c1fbb-124">MRTK/Extensions</span></span>

- <span data-ttu-id="c1fbb-125">El recurso en cuestión no pertenece al espacio de nombres experimental.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-125">The asset in question does not belong to the experimental namespace.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c1fbb-126">Cualquier recurso que se encuentra en el paquete de ejemplos (es decir, parte de la carpeta MRTK/Examples/) está sujeto a cambios en cualquier momento, ya que los recursos están diseñados para copiarse y ser vistos por los consumidores como "implementaciones de referencia", pero no forman parte del conjunto principal de API y recursos.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-126">Any asset that sits in the examples package (i.e. part of the MRTK/Examples/ folder) is subject to change at any time, as assets there are designed to be copied and viewed by consumers as 'reference implementations' but are not part of the core set of APIs and assets.</span></span> <span data-ttu-id="c1fbb-127">Los recursos del espacio de nombres experimental (o, más generalmente, las características etiquetadas como experimentales) son los que se publican antes de que se hayan realizado todas las pruebas debidas (es decir, pruebas, iteración de la experiencia de usuario, documentación) y se publican pronto para obtener comentarios antes.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-127">Assets in the experimental namespace (or more generally, features labelled as experimental) are ones that get published before all due diligence has been done (i.e. tests, UX iteration, documentation) and is published early to get feedback sooner.</span></span>  <span data-ttu-id="c1fbb-128">Sin embargo, dado que no tienen pruebas y documentación, y como es probable que no hayamos eliminado todas las interacciones y diseños, las publicamos en un estado en el que el público debe asumir que pueden y cambiarán (es decir, se modifican, se quitan por completo, etc.).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-128">However, because they don't have tests and documentation, and because we likely haven't nailed down all of the interactions and designs, we publish them in a state where the public should assume that they can and will change (i.e. be modified, completely removed, etc).</span></span>
>
> <span data-ttu-id="c1fbb-129">Consulte [Características experimentales](../contributing/experimental-features.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-129">See [Experimental features](../contributing/experimental-features.md) for more information.</span></span>

<span data-ttu-id="c1fbb-130">Dado que el área de superficie para los cambios importantes es muy grande, es importante tener en cuenta que tener una regla absoluta que dice "no se producirían cambios importantes" sería imposible; puede haber problemas que solo se puedan solucionar de forma correcta al tener un cambio importante.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-130">As the surface area for breaking changes is very large, it's important to note that having an absolute rule that says "no breaking changes" would be impossible - there may be issues that can only be fixed in a sane way by having a breaking change.</span></span> <span data-ttu-id="c1fbb-131">En otras palabras, la única manera de que realmente podamos tener "ningún cambio importante" es no tener ningún cambio.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-131">To put another way, the only way we could really have "no breaking changes" is to have no changes at all.</span></span>

<span data-ttu-id="c1fbb-132">Nuestra directiva permanente es evitar realizar cambios importantes si es posible y solo hacerlo si el cambio acumularía un valor significativo a largo plazo del cliente o el marco.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-132">Our standing policy is to avoid making breaking changes if possible, and only do so if the change would accrue significant customer or framework long term value.</span></span>

## <a name="what-to-do-about-breaking-changes"></a><span data-ttu-id="c1fbb-133">Qué hacer con los cambios importantes</span><span class="sxs-lookup"><span data-stu-id="c1fbb-133">What to do about breaking changes</span></span>

<span data-ttu-id="c1fbb-134">Si es posible realizar algo sin un cambio importante y sin poner en peligro la estructura a largo plazo y la viabilidad de la característica, no realice el cambio importante.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-134">If it is possible to accomplish something without a breaking change and without compromising the long term structure and viability of the feature, don't do the breaking change.</span></span> <span data-ttu-id="c1fbb-135">Si no hay otra manera, la directiva actual es evaluar cada cambio importante individual, para saber si la ventaja de tomar el cambio supera el costo para el consumidor de la absorbencia del cambio.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-135">If there is no other way, the current policy is to evaluate each individual breaking change, to understand if the benefit from taking the change outweighs the cost to the consumer of absorbing the change.</span></span> <span data-ttu-id="c1fbb-136">El debate sobre lo que merece la pena hacer y lo que no suele tener lugar en la PR o en la propia discusión de problemas.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-136">Debate about what is worth doing and what isn't will generally take place on the PR or issue discussion itself.</span></span>

<span data-ttu-id="c1fbb-137">Lo que puede ocurrir aquí se divide en varios depósitos:</span><span class="sxs-lookup"><span data-stu-id="c1fbb-137">What can happen here falls into several buckets:</span></span>

### <a name="the-breaking-change-adds-value-but-could-be-written-in-a-way-that-isnt-breaking"></a><span data-ttu-id="c1fbb-138">El cambio importante agrega valor, pero podría escribirse de una manera que no sea importante.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-138">The breaking change adds value but could be written in a way that isn't breaking</span></span>

<span data-ttu-id="c1fbb-139">Por [ejemplo,](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4882) esta solicitud de participación agregó una nueva característica que se escribió inicialmente de una manera que se estaba separando (modificó una interfaz existente), pero luego se reescribía donde la característica se desglosaba como su propia interfaz.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-139">For example, [this PR](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4882) added a new feature that was initially written in a way that was breaking - it modified an existing interface - but was then rewritten where the feature was broken out as its own interface.</span></span> <span data-ttu-id="c1fbb-140">Este suele ser el mejor resultado posible.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-140">This is generally the best possible outcome.</span></span> <span data-ttu-id="c1fbb-141">No intente forzar un cambio en una forma sin separación si esto pone en peligro la viabilidad o la estructura a largo plazo de la característica.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-141">Do not try to force a change into a non-breaking form if doing so would compromise the long term viability or structure of the feature.</span></span>

### <a name="the-breaking-change-adds-sufficient-value-to-the-customer-that-its-worth-doing"></a><span data-ttu-id="c1fbb-142">El cambio importante agrega un valor suficiente al cliente que merece la pena hacer.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-142">The breaking change adds sufficient value to the customer that it's worth doing</span></span>

<span data-ttu-id="c1fbb-143">Documente cuáles son los cambios importantes y proporcione la mejor mitigación posible (es decir, pasos prescriptivos sobre cómo migrar o, mejor aún, herramientas que se migrarán automáticamente para el cliente).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-143">Document what the breaking changes are and provide the best possible mitigation (i.e. prescriptive steps on how to migrate, or better yet tooling that will automatically migrate for the customer).</span></span> <span data-ttu-id="c1fbb-144">Cada versión puede contener una pequeña cantidad de cambios importantes, que siempre se deben documentar en documentos como se hizo en [esta pr.](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4858)</span><span class="sxs-lookup"><span data-stu-id="c1fbb-144">Each release may contain a small amount of changes that are breaking - these should always be documented in docs as was done in [this PR](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4858).</span></span> <span data-ttu-id="c1fbb-145">Si ya hay una guía de migración de 2.x.x→2.x+1.x+1, agregue instrucciones o herramientas a ese documento. Si no existe, cándalo.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-145">If there already is a 2.x.x→2.x+1.x+1 migration guide, then add instructions or tooling to that doc. If it doesn't exist, create it.</span></span>

### <a name="the-breaking-change-adds-value-but-the-customer-pain-would-be-too-high"></a><span data-ttu-id="c1fbb-146">El cambio importante agrega valor, pero el daño del cliente sería demasiado alto.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-146">The breaking change adds value but the customer pain would be too high</span></span>

<span data-ttu-id="c1fbb-147">No todos los tipos de cambios importantes se crean iguales; algunos son significativamente más difíciles que otros, en función de nuestra experiencia y en función de las experiencias de los clientes.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-147">Not all types of breaking changes are created equal - some are significantly more painful that others, based on our experience and based on customer experiences.</span></span> <span data-ttu-id="c1fbb-148">Por ejemplo, los cambios en las interfaces pueden ser difíciles, pero si el cambio importante es aquel en el que es poco probable que un cliente se haya ampliado o implementado en el pasado (por ejemplo, el sistema de visualización de diagnóstico), el costo real probablemente sea bajo o nada.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-148">For example, changes to interfaces may be painful, but if the breaking change is one in which a customer is unlikely to have extended/implemented in the past (the diagnostic visualization system, for example), then the actual cost is probably low to nothing.</span></span> <span data-ttu-id="c1fbb-149">Sin embargo, si el cambio es el tipo de un campo en un scriptableObject (por ejemplo, en uno de los perfiles principales de MRTK), es probable que esto cause un gran problema al cliente.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-149">However, if the change is the type of a field on a ScriptableObject (for example, on one of the core profiles of the MRTK), this is likely to cause massive customer pain.</span></span> <span data-ttu-id="c1fbb-150">Los clientes ya han clonado el perfil predeterminado, la combinación y actualización de perfiles puede ser muy difícil de realizar manualmente (es decir, a través de un editor de texto durante el tiempo de combinación), y volver a copiar el perfil predeterminado y volver a configurar todo a mano es muy probable que lleve a regresiones difíciles de depurar.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-150">Customers have already cloned the default profile, merging/updating profiles can be extremely hard to do manually (i.e. via a text editor during merge time), and re-copying the default profile and reconfiguring everything by hand is extremely likely to lead to hard to debug regressions.</span></span>

<span data-ttu-id="c1fbb-151">Estos cambios tenemos que volver a colocarse en el espacio hasta que exista una rama que permita cambios importantes (junto con un valor significativo que dará a los clientes una razón para actualizar).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-151">These changes we have to put back onto the shelf until a branch exists that will allow significantly breaking changes (along with significant value that will give customers a reason to upgrade).</span></span> <span data-ttu-id="c1fbb-152">Esta rama no existe actualmente.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-152">Such a branch doesn't currently exist.</span></span> <span data-ttu-id="c1fbb-153">En nuestras futuras reuniones de planeamiento de iteraciones, revisaremos el conjunto de cambios o problemas que fueron "demasiado importantes" para ver si alcanzamos una masa crítica para que sea razonable llevar a cabo un conjunto de cambios a la vez.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-153">In our future iteration planning meetings, we will review the set of changes/issues that were 'too breaking' to see if we reached a critical mass to make it reasonable to pursue a set of changes all at once.</span></span> <span data-ttu-id="c1fbb-154">Tenga en cuenta que es peligroso crear una rama "todo está permitido" sin realizar la debida investigación debido a los limitados recursos de ingeniería que tenemos y al hecho de que tendríamos que dividir las pruebas y la validación entre esos dos.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-154">Note that it's dangerous to spin up a "everything is allowed" branch without due diligence being done because of the limited engineering resources we have, and the fact that we'd have to split testing and validation across those two.</span></span> <span data-ttu-id="c1fbb-155">Debe haber un propósito claro y una fecha de inicio y finalización bien comunicados de dicha rama cuando exista.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-155">There needs to be a clear purpose and well-communicated start and end date of such a branch when it exists.</span></span>

## <a name="long-term-management-of-breaking-changes"></a><span data-ttu-id="c1fbb-156">Administración a largo plazo de cambios importantes</span><span class="sxs-lookup"><span data-stu-id="c1fbb-156">Long term management of breaking changes</span></span>

<span data-ttu-id="c1fbb-157">A largo plazo, debemos intentar reducir el ámbito de lo que es un cambio importante al aumentar el conjunto de condiciones de la [lista B.](#list-b) A partir de ahora, el conjunto de elementos de la lista [A](#list-a) siempre será técnicamente una quieba para el conjunto de archivos y recursos que consideramos que están en la "superficie de API pública".</span><span class="sxs-lookup"><span data-stu-id="c1fbb-157">In the long term, we should seek to reduce the scope of what is a breaking change by increasing the set of conditions in [List B](#list-b). Going forward the set of things in [List A](#list-a) will always technically be breaking for the set of files and assets that we deem to be in the "public API surface."</span></span> <span data-ttu-id="c1fbb-158">La manera de obtener un poco más de libertad para la iteración (es decir, cambiar los detalles de implementación interna, lo que permite una refactorización y uso compartido más sencillos del código entre varias clases, etc.) es ser más explícito sobre qué partes del código son superficie oficial, en lugar de detalles de implementación.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-158">The way that we can get a little more freedom for iteration (i.e. changing up the internal implementation details, allowing for easier refactoring and sharing of code between multiple classes, etc) is to be more explicit about which portions of the code are official surface, rather than implementation detail.</span></span>

<span data-ttu-id="c1fbb-159">Algo que ya hemos hecho es introducir el concepto de una característica "experimental" (pertenece al espacio de nombres experimental, es posible que no tenga pruebas o documentación y que exista públicamente, pero se puede quitar y actualizar sin previo aviso).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-159">One thing we've already done is introduce the concept of an "experimental" feature (it belongs in the experimental namespace, it may not have tests/documentation, and is publicly proclaimed to exist but may be removed and updated without warning).</span></span> <span data-ttu-id="c1fbb-160">Esto ha dado libertad para agregar nuevas características antes para obtener comentarios anteriores, pero no estar vinculado inmediatamente a su superficie de API (porque es posible que no hayamos pensado completamente la superficie de la API).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-160">This has given has freedom to add new features sooner to get earlier feedback, but not be immediately tied to its API surface (because we may not have fully thought out the API surface).</span></span>

### <a name="other-examples-of-things-that-could-help-in-the-future"></a><span data-ttu-id="c1fbb-161">Otros ejemplos de cosas que podrían ayudar en el futuro</span><span class="sxs-lookup"><span data-stu-id="c1fbb-161">Other examples of things that could help in the future</span></span>

- <span data-ttu-id="c1fbb-162">Uso de la [palabra clave internal](/dotnet/csharp/language-reference/keywords/internal).</span><span class="sxs-lookup"><span data-stu-id="c1fbb-162">Usage of the [internal keyword](/dotnet/csharp/language-reference/keywords/internal).</span></span>
  <span data-ttu-id="c1fbb-163">Esto nos permitiría tener código compartido dentro de nuestros propios ensamblados (para reducir la duplicación de código) sin hacer que las cosas se haga públicas para los consumidores externos.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-163">This would allow for us to have shared code within our own assemblies (for reducing code duplication) without making things public to external consumers.</span></span>
- <span data-ttu-id="c1fbb-164">Creación de un espacio de nombres "interno" (es decir, Microsoft.MixedReality.Toolkit.Internal.Utilities), donde se documenta públicamente que todo lo contenido dentro de ese espacio de nombres interno está sujeto a cambios en cualquier momento y se podría quitar, etc. Esto es similar a cómo las bibliotecas de encabezados de C++ usarán los espacios de nombres ::internal para ocultar sus detalles de implementación.</span><span class="sxs-lookup"><span data-stu-id="c1fbb-164">Creation of an "internal" namespace (i.e. Microsoft.MixedReality.Toolkit.Internal.Utilities), where we publicly document that anything contained within that internal namespace is subject to change at anytime and could be removed, etc. This is similar to how C++ header libraries will make use of ::internal namespaces to hide their implementation details.</span></span>