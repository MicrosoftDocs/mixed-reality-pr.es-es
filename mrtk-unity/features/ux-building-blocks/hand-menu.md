---
title: Menú Mano
description: Escena de ejemplo de menú de mano en MRTK
author: cre8ivepark
ms.author: dongpark
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, desarrollo, MRTK, HandMenu,
ms.openlocfilehash: 9bb0276c048912b4f463dd93d3303c9a3af8fe29
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/01/2021
ms.locfileid: "113177518"
---
# <a name="hand-menu"></a><span data-ttu-id="067c8-104">Menú Mano</span><span class="sxs-lookup"><span data-stu-id="067c8-104">Hand menu</span></span>

![Ejemplo de experiencia de usuario del menú mano](../images/solver/MRTK_UX_HandMenu.png)

<span data-ttu-id="067c8-106">Los menús de mano permiten a los usuarios abrir rápidamente la interfaz de usuario adjuntada a mano para las funciones usadas con frecuencia.</span><span class="sxs-lookup"><span data-stu-id="067c8-106">Hand menus allow users to quickly bring up hand-attached UI for frequently used functions.</span></span> <span data-ttu-id="067c8-107">Para evitar la activación falsa al interactuar con otros objetos, el menú de mano proporciona opciones como "Requerir mano plana" y "Usar activación de mirada".</span><span class="sxs-lookup"><span data-stu-id="067c8-107">To prevent false activation while interacting with other objects, hand menu provides options such as 'Require Flat Hand' and 'Use Gaze Activation'.</span></span> <span data-ttu-id="067c8-108">Se recomienda usar estas opciones para evitar la activación no deseada.</span><span class="sxs-lookup"><span data-stu-id="067c8-108">It is recommended to use these options to prevent unwanted activation.</span></span>

## <a name="hand-menu-examples"></a><span data-ttu-id="067c8-109">Ejemplos de menú de mano</span><span class="sxs-lookup"><span data-stu-id="067c8-109">Hand menu examples</span></span>

<span data-ttu-id="067c8-110">**HandMenuExamples.unity** scene está en ``MRTK/Examples/Demos/HandTracking/Scenes`` la carpeta .</span><span class="sxs-lookup"><span data-stu-id="067c8-110">**HandMenuExamples.unity** scene is under ``MRTK/Examples/Demos/HandTracking/Scenes`` folder.</span></span> <span data-ttu-id="067c8-111">Cuando se ejecuta, la escena solo activará el tipo de menú seleccionado actualmente.</span><span class="sxs-lookup"><span data-stu-id="067c8-111">When it is running, the scene will only activate currently selected menu type.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_ExampleScene.png" width="600px" alt="HandMenu_ExampleScene">

<span data-ttu-id="067c8-112">Puede encontrar estos elementos prefabs del menú de la mano en ``MRTK/Examples/Demos/HandTracking/Prefabs`` la carpeta .</span><span class="sxs-lookup"><span data-stu-id="067c8-112">You can find these hand menu prefabs under ``MRTK/Examples/Demos/HandTracking/Prefabs`` folder.</span></span>

### <a name="handmenu_small_hideonhanddrop-and-handmenu_medium_hideonhanddrop"></a><span data-ttu-id="067c8-113">HandMenu_Small_HideOnHandDrop y HandMenu_Medium_HideOnHandDrop</span><span class="sxs-lookup"><span data-stu-id="067c8-113">HandMenu_Small_HideOnHandDrop and HandMenu_Medium_HideOnHandDrop</span></span>

<span data-ttu-id="067c8-114">Estos dos ejemplos simplemente activan y desactivan el objeto MenuContent para mostrar y ocultar el menú en el evento **OnFirstHandDetected()** y **OnLastHandLost().**</span><span class="sxs-lookup"><span data-stu-id="067c8-114">These two examples simply activate and deactivate the MenuContent object to show and hide menu on **OnFirstHandDetected()** and **OnLastHandLost()** event.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example1.png" width="600" alt="HandMenu_ExampleScene 1">
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example2.png" width="600" alt="HandMenu_ExampleScene 2">

### <a name="handmenu_large_worldlock_on_grabandpull"></a><span data-ttu-id="067c8-115">HandMenu_Large_WorldLock_On_GrabAndPull</span><span class="sxs-lookup"><span data-stu-id="067c8-115">HandMenu_Large_WorldLock_On_GrabAndPull</span></span>

<span data-ttu-id="067c8-116">En el caso de los menús más complejos que requieren más tiempo de interacción, se recomienda bloquear el menú.</span><span class="sxs-lookup"><span data-stu-id="067c8-116">For more complex menus that require longer interaction time, it is recommended to world-lock the menu.</span></span> <span data-ttu-id="067c8-117">En este ejemplo, el usuario puede agarrar y extraer para bloquear el menú, además de activar y desactivar menuContent en los eventos **OnFirstHandDetected()** y **OnLastHandLost().**</span><span class="sxs-lookup"><span data-stu-id="067c8-117">In this example, the user can grab and pull to world-lock the menu, in addition to activating and deactivating the MenuContent on **OnFirstHandDetected()** and **OnLastHandLost()** events.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example3.png" width="600" alt="HandMenu_ExampleScene 3">

<span data-ttu-id="067c8-118">La placa trasera `ManipulationHandler` hace que sea fácil de agarrar y mover.</span><span class="sxs-lookup"><span data-stu-id="067c8-118">Backplate's `ManipulationHandler` makes it grabbable and movable.</span></span> <span data-ttu-id="067c8-119">**En el evento Manipulation Started,** **SolverHandler.UpdateSolvers** se desactiva para bloquear el menú.</span><span class="sxs-lookup"><span data-stu-id="067c8-119">**On Manipulation Started** event, **SolverHandler.UpdateSolvers** is deactivated to world-lock the menu.</span></span> <span data-ttu-id="067c8-120">Además, muestra el botón **Cerrar para** permitir que el usuario cierre el menú cuando finalice la tarea.</span><span class="sxs-lookup"><span data-stu-id="067c8-120">Additionally, it shows the **Close button** to allow the user to close the menu when the task is finished.</span></span> <span data-ttu-id="067c8-121">En el evento **Manipulation Ended,** llama a **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** para permitir que el usuario vuelva a poner el menú a mano al elevar y mirar la mano.</span><span class="sxs-lookup"><span data-stu-id="067c8-121">**On Manipulation Ended** event, it calls **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** to allow the user bring the menu back to hand by raising and looking at the palm.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example4.png" width="600" alt="HandMenu_ExampleScene 4">

<span data-ttu-id="067c8-122">**El** botón Cerrar vuelve a **activar SolverHandler.UpdateSolvers** y oculta **menuContent.**</span><span class="sxs-lookup"><span data-stu-id="067c8-122">**Close** button reactivates **SolverHandler.UpdateSolvers** and hide the **MenuContent**.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example5.png" alt="HandMenu_ExampleScene 5">

### <a name="handmenu_large_autoworldlock_on_handdrop"></a><span data-ttu-id="067c8-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span><span class="sxs-lookup"><span data-stu-id="067c8-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span></span>

<span data-ttu-id="067c8-124">Este ejemplo es similar a HandMenu_Large_WorldLock_On_GrabAndPull.</span><span class="sxs-lookup"><span data-stu-id="067c8-124">This example is similar to HandMenu_Large_WorldLock_On_GrabAndPull.</span></span> <span data-ttu-id="067c8-125">La única diferencia es que el menú se bloqueará automáticamente al colocarse a mano.</span><span class="sxs-lookup"><span data-stu-id="067c8-125">The only difference is that the menu will be automatically world-locked on hand drop.</span></span> <span data-ttu-id="067c8-126">Esto se hace simplemente sin ocultar el evento MenuContent en **OnLastHandLost().**</span><span class="sxs-lookup"><span data-stu-id="067c8-126">This is done by simply not hiding the MenuContent on **OnLastHandLost()** event.</span></span> <span data-ttu-id="067c8-127">El & de extracción es el mismo que HandMenu_Large_WorldLock_On_GrabAndPull ejemplo.</span><span class="sxs-lookup"><span data-stu-id="067c8-127">Grab & pull behavior is same as HandMenu_Large_WorldLock_On_GrabAndPull example.</span></span>

## <a name="scripts"></a><span data-ttu-id="067c8-128">Scripts</span><span class="sxs-lookup"><span data-stu-id="067c8-128">Scripts</span></span>

<span data-ttu-id="067c8-129">El comportamiento proporciona un solucionador que restringe el objeto de seguimiento a una región segura para el contenido restringido a mano (como la interfaz de usuario de la [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) mano, menús, etc.).</span><span class="sxs-lookup"><span data-stu-id="067c8-129">The [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behavior provides a solver that constrains the tracked object to a region safe for hand constrained content (such as hand UI, menus, etc).</span></span> <span data-ttu-id="067c8-130">Caja fuerte regiones se consideran áreas que no se cruzan con la mano.</span><span class="sxs-lookup"><span data-stu-id="067c8-130">Safe regions are considered areas that don't intersect with the hand.</span></span> <span data-ttu-id="067c8-131">También se incluye una clase derivada de llamada para mostrar un comportamiento común de activar el objeto de seguimiento del solucionador cuando la mano se enfrenta [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) al usuario.</span><span class="sxs-lookup"><span data-stu-id="067c8-131">A derived class of [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) called [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is also included to demonstrate a common behavior of activating the solver tracked object when the palm is facing the user.</span></span>

<span data-ttu-id="067c8-132">Consulte las sugerencias de herramientas disponibles para cada [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) propiedad para obtener documentación adicional.</span><span class="sxs-lookup"><span data-stu-id="067c8-132">Please see the tool tips available for each [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) property for additional documentation.</span></span> <span data-ttu-id="067c8-133">A continuación se definen algunas propiedades con más detalle.</span><span class="sxs-lookup"><span data-stu-id="067c8-133">A few properties are defined in more detail below.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintPalmUp.png" width="450" alt="HandMenu_ExampleScene Palm up">

* <span data-ttu-id="067c8-134">**Caja fuerte zona segura:** la zona segura especifica dónde restringir el contenido.</span><span class="sxs-lookup"><span data-stu-id="067c8-134">**Safe Zone**: The safe zone specifies where on the hand to constrain content.</span></span> <span data-ttu-id="067c8-135">Se recomienda colocar contenido en el lado de Ulnar para evitar superponerse con la mano y mejorar la calidad de la interacción.</span><span class="sxs-lookup"><span data-stu-id="067c8-135">It is recommended that content be placed on the Ulnar Side to avoid overlap with the hand and improved interaction quality.</span></span> <span data-ttu-id="067c8-136">Caja fuerte se calculan tomando la orientación de las manos proyectada en un plano ortogonal a la vista de la cámara y la proyección de rayos en un rectángulo delimitador alrededor de las manos.</span><span class="sxs-lookup"><span data-stu-id="067c8-136">Safe zones are calculated by taking the hands orientation projected into a plane orthogonal to the camera's view and raycasting against a bounding box around the hands.</span></span> <span data-ttu-id="067c8-137">Caja fuerte se definen para trabajar con , [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) pero también funciona con otros tipos de controlador.</span><span class="sxs-lookup"><span data-stu-id="067c8-137">Safe zones are defined to work with [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) but also works with other controller types.</span></span> <span data-ttu-id="067c8-138">Se recomienda explorar lo que representa cada zona segura en distintos tipos de controlador.</span><span class="sxs-lookup"><span data-stu-id="067c8-138">It is recommended to explore what each safe zone represents on different controller types.</span></span>

* <span data-ttu-id="067c8-139">**Seguimiento de la mano hasta la cámara orientada** Con esta opción activa, el solucionador seguirá la rotación de las manos hasta que el menú esté lo suficientemente alineado con la mirada, momento en el que se enfrenta a la cámara.</span><span class="sxs-lookup"><span data-stu-id="067c8-139">**Follow Hand Until Facing Camera** With this active, solver will follow hand rotation until the menu is sufficiently aligned with the gaze, at which point it faces the camera.</span></span> <span data-ttu-id="067c8-140">Esto funciona cambiando SolverRotationBehavior en HandConstraintSolver, de LookAtTrackedObject a LookAtMainCamera a medida que varía el ángulo GazeAlignment con el solucionador.</span><span class="sxs-lookup"><span data-stu-id="067c8-140">This works by changing the SolverRotationBehavior in the HandConstraintSolver, from LookAtTrackedObject to LookAtMainCamera as the GazeAlignment angle with the solver varies.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintSafeZones.png" width="450" alt="HandMenu Safe Zones">

* <span data-ttu-id="067c8-141">**Eventos de activación:** [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) actualmente, desencadena cuatro eventos de activación.</span><span class="sxs-lookup"><span data-stu-id="067c8-141">**Activation Events**: Currently the [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) triggers four activation events.</span></span> <span data-ttu-id="067c8-142">Estos eventos se pueden usar en muchas combinaciones diferentes para crear comportamientos únicos. Consulte la escena HandBasedMenuExample en para obtener [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) ejemplos de estos `MRTK/Examples/Demos/HandTracking/Scenes/` comportamientos.</span><span class="sxs-lookup"><span data-stu-id="067c8-142">These events can be used in many different combinations to create unique [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behaviors, please see the HandBasedMenuExample scene under `MRTK/Examples/Demos/HandTracking/Scenes/` for examples of these behaviors.</span></span>

  * <span data-ttu-id="067c8-143">*OnHandActivate:* se desencadena cuando una mano satisface el método IsHandActive.</span><span class="sxs-lookup"><span data-stu-id="067c8-143">*OnHandActivate*: triggers when a hand satisfies the IsHandActive method.</span></span>
  * <span data-ttu-id="067c8-144">*OnHandDeactivate:* se desencadena cuando el método IsHandActive ya no se cumple.</span><span class="sxs-lookup"><span data-stu-id="067c8-144">*OnHandDeactivate*: triggers when the IsHandActive method is no longer satisfied.</span></span>
  * <span data-ttu-id="067c8-145">*OnFirstHandDetected:* se produce cuando el estado de seguimiento de las manos cambia de ninguna mano a la vista.</span><span class="sxs-lookup"><span data-stu-id="067c8-145">*OnFirstHandDetected*: occurs when the hand tracking state changes from no hands in view, to the first hand in view.</span></span>
  * <span data-ttu-id="067c8-146">*OnLastHandLost:* se produce cuando el estado de seguimiento de las manos cambia de al menos una mano en vista a ninguna mano a la vista.</span><span class="sxs-lookup"><span data-stu-id="067c8-146">*OnLastHandLost*: occurs when the hand tracking state changes from at least one hand in view, to no hands in view.</span></span>

* <span data-ttu-id="067c8-147">Lógica de **activación/desactivación** del solucionador: actualmente, la recomendación para activar y desactivar la lógica es hacerlo mediante el uso del valor UpdateSolver de SolverHandler, en lugar de deshabilitar o habilitar el [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) objeto .</span><span class="sxs-lookup"><span data-stu-id="067c8-147">**Solver Activation/Deactivation Logic**: Currently the recommendation for activating and deactivating [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) logic is to do so through the use of the SolverHandler's UpdateSolver value, rather than by disabling/enabling the object.</span></span> <span data-ttu-id="067c8-148">Esto se puede ver en la escena de ejemplo a través de los enlaces basados en editor desencadenados después de los eventos ManipulationHandler "OnManipulationStarted/Ended" del menú adjunto.</span><span class="sxs-lookup"><span data-stu-id="067c8-148">This can be seen in the example scene through the editor-based hooks triggered after the attached menu's ManipulationHandler "OnManipulationStarted/Ended" events.</span></span>

  * <span data-ttu-id="067c8-149">*Detener* la lógica de restricción manual: al intentar establecer el objeto restringido con la mano para detenerse (además de no ejecutar la lógica de activación o desactivación), establezca UpdateSolver en False en lugar de deshabilitar HandConstraintPalmUp.</span><span class="sxs-lookup"><span data-stu-id="067c8-149">*Stopping the hand-constraint logic*: When trying to set the hand constrained object to stop (as well as not run the activation/deactivation logic), set UpdateSolver to False rather than disabling HandConstraintPalmUp.</span></span>
    * <span data-ttu-id="067c8-150">Si desea habilitar la lógica Reattach basada en mirada (o incluso no basada en mirada), esto se sigue llamando a la función HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine().</span><span class="sxs-lookup"><span data-stu-id="067c8-150">If you want to enable the gaze-based (or even non-gaze-based) Reattach logic, this is then followed by calling the HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine() function.</span></span> <span data-ttu-id="067c8-151">Esto desencadenará una corrotina que, a continuación, continúa con la comprobación de si se cumplen los criterios "IsValidController" y establecerá UpdateSolver en True una vez que sea (o el objeto está deshabilitado).</span><span class="sxs-lookup"><span data-stu-id="067c8-151">This will trigger a coroutine that then continues to check if the "IsValidController" criteria is met and will set UpdateSolver to True once it is (or the object is disabled)</span></span>
  * <span data-ttu-id="067c8-152">*Iniciar* la lógica de restricción de mano: al intentar establecer el objeto restringido con la mano para empezar a seguir de nuevo la mano (en función de si cumple los criterios de activación), establezca UpdateSolver de SolverHandler en true.</span><span class="sxs-lookup"><span data-stu-id="067c8-152">*Starting the hand-constraint logic*: When trying to set the hand constrained object to start following your hand again (based on whether it meets the activation criteria), set the SolverHandler's UpdateSolver to true.</span></span>

* <span data-ttu-id="067c8-153">Volver a adjuntar **lógica:** actualmente, es capaz de volver a asociar automáticamente el objeto de destino al punto al que se realiza el seguimiento, independientemente de si [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) updateSolver de SolverHandler es True o no.</span><span class="sxs-lookup"><span data-stu-id="067c8-153">**Reattach Logic**: Currently the [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is able to automatically reattach the target object to the tracked point, regardless of whether the SolverHandler's UpdateSolver is True or not.</span></span> <span data-ttu-id="067c8-154">Esto se hace mediante una llamada a la función StartWorldLockReattachCheckCoroutine() de HandConstraintPalmUp, después de que se haya bloqueado el mundo (que, en este caso, está estableciendo eficazmente UpdateSolver de SolverHandler en False).</span><span class="sxs-lookup"><span data-stu-id="067c8-154">This is done through calling the HandConstraintPalmUp's StartWorldLockReattachCheckCoroutine() function, after it's been world-locked (which in this case, is effectively setting the SolverHandler's UpdateSolver to False).</span></span>

## <a name="see-also"></a><span data-ttu-id="067c8-155">Consulte también</span><span class="sxs-lookup"><span data-stu-id="067c8-155">See also</span></span>

* [<span data-ttu-id="067c8-156">Button</span><span class="sxs-lookup"><span data-stu-id="067c8-156">Button</span></span>](button.md)
* [<span data-ttu-id="067c8-157">Menú Cercano</span><span class="sxs-lookup"><span data-stu-id="067c8-157">Near Menu</span></span>](near-menu.md)
