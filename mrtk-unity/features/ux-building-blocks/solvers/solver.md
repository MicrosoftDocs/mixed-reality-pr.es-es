---
title: Introducción al solucionador
description: Información general de los solucionadores en MRTK
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
ms.localizationpriority: high
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, desarrollo, MRTK, solucionadores
ms.openlocfilehash: bf9bbfe578ace576fca8870f038f145037a6838d
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176456"
---
# <a name="solver-overview"></a><span data-ttu-id="efc45-104">Introducción al solucionador</span><span class="sxs-lookup"><span data-stu-id="efc45-104">Solver overview</span></span>

![Principal del solucionador](../../images/solver/MRTK_Solver_Main.png)

<span data-ttu-id="efc45-106">Los solucionadores son componentes que facilitan los medios para calcular la posición y la orientación de un objeto según un algoritmo predefinido.</span><span class="sxs-lookup"><span data-stu-id="efc45-106">Solvers are components that facilitate the means of calculating an object's position & orientation according to a predefined algorithm.</span></span> <span data-ttu-id="efc45-107">Un ejemplo puede ser la colocación de un objeto en la superficie donde golpea actualmente el raycast de la mirada del usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-107">An example may be placing an object on the surface the user's gaze raycast currently hits.</span></span>

<span data-ttu-id="efc45-108">Además, el sistema de solucionadores define de manera determinista un orden de operaciones para estos cálculos de transformación, ya que no hay ninguna manera confiable de especificar a Unity el orden de actualización de los componentes.</span><span class="sxs-lookup"><span data-stu-id="efc45-108">Furthermore, the Solver system deterministically defines an order of operations for these transform calculations as there is no reliable way to specify to Unity the update order for components.</span></span>

<span data-ttu-id="efc45-109">Los solucionadores ofrecen una variedad de comportamientos para adjuntar objetos a otros objetos o sistemas.</span><span class="sxs-lookup"><span data-stu-id="efc45-109">Solvers offer a range of behaviors to attach objects to other objects or systems.</span></span> <span data-ttu-id="efc45-110">Otro ejemplo sería un objeto con etiquetas continuas que mantiene el puntero delante del usuario (en función de la cámara).</span><span class="sxs-lookup"><span data-stu-id="efc45-110">One other example would be a tag-along object that hovers in front of the user (based on the camera).</span></span> <span data-ttu-id="efc45-111">También se puede adjuntar un solucionador a un controlador y un objeto para que el objeto etiquete el controlador de manera continua.</span><span class="sxs-lookup"><span data-stu-id="efc45-111">A solver could also be attached to a controller and an object to make the object tag-along the controller.</span></span> <span data-ttu-id="efc45-112">Todos los solucionadores se pueden apilar de manera segura, por ejemplo, un comportamiento de etiquetas continuas + magnetismo de superficie + impulso.</span><span class="sxs-lookup"><span data-stu-id="efc45-112">All solvers can be safely stacked, for example a tag-along behavior + surface magnetism + momentum.</span></span>

## <a name="how-to-use-a-solver"></a><span data-ttu-id="efc45-113">Procedimiento para usar un solucionador</span><span class="sxs-lookup"><span data-stu-id="efc45-113">How to use a solver</span></span>

<span data-ttu-id="efc45-114">El sistema de solucionadores consta de tres categorías de scripts:</span><span class="sxs-lookup"><span data-stu-id="efc45-114">The Solver system consists of three categories of scripts:</span></span>

* <span data-ttu-id="efc45-115">[`Solver`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Solver): Clase abstracta base de la que derivan todos los solucionadores.</span><span class="sxs-lookup"><span data-stu-id="efc45-115">[`Solver`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Solver): The base abstract class that all solvers derive from.</span></span> <span data-ttu-id="efc45-116">Ofrece seguimiento del estado, parámetros de suavizado e implementación, integración automática del sistema de solucionadores y orden de actualización.</span><span class="sxs-lookup"><span data-stu-id="efc45-116">It provides state tracking, smoothing parameters and implementation, automatic solver system integration, and update order.</span></span>
* <span data-ttu-id="efc45-117">[`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler): Establece el objeto de referencia con el que se realiza el seguimiento (por ejemplo, la transformación de la cámara principal, el haz de mano, etc.), controla la recopilación de componentes de los solucionadores y ejecuta la actualización en el orden correcto.</span><span class="sxs-lookup"><span data-stu-id="efc45-117">[`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler): Sets the reference object to track against (ex: the main camera transform, hand ray, etc.), handles gathering of solver components, and executes updating them in the proper order.</span></span>

<span data-ttu-id="efc45-118">La tercera categoría es el solucionador mismo.</span><span class="sxs-lookup"><span data-stu-id="efc45-118">The third category is the solver itself.</span></span> <span data-ttu-id="efc45-119">Los siguientes solucionadores brindan los bloques de creación para el comportamiento básico:</span><span class="sxs-lookup"><span data-stu-id="efc45-119">The following solvers provide the building blocks for basic behavior:</span></span>

* <span data-ttu-id="efc45-120">[`Orbital`](#orbital): Se bloquea en una posición y desplazamiento especificados con respecto al objeto referenciado.</span><span class="sxs-lookup"><span data-stu-id="efc45-120">[`Orbital`](#orbital): Locks to a specified position and offset from the referenced object.</span></span>
* <span data-ttu-id="efc45-121">[`ConstantViewSize`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.ConstantViewSize): Escala para mantener un tamaño constante con respecto a la vista del objeto referenciado.</span><span class="sxs-lookup"><span data-stu-id="efc45-121">[`ConstantViewSize`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.ConstantViewSize): Scales to maintain a constant size relative to the view of the referenced object.</span></span>
* <span data-ttu-id="efc45-122">[`RadialView`](#radialview): Mantiene el objeto dentro de una proyección cónica de vista por el objeto referenciado.</span><span class="sxs-lookup"><span data-stu-id="efc45-122">[`RadialView`](#radialview): Keeps the object within a view cone cast by the referenced object.</span></span>
* <span data-ttu-id="efc45-123">[`Follow`](#follow): Mantiene el objeto dentro de un conjunto de límites del objeto referenciado definidos por el usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-123">[`Follow`](#follow): Keeps the object within a set of user defined bounds of the referenced object.</span></span>
* <span data-ttu-id="efc45-124">[`InBetween`](#inbetween): Mantiene un objeto entre dos objetos a los que se hace un seguimiento.</span><span class="sxs-lookup"><span data-stu-id="efc45-124">[`InBetween`](#inbetween): Keeps an object in between two tracked objects.</span></span>
* <span data-ttu-id="efc45-125">[`SurfaceMagnetism`](#surfacemagnetism): Proyecta rayos en las superficies del mundo y alinea el objeto con esa superficie.</span><span class="sxs-lookup"><span data-stu-id="efc45-125">[`SurfaceMagnetism`](#surfacemagnetism): casts rays to surfaces in the world, and align the object to that surface.</span></span>
* <span data-ttu-id="efc45-126">[`DirectionalIndicator`](#directionalindicator): Establece la posición y la orientación de un objeto como indicador direccional.</span><span class="sxs-lookup"><span data-stu-id="efc45-126">[`DirectionalIndicator`](#directionalindicator): Determines the position and orientation of an object as a directional indicator.</span></span> <span data-ttu-id="efc45-127">Desde el punto de la referencia del destino de seguimiento de SolverHandler, este indicador se orientará hacia el directionalTarget señalado.</span><span class="sxs-lookup"><span data-stu-id="efc45-127">From the point of reference of the SolverHandler Tracked Target, this indicator will orient towards the DirectionalTarget supplied.</span></span>
* <span data-ttu-id="efc45-128">[`Momentum`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Momentum): Aplica aceleración, velocidad o fricción para simular el impulso y la elasticidad de un objeto que es movido por otros solucionadores o componentes.</span><span class="sxs-lookup"><span data-stu-id="efc45-128">[`Momentum`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Momentum): Applies acceleration/velocity/friction to simulate momentum and springiness for an object being moved by other solvers/components.</span></span>
* <span data-ttu-id="efc45-129">[`HandConstraint`](#hand-menu-with-handconstraint-and-handconstraintpalmup): Restringe el objeto para que siga las manos en una región que no interseca GameObject con las manos.</span><span class="sxs-lookup"><span data-stu-id="efc45-129">[`HandConstraint`](#hand-menu-with-handconstraint-and-handconstraintpalmup): Constrains object to follow hands in a region that doesn't intersect the GameObject with the hands.</span></span> <span data-ttu-id="efc45-130">Resulta útil para contenido interactivo restringido a mano, como menús, etc. Este solucionador está pensado para funcionar con [IMixedRealityHand](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand), pero también funciona con [IMixedRealityController](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityController).</span><span class="sxs-lookup"><span data-stu-id="efc45-130">Useful for hand constrained interactive content such as menus, etc. This solver is intended to work with [IMixedRealityHand](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) but also works with [IMixedRealityController](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityController).</span></span>
* <span data-ttu-id="efc45-131">[`HandConstraintPalmUp`](#hand-menu-with-handconstraint-and-handconstraintpalmup): Proviene de HandConstraint, pero incluye lógica para probar si la palma está orientada hacia el usuario antes de la activación.</span><span class="sxs-lookup"><span data-stu-id="efc45-131">[`HandConstraintPalmUp`](#hand-menu-with-handconstraint-and-handconstraintpalmup): Derives from HandConstraint but includes logic to test if the palm is facing the user before activation.</span></span> <span data-ttu-id="efc45-132">Este solucionador solo funciona con controladores [IMixedRealityHand](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand); con otros tipos de controlador, este solucionador se comportará igual que su clase base.</span><span class="sxs-lookup"><span data-stu-id="efc45-132">This solver only works with [IMixedRealityHand](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) controllers, with other controller types this solver will behave just like its base class.</span></span>

<span data-ttu-id="efc45-133">Para usar el sistema de solucionadores, simplemente agregue uno de los componentes enumerados anteriormente a un GameObject.</span><span class="sxs-lookup"><span data-stu-id="efc45-133">In order to use the Solver system, simply add one of the components listed above to a GameObject.</span></span> <span data-ttu-id="efc45-134">Dado que todos los solucionadores requieren una clase [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler), Unity creará una automáticamente.</span><span class="sxs-lookup"><span data-stu-id="efc45-134">Since all Solvers require a [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler), one will be created automatically by Unity.</span></span>

> [!NOTE]
> <span data-ttu-id="efc45-135">Puede encontrar ejemplos de cómo usar el sistema de solucionadores en el archivo **SolverExamples.scene**.</span><span class="sxs-lookup"><span data-stu-id="efc45-135">Examples of how to use the Solvers system can be found in the **SolverExamples.scene** file.</span></span>

## <a name="how-to-change-tracking-reference"></a><span data-ttu-id="efc45-136">Procedimiento para cambiar la referencia de seguimiento</span><span class="sxs-lookup"><span data-stu-id="efc45-136">How to change tracking reference</span></span>

<span data-ttu-id="efc45-137">La propiedad *Tracked Target Type* del componente [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) define el punto de referencia que todos los solucionadores usarán para calcular sus algoritmos.</span><span class="sxs-lookup"><span data-stu-id="efc45-137">The *Tracked Target Type* property of the [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) component defines the point of reference all solvers will use to calculate their algorithms.</span></span> <span data-ttu-id="efc45-138">Por ejemplo, un tipo de valor de [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head) con un componente [`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) simple dará como resultado un raycast desde la cabeza y en la dirección de la mirada del usuario para resolver qué superficie alcanza.</span><span class="sxs-lookup"><span data-stu-id="efc45-138">For example, a value type of [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head) with a simple [`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) component will result in a raycast from the head and in the direction of the user's gaze for solving what surface is hit.</span></span> <span data-ttu-id="efc45-139">Los valores potenciales para la propiedad `TrackedTargetType` son:</span><span class="sxs-lookup"><span data-stu-id="efc45-139">Potential values for the `TrackedTargetType` property are:</span></span>

* <span data-ttu-id="efc45-140">*Head*: El punto de referencia es la transformación de la cámara principal.</span><span class="sxs-lookup"><span data-stu-id="efc45-140">*Head* : Point of reference is the transform of the main camera</span></span>
* <span data-ttu-id="efc45-141">*ControllerRay*: El punto de referencia es la transformación [`LinePointer`](xref:Microsoft.MixedReality.Toolkit.Input.LinePointer) en un controlador (es decir,</span><span class="sxs-lookup"><span data-stu-id="efc45-141">*ControllerRay*: Point of reference is the [`LinePointer`](xref:Microsoft.MixedReality.Toolkit.Input.LinePointer) transform on a controller (i.e</span></span> <span data-ttu-id="efc45-142">el origen del puntero en un controlador de movimiento o controlador de mano) que apunta en la dirección del rayo de línea.</span><span class="sxs-lookup"><span data-stu-id="efc45-142">pointer origin on a motion controller or hand controller) pointing in the direction of the line ray</span></span>
  * <span data-ttu-id="efc45-143">Use la propiedad `TrackedHandedness` para seleccionar la preferencia de diestro o zurdo (es decir,</span><span class="sxs-lookup"><span data-stu-id="efc45-143">Use the `TrackedHandedness` property to select the handedness preference (i.e</span></span> <span data-ttu-id="efc45-144">izquierda, derecha, ambas).</span><span class="sxs-lookup"><span data-stu-id="efc45-144">Left, Right, Both)</span></span>
* <span data-ttu-id="efc45-145">*HandJoint*: El punto de referencia es la transformación de una articulación específica de la mano.</span><span class="sxs-lookup"><span data-stu-id="efc45-145">*HandJoint*: Point of reference is the transform of a specific hand joint</span></span>
  * <span data-ttu-id="efc45-146">Use la propiedad `TrackedHandedness` para seleccionar la preferencia de diestro o zurdo (es decir,</span><span class="sxs-lookup"><span data-stu-id="efc45-146">Use the `TrackedHandedness` property to select the handedness preference (i.e</span></span> <span data-ttu-id="efc45-147">izquierda, derecha, ambas).</span><span class="sxs-lookup"><span data-stu-id="efc45-147">Left, Right, Both)</span></span>
  * <span data-ttu-id="efc45-148">Use la propiedad `TrackedHandJoint` para determinar la transformación de la articulación que se usará.</span><span class="sxs-lookup"><span data-stu-id="efc45-148">Use the  `TrackedHandJoint` property to determine the joint transform to utilize</span></span>
* <span data-ttu-id="efc45-149">*CustomOverride*: Punto de referencia de la `TransformOverride` asignada.</span><span class="sxs-lookup"><span data-stu-id="efc45-149">*CustomOverride*: Point of reference from the assigned `TransformOverride`</span></span>

> [!NOTE]
> <span data-ttu-id="efc45-150">Para los tipos *ControllerRay* y *HandJoint*, el controlador del solucionador intentará proporcionar primero la transformación de mano/controlador izquierdo y, luego, la derecha si la primera no está disponible o a menos que la propiedad `TrackedHandedness` especifique lo contrario.</span><span class="sxs-lookup"><span data-stu-id="efc45-150">For both *ControllerRay* and *HandJoint* types, the solver handler will attempt to provide the left controller/hand transform first and then the right if the former is not available or unless the `TrackedHandedness` property specifies otherwise.</span></span>

<span data-ttu-id="efc45-151">![Objeto con seguimiento del solucionador](../../images/solver/TrackedObjectType-Example.gif) 
*Ejemplo de varias propiedades asociadas a cada TrackedTargetType*</span><span class="sxs-lookup"><span data-stu-id="efc45-151">![Solver Tracked Object](../../images/solver/TrackedObjectType-Example.gif) 
*Example of various properties associated with each TrackedTargetType*</span></span>

> [!IMPORTANT]
> <span data-ttu-id="efc45-152">La mayoría de los solucionadores usan el vector hacia delante del destino de transformación con seguimiento proporcionado por `SolverHandler`.</span><span class="sxs-lookup"><span data-stu-id="efc45-152">Most solvers use the forward vector of the tracked transform target supplied by the `SolverHandler`.</span></span> <span data-ttu-id="efc45-153">Cuando se usa un tipo de destino con seguimiento de *HandJoint*, el vector hacia delante de la articulación de la mano puede apuntar a través de los dedos y no a través de la palma.</span><span class="sxs-lookup"><span data-stu-id="efc45-153">When using a *Hand Joint* tracked target type, the forward vector of the palm joint may point through the fingers and not through the palm.</span></span> <span data-ttu-id="efc45-154">Esto depende de la plataforma que suministra los datos de la articulación de la mano.</span><span class="sxs-lookup"><span data-stu-id="efc45-154">This depends on the platform supplying the hand joint data.</span></span> <span data-ttu-id="efc45-155">En el caso de la simulación de entrada y Windows Mixed Reality, es el *vector ascendente* el que apunta hacia arriba a través de la palma (es decir,</span><span class="sxs-lookup"><span data-stu-id="efc45-155">For input simulation and Windows Mixed Reality, it is the *up vector* that points up through the palm (i.e</span></span> <span data-ttu-id="efc45-156">el vector verde está hacia arriba, el vector azul hacia delante).</span><span class="sxs-lookup"><span data-stu-id="efc45-156">green vector is up, blue vector is forward).</span></span>
>
> ![Vector ascendente hacia delante](../../images/solver/HandJoint_ForwardUpVectors.png)
>
> <span data-ttu-id="efc45-158">Para solucionar este problema, actualice la propiedad *Additional Rotation* (Rotación adicional) en `SolverHandler` a **<90, 0, 0>** .</span><span class="sxs-lookup"><span data-stu-id="efc45-158">To overcome this, update the *Additional Rotation* property on the `SolverHandler` to **<90, 0, 0>**.</span></span> <span data-ttu-id="efc45-159">Esto garantizará que el vector hacia delante proporcionado a los solucionadores apunte a través de la palma y alejándose de la mano.</span><span class="sxs-lookup"><span data-stu-id="efc45-159">This will ensure the forward vector supplied to solvers is pointing through the palm and outward away from the hand.</span></span>
>
> ![Rotación adicional](../../images/solver/SolverHandler_AdditionalRotation.png)
>
> <span data-ttu-id="efc45-161">Como alternativa, use el tipo de destino con seguimiento *Controller Ray* (Rayo del controlador) para obtener un comportamiento similar para apuntar con las manos.</span><span class="sxs-lookup"><span data-stu-id="efc45-161">Alternatively, use the *Controller Ray* tracked target type to get similar behavior for pointing with hands.</span></span>

## <a name="how-to-chain-solvers"></a><span data-ttu-id="efc45-162">Procedimiento para encadenar solucionadores</span><span class="sxs-lookup"><span data-stu-id="efc45-162">How to chain solvers</span></span>

<span data-ttu-id="efc45-163">Es posible agregar varios componentes `Solver` al mismo GameObject, con lo que sus algoritmos se encadenan.</span><span class="sxs-lookup"><span data-stu-id="efc45-163">It is possible to add multiple `Solver` components to the same GameObject thus chaining their algorithms.</span></span> <span data-ttu-id="efc45-164">El componente `SolverHandler` controla la actualización de todos los solucionadores en el mismo GameObject.</span><span class="sxs-lookup"><span data-stu-id="efc45-164">The `SolverHandler` components handles updating all solvers on the same GameObject.</span></span> <span data-ttu-id="efc45-165">De manera predeterminada, `SolverHandler` llama a `GetComponents<Solver>()` en el inicio, lo que devolverá los solucionadores en el orden en que aparecen en el inspector.</span><span class="sxs-lookup"><span data-stu-id="efc45-165">By default the `SolverHandler` calls `GetComponents<Solver>()` on Start which will return the Solvers in the order that they appear in the inspector.</span></span>

<span data-ttu-id="efc45-166">Además, al establecer la propiedad *Updated Linked Transform* (Transformación vinculada actualizada) en true (verdadero), se indicará que `Solver` guarde su posición, orientación y escala calculadas en una variable intermedia a la que puedan acceder todos los solucionadores (es decir,</span><span class="sxs-lookup"><span data-stu-id="efc45-166">Furthermore, setting the *Updated Linked Transform* property to true will instruct that `Solver` to save its calculated position, orientation, & scale to an intermediary variable accessible by all Solvers (i.e</span></span> <span data-ttu-id="efc45-167">`GoalPosition`).</span><span class="sxs-lookup"><span data-stu-id="efc45-167">`GoalPosition`).</span></span> <span data-ttu-id="efc45-168">Cuando se establece en false (falso), `Solver` actualizará la transformación de GameObject directamente.</span><span class="sxs-lookup"><span data-stu-id="efc45-168">When false, the `Solver` will update the GameObject's transform directly.</span></span> <span data-ttu-id="efc45-169">Al guardar las propiedades de la transformación en una ubicación intermediaria, otros solucionadores pueden realizar sus cálculos a partir de la variable intermediaria.</span><span class="sxs-lookup"><span data-stu-id="efc45-169">By saving the transform properties to an intermediary location, other Solvers are able to perform their calculations starting from the intermediary variable.</span></span> <span data-ttu-id="efc45-170">Esto se debe a que Unity no permite que las actualizaciones de gameObject.transform se apilen dentro del mismo fotograma.</span><span class="sxs-lookup"><span data-stu-id="efc45-170">This is because Unity does not allow updates to gameObject.transform to stack within the same frame.</span></span>

> [!NOTE]
> <span data-ttu-id="efc45-171">Para modificar el orden de ejecución de los solucionadores, los desarrolladores pueden establecer la propiedad `SolverHandler.Solvers` directamente.</span><span class="sxs-lookup"><span data-stu-id="efc45-171">Developers can modify the order of execution of Solvers by setting the `SolverHandler.Solvers` property directly.</span></span>

## <a name="how-to-create-a-new-solver"></a><span data-ttu-id="efc45-172">Procedimiento para crear un nuevo solucionador</span><span class="sxs-lookup"><span data-stu-id="efc45-172">How to create a new solver</span></span>

<span data-ttu-id="efc45-173">Todos los solucionadores deben heredar de la clase base abstracta, [`Solver`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Solver).</span><span class="sxs-lookup"><span data-stu-id="efc45-173">All solvers must inherit from the abstract base class, [`Solver`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Solver).</span></span> <span data-ttu-id="efc45-174">Los requisitos principales de una extensión de solucionador implican invalidar el método `SolverUpdate`.</span><span class="sxs-lookup"><span data-stu-id="efc45-174">The primary requirements of a Solver extension involves overriding the `SolverUpdate` method.</span></span> <span data-ttu-id="efc45-175">En este método, los desarrolladores deben actualizar las propiedades `GoalPosition`, `GoalRotation` y `GoalScale` heredadas a los valores deseados.</span><span class="sxs-lookup"><span data-stu-id="efc45-175">In this method, developers should update the inherited `GoalPosition`, `GoalRotation` and `GoalScale` properties to the desired values.</span></span> <span data-ttu-id="efc45-176">Además, suele ser útil aprovechar `SolverHandler.TransformTarget` como fotograma de referencia deseado por el consumidor.</span><span class="sxs-lookup"><span data-stu-id="efc45-176">Furthermore, it is generally valuable to leverage `SolverHandler.TransformTarget` as the frame of reference desired by the consumer.</span></span>

<span data-ttu-id="efc45-177">El código que se brinda a continuación ofrece un ejemplo de un nuevo componente de solucionador denominado `InFront` que coloca el objeto adjunto 2 m delante de `SolverHandler.TransformTarget`.</span><span class="sxs-lookup"><span data-stu-id="efc45-177">The code provided below gives an example of a new Solver component called `InFront` that places the attached object 2m in front of the `SolverHandler.TransformTarget`.</span></span> <span data-ttu-id="efc45-178">Si el consumidor establece el valor de `SolverHandler.TrackedTargetType` como [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head), `SolverHandler.TransformTarget` será la transformación de la cámara y, por tanto, este solucionador colocará el GameObject adjunto 2 m delante de la mirada de los usuarios en cada fotograma.</span><span class="sxs-lookup"><span data-stu-id="efc45-178">If the `SolverHandler.TrackedTargetType` is set by the consumer as [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head), then the `SolverHandler.TransformTarget` will be the camera transform and thus this Solver will place the attached GameObject 2m in front of the users' gaze every frame.</span></span>

```c#
/// <summary>
/// InFront solver positions an object 2m in front of the tracked transform target
/// </summary>
public class InFront : Solver
{
    ...

    public override void SolverUpdate()
    {
        if (SolverHandler != null && SolverHandler.TransformTarget != null)
        {
            var target = SolverHandler.TransformTarget;
            GoalPosition = target.position + target.forward * 2.0f;
        }
    }
}
```

## <a name="solver-implementation-guides"></a><span data-ttu-id="efc45-179">Guías de implementación de solucionadores</span><span class="sxs-lookup"><span data-stu-id="efc45-179">Solver implementation guides</span></span>

### <a name="common-solver-properties"></a><span data-ttu-id="efc45-180">Propiedades comunes de los solucionadores</span><span class="sxs-lookup"><span data-stu-id="efc45-180">Common solver properties</span></span>

<span data-ttu-id="efc45-181">Cada componente del solucionador tiene un conjunto básico de propiedades idénticas que controlan el comportamiento principal del solucionador.</span><span class="sxs-lookup"><span data-stu-id="efc45-181">Every Solver component has a core-set of identical properties that control the core Solver behavior.</span></span>

<span data-ttu-id="efc45-182">Si *Smoothing* está habilitado, el solucionador actualizará gradualmente la transformación de GameObject con el tiempo a los valores calculados.</span><span class="sxs-lookup"><span data-stu-id="efc45-182">If *Smoothing* is enabled, then the Solver will gradually update the transform of the GameObject over time to the calculated values.</span></span> <span data-ttu-id="efc45-183">La velocidad de este cambio viene determinada por la propiedad *LerpTime* de cada componente de transformación.</span><span class="sxs-lookup"><span data-stu-id="efc45-183">The speed of this change is determined by every transform component's *LerpTime* property.</span></span> <span data-ttu-id="efc45-184">Por ejemplo, un valor *MoveLerpTime* mayor generará incrementos más lentos en el movimiento entre fotogramas.</span><span class="sxs-lookup"><span data-stu-id="efc45-184">For example, a higher *MoveLerpTime* value will result in slower increments in movement between frames.</span></span>

<span data-ttu-id="efc45-185">Si *MaintainScale* está habilitado, el solucionador usará la escala local predeterminada del GameObject.</span><span class="sxs-lookup"><span data-stu-id="efc45-185">If *MaintainScale* is enabled, then the Solver will utilize the GameObject's default local scale.</span></span>

<span data-ttu-id="efc45-186">![Propiedades básicas de los solucionadores](../../images/solver/GeneralSolverProperties.png)</span><span class="sxs-lookup"><span data-stu-id="efc45-186">![Core Solver Properties](../../images/solver/GeneralSolverProperties.png)</span></span>  
<span data-ttu-id="efc45-187">*Propiedades comunes heredadas por todos los componentes de los solucionadores*</span><span class="sxs-lookup"><span data-stu-id="efc45-187">*Common properties inherited by all Solver components*</span></span>

### <a name="orbital"></a><span data-ttu-id="efc45-188">Orbital</span><span class="sxs-lookup"><span data-stu-id="efc45-188">Orbital</span></span>

<span data-ttu-id="efc45-189">La clase [`Orbital`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Orbital) es un componente de etiquetas continuas que se comporta como los planetas en un sistema solar.</span><span class="sxs-lookup"><span data-stu-id="efc45-189">The [`Orbital`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Orbital) class is a tag-along component that behaves like planets in a solar system.</span></span> <span data-ttu-id="efc45-190">Este solucionador garantizará que los GameObject adjuntos orbiten alrededor de la transformación a la que se hace el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="efc45-190">This Solver will ensure the attached GameObject orbits around the tracked transform.</span></span> <span data-ttu-id="efc45-191">Por lo tanto, si *Tracked Target Type* (Tipo de destino con seguimiento) de [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) está establecido en [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head), el GameObject orbitará alrededor de la cabeza del usuario con la aplicación de un desplazamiento fijo.</span><span class="sxs-lookup"><span data-stu-id="efc45-191">Thus, if the *Tracked Target Type* of the [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) is set to [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head), then the GameObject will orbit around the user's head with a fixed offset applied.</span></span>

<span data-ttu-id="efc45-192">Los desarrolladores pueden modificar este desplazamiento fijo para mantener los menús u otros componentes de la escena en el nivel ocular o de la cintura, etc., en torno a un usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-192">Developers can modify this fixed offset to keep menus or other scene components at eye-level or at waist level etc. around a user.</span></span> <span data-ttu-id="efc45-193">Para ello, modifique las propiedades *Local Offset* (Desplazamiento local) y *World Offset* (Desplazamiento del mundo).</span><span class="sxs-lookup"><span data-stu-id="efc45-193">This is done by modifying the *Local Offset* and *World Offset* properties.</span></span> <span data-ttu-id="efc45-194">La propiedad *Orientation Type* (Tipo de orientación) determina la rotación que se aplica al objeto si debe mantener su rotación original, o estar siempre frente a la cámara o frente a cualquier transformación que impulse su posición, etc.</span><span class="sxs-lookup"><span data-stu-id="efc45-194">The *Orientation Type* property determines the rotation applied to the object if it should maintain its original rotation or always face the camera or face whatever transform is driving its position etc.</span></span>

<span data-ttu-id="efc45-195">![Ejemplo de Orbital](../../images/solver/OrbitalExample.png)</span><span class="sxs-lookup"><span data-stu-id="efc45-195">![Orbital Example](../../images/solver/OrbitalExample.png)</span></span>  
<span data-ttu-id="efc45-196">*Ejemplo de Orbital*</span><span class="sxs-lookup"><span data-stu-id="efc45-196">*Orbital example*</span></span>

### <a name="radialview"></a><span data-ttu-id="efc45-197">RadialView</span><span class="sxs-lookup"><span data-stu-id="efc45-197">RadialView</span></span>

<span data-ttu-id="efc45-198">[`RadialView`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.RadialView) es otro componente de etiquetas continuas que mantiene una parte determinada de un GameObject dentro del tronco de la vista del usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-198">The [`RadialView`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.RadialView) is another tag-along component that keeps a particular portion of a GameObject within the frustum of the user's view.</span></span>

<span data-ttu-id="efc45-199">Las propiedades *Min/Max View Degrees* (Mín. y Máx. de grados de visión) determinan el tamaño de una parte del GameObject que siempre debe estar a la vista.</span><span class="sxs-lookup"><span data-stu-id="efc45-199">The *Min & Max View Degrees* properties determines how large of a portion of the GameObject must always be in view.</span></span>

<span data-ttu-id="efc45-200">Las propiedades *Min/Max View Degrees* (Mín. y Máx. de grados de visión) determinan hasta qué punto se debe mantener alejado el GameObject del usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-200">The *Min & Max Distance* properties determines how far the GameObject should be kept from the user.</span></span> <span data-ttu-id="efc45-201">Por ejemplo, si se avanza hacia el GameObject con *Min Distance* (Distancia mínima) de 1 m, el GameObject se alejará para asegurarse de que nunca esté a menos de 1 m del usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-201">For example, walking towards the GameObject with a *Min Distance* of 1m will push the GameObject away to ensure it is never closer than 1m to the user.</span></span>

<span data-ttu-id="efc45-202">Por lo general, [`RadialView`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.RadialView) se usa junto con *Tracked Target Type* (Tipo de destino con seguimiento) establecido en [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head), de modo que el componente siga la mirada del usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-202">Generally, the [`RadialView`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.RadialView) is used in conjunction with *Tracked Target Type* set to [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head) so that the component follows the user's gaze.</span></span> <span data-ttu-id="efc45-203">Sin embargo, este componente puede funcionar para mantenerse en la *"vista"* de cualquier *Tracked Target Type* (Tipo de destino con seguimiento).</span><span class="sxs-lookup"><span data-stu-id="efc45-203">However, this component can function to be kept in *"view"* of any *Tracked Target Type*.</span></span>

<span data-ttu-id="efc45-204">![Ejemplo de RadialView](../../images/solver/RadialViewExample.png)</span><span class="sxs-lookup"><span data-stu-id="efc45-204">![RadialView Example](../../images/solver/RadialViewExample.png)</span></span>  
<span data-ttu-id="efc45-205">*Ejemplo de RadialView*</span><span class="sxs-lookup"><span data-stu-id="efc45-205">*RadialView example*</span></span>

### <a name="follow"></a><span data-ttu-id="efc45-206">Seguir</span><span class="sxs-lookup"><span data-stu-id="efc45-206">Follow</span></span>

<span data-ttu-id="efc45-207">La clase [`Follow`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Follow) coloca un elemento delante del destino al que se hace el seguimiento en relación con su eje de avance local.</span><span class="sxs-lookup"><span data-stu-id="efc45-207">The [`Follow`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.Follow) class positions an element in front of the of the tracked target relative to its local forward axis.</span></span> <span data-ttu-id="efc45-208">El elemento se puede restringir de forma flexible (también conocido como,</span><span class="sxs-lookup"><span data-stu-id="efc45-208">The element can be loosely constrained (a.k.a.</span></span> <span data-ttu-id="efc45-209">etiqueta continua o tag-along) para que no siga hasta que el destino con seguimiento supere los límites definidos por el usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-209">tag-along) so that it doesn't follow until the tracked target moves beyond user defined bounds.</span></span>

<span data-ttu-id="efc45-210">Funciona de forma similar al solucionador RadialView, con controles adicionales para administrar *Max Horizontal/Vertical View Degrees* (Máx. de grados de visión horizontal y vertical), y mecanismos para modificar *Orientation* (Orientación) del objeto.</span><span class="sxs-lookup"><span data-stu-id="efc45-210">It works similarly to the RadialView solver, with additional controls to manage *Max Horizontal & Vertical View Degrees*, and mechanisms to alter the *Orientation* of the object.</span></span>

<span data-ttu-id="efc45-211">![Propiedades de Follow](../../images/solver/FollowExample.png)</span><span class="sxs-lookup"><span data-stu-id="efc45-211">![Follow properties](../../images/solver/FollowExample.png)</span></span>  
<span data-ttu-id="efc45-212">*Propiedades de Follow*</span><span class="sxs-lookup"><span data-stu-id="efc45-212">*Follow properties*</span></span>

<span data-ttu-id="efc45-213">![Escena de ejemplo de Follow](../../images/solver/FollowExampleScene.gif)</span><span class="sxs-lookup"><span data-stu-id="efc45-213">![Follow example scene](../../images/solver/FollowExampleScene.gif)</span></span>  
<span data-ttu-id="efc45-214">*Escena de ejemplo de Follow (Assets/MRTK/Examples/Demos/Solvers/Scenes/FollowSolverExample.unity)*</span><span class="sxs-lookup"><span data-stu-id="efc45-214">*Follow Example Scene (Assets/MRTK/Examples/Demos/Solvers/Scenes/FollowSolverExample.unity)*</span></span>

### <a name="inbetween"></a><span data-ttu-id="efc45-215">InBetween</span><span class="sxs-lookup"><span data-stu-id="efc45-215">InBetween</span></span>

<span data-ttu-id="efc45-216">La clase [`InBetween`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.InBetween) mantendrá el GameObject adjunto entre dos transformaciones.</span><span class="sxs-lookup"><span data-stu-id="efc45-216">The [`InBetween`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.InBetween) class will keep the attached GameObject between two transforms.</span></span> <span data-ttu-id="efc45-217">Estos dos puntos de transformación se definen mediante *Tracked Target Type* (Tipo de destino con seguimiento) del propio [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) del GameObject, y la propiedad *Second Tracked Target Type* (Segundo tipo de destino con seguimiento) del componente [`InBetween`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.InBetween).</span><span class="sxs-lookup"><span data-stu-id="efc45-217">These two transform endpoints are defined by the GameObject's own [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) *Tracked Target Type* and the [`InBetween`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.InBetween) component's *Second Tracked Target Type* property.</span></span> <span data-ttu-id="efc45-218">Por lo general, ambos tipos se establecerán en [`CustomOverride`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.CustomOverride), y los valores `SolverHandler.TransformOverride` y `InBetween.SecondTransformOverride` resultantes se establecerán en los dos puntos con seguimiento.</span><span class="sxs-lookup"><span data-stu-id="efc45-218">Generally, both types will be set to [`CustomOverride`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.CustomOverride) and the resulting `SolverHandler.TransformOverride` and `InBetween.SecondTransformOverride` values set to the two tracked endpoints.</span></span>

<span data-ttu-id="efc45-219">En tiempo de ejecución, el componente [`InBetween`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.InBetween) creará otro componente [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) según las propiedades *Second Tracked Target Type* (Segundo tipo de destino con seguimiento) y *Second Transform Override* (Segunda invalidación de transformación).</span><span class="sxs-lookup"><span data-stu-id="efc45-219">At runtime, the [`InBetween`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.InBetween) component will create another [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) component based on the *Second Tracked Target Type* and *Second Transform Override* properties.</span></span>

<span data-ttu-id="efc45-220">`PartwayOffset` define dónde, a lo largo de la línea entre dos transformaciones, se colocará el objeto; donde 0,5 es la mitad, 1,0 en la primera transformación, y 0,0 en la segunda transformación.</span><span class="sxs-lookup"><span data-stu-id="efc45-220">The `PartwayOffset` defines where along the line between two transforms the object shall be placed with 0.5 as halfway, 1.0 at the first transform, and 0.0 at the second transform.</span></span>

<span data-ttu-id="efc45-221">![Ejemplo de InBetween](../../images/solver/InBetweenExample.png)</span><span class="sxs-lookup"><span data-stu-id="efc45-221">![InBetween Example](../../images/solver/InBetweenExample.png)</span></span>  
<span data-ttu-id="efc45-222">*Ejemplo de uso del solucionador InBetween para mantener el objeto entre dos transformaciones*</span><span class="sxs-lookup"><span data-stu-id="efc45-222">*Example of using InBetween solver to keep object between two transforms*</span></span>

### <a name="surfacemagnetism"></a><span data-ttu-id="efc45-223">SurfaceMagnetism</span><span class="sxs-lookup"><span data-stu-id="efc45-223">SurfaceMagnetism</span></span>

<span data-ttu-id="efc45-224">[`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) funciona mediante la aplicación de un raycast frente a un LayerMask establecido de superficies y colocando el GameObject en ese punto de contacto.</span><span class="sxs-lookup"><span data-stu-id="efc45-224">The [`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) works by performing a raycast against a set LayerMask of surfaces and placing the GameObject at that point of contact.</span></span>

<span data-ttu-id="efc45-225">*Surface Normal Offset* (Desplazamiento normal de la superficie) colocará el GameObject a una distancia establecida en metros de distancia de la superficie en la dirección de la normal en el punto de impacto en la superficie.</span><span class="sxs-lookup"><span data-stu-id="efc45-225">The *Surface Normal Offset* will place the GameObject a set distance in meters away from the surface in the direction of the normal at the hit point on the surface.</span></span>

<span data-ttu-id="efc45-226">Por el contrario, *Surface Ray Offset* (Desplazamiento del rayo en la superficie) colocará el Objeto GameObject a una distancia establecida en metros de la superficie, pero en la dirección opuesta del raycast aplicado.</span><span class="sxs-lookup"><span data-stu-id="efc45-226">Conversely, the *Surface Ray Offset* will place the GameObject a set distance in meters away from the surface but in the opposite direction of the raycast performed.</span></span> <span data-ttu-id="efc45-227">Por lo tanto, si el raycast es la mirada del usuario, el GameObject se acercará a lo largo de la línea desde el punto de impacto en la superficie hasta la cámara.</span><span class="sxs-lookup"><span data-stu-id="efc45-227">Thus, if the raycast is the user's gaze, then the GameObject will move closer along the line from the hit point on the surface to the camera.</span></span>

<span data-ttu-id="efc45-228">*Orientation Mode* (Modo de orientación) determina el tipo de rotación que se aplicará en relación con la normal en la superficie.</span><span class="sxs-lookup"><span data-stu-id="efc45-228">The *Orientation Mode* determines the type of rotation to apply in relation to the normal on the surface.</span></span>

* <span data-ttu-id="efc45-229">*None*: No se aplica ninguna rotación.</span><span class="sxs-lookup"><span data-stu-id="efc45-229">*None* - No rotation applied</span></span>
* <span data-ttu-id="efc45-230">*TrackedTarget*: El objeto se enfrentará a la transformación con seguimiento que controla el raycast.</span><span class="sxs-lookup"><span data-stu-id="efc45-230">*TrackedTarget* - Object will face the tracked transform driving the raycast</span></span>
* <span data-ttu-id="efc45-231">*SurfaceNormal*: El objeto se alineará en función de la normal en el punto de impacto en la superficie.</span><span class="sxs-lookup"><span data-stu-id="efc45-231">*SurfaceNormal* - Object will align based on normal at hit point on surface</span></span>
* <span data-ttu-id="efc45-232">*Blended*: El objeto se alineará en función de la normal en el punto de impacto en la superficie, y en función de la orientación de la transformación con seguimiento.</span><span class="sxs-lookup"><span data-stu-id="efc45-232">*Blended* - Object will align based on normal at hit point on surface AND based on facing the tracked transform.</span></span>

<span data-ttu-id="efc45-233">Para forzar que el Objeto GameObject asociado permanezca vertical en cualquier modo distinto de *None*, habilite *Keep Orientation Vertical* (Mantener orientación vertical).</span><span class="sxs-lookup"><span data-stu-id="efc45-233">To force the associated GameObject to stay vertical in any mode other than *None*, enable *Keep Orientation Vertical*.</span></span>

> [!NOTE]
> <span data-ttu-id="efc45-234">Use la propiedad *Orientation Blend* (Combinación de orientación) para controlar el equilibrio entre los factores de rotación *Orientation Mode* (Modo de orientación) está establecido en *Blended*.</span><span class="sxs-lookup"><span data-stu-id="efc45-234">Use the *Orientation Blend* property to control the balance between rotation factors when *Orientation Mode* is set to *Blended*.</span></span> <span data-ttu-id="efc45-235">Con un valor de 0,0, la orientación se controlará completamente con el modo *TrackedTarget*; y con un valor de 1,0, la orientación se controlará completamente con *SurfaceNormal*.</span><span class="sxs-lookup"><span data-stu-id="efc45-235">A value of 0.0 will have orientation entirely driven by *TrackedTarget* mode and a value of 1.0 will have orientation driven entirely by *SurfaceNormal*.</span></span>

![Ejemplo de SurfaceMagnetism](../../images/solver/SurfaceMagExample.png)

#### <a name="determining-what-surfaces-can-be-hit"></a><span data-ttu-id="efc45-237">Establecimiento de qué superficies se pueden impactar</span><span class="sxs-lookup"><span data-stu-id="efc45-237">Determining what surfaces can be hit</span></span>

<span data-ttu-id="efc45-238">Al agregar un componente [`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) a un GameObject, es importante tener en cuenta la capa del GameObject y sus elementos secundarios, si alguno tiene colisionadores.</span><span class="sxs-lookup"><span data-stu-id="efc45-238">When adding a [`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) component to a GameObject, it is important to consider the layer of the GameObject and its children, if any have colliders.</span></span> <span data-ttu-id="efc45-239">El componente funciona mediante la aplicación de varios tipos de raycasts para determinar con qué superficie se va a "imantar".</span><span class="sxs-lookup"><span data-stu-id="efc45-239">The component works by performing various types of raycasts to determine what surface to "magnet" itself against.</span></span> <span data-ttu-id="efc45-240">Si el GameObject del solucionador tiene un colisionador en una de las capas enumeradas en la propiedad `MagneticSurfaces` de `SurfaceMagnetism`, es probable que el raycast se alcance a sí mismo, lo que dará lugar a que el GameObject se adjunte a su propio punto de colisión.</span><span class="sxs-lookup"><span data-stu-id="efc45-240">If the solver GameObject has a collider on one of the layers listed in the `MagneticSurfaces` property of `SurfaceMagnetism`, then the raycast will likely hit itself resulting in the GameObject attaching to its own collider point.</span></span> <span data-ttu-id="efc45-241">Para evitar este comportamiento extraño, se puede establecer el GameObject principal y todos los elementos secundarios en la capa *Ignore Raycast* (Omitir raycast) o modificar correctamente la matriz LayerMask de `MagneticSurfaces`.</span><span class="sxs-lookup"><span data-stu-id="efc45-241">This odd behavior can be avoided by setting the main GameObject and all children to the *Ignore Raycast* layer or modifying the `MagneticSurfaces` LayerMask array appropriately.</span></span>

<span data-ttu-id="efc45-242">Por el contrario, un GameObject de [`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) no colisionará con las superficies de una capa que no aparezca en la propiedad `MagneticSurfaces`.</span><span class="sxs-lookup"><span data-stu-id="efc45-242">Conversely, a [`SurfaceMagnetism`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SurfaceMagnetism) GameObject will not collide with surfaces on a layer not listed in the `MagneticSurfaces` property.</span></span> <span data-ttu-id="efc45-243">Por lo general, se recomienda colocar todas las superficies deseadas en una capa dedicada (es decir,</span><span class="sxs-lookup"><span data-stu-id="efc45-243">It is generally recommended to place all desired surfaces on a dedicated layer (i.e</span></span> <span data-ttu-id="efc45-244">*Surfaces*) y establecer la propiedad `MagneticSurfaces` solo en esta capa.</span><span class="sxs-lookup"><span data-stu-id="efc45-244">*Surfaces*) and setting the `MagneticSurfaces` property to just this layer.</span></span>  <span data-ttu-id="efc45-245">El uso de *default* o *everything* puede dar lugar a que los componentes de la interfaz de usuario o los cursores contribuyan al solucionador.</span><span class="sxs-lookup"><span data-stu-id="efc45-245">Using *default* or *everything* may result in UI components or cursors contributing to the solver.</span></span>

<span data-ttu-id="efc45-246">Por último, los raycasts de `SurfaceMagnetism` omitirán las superficies más alejadas de la configuración de la propiedad `MaxRaycastDistance`.</span><span class="sxs-lookup"><span data-stu-id="efc45-246">Finally, surfaces farther than the `MaxRaycastDistance` property setting will be ignored by the `SurfaceMagnetism` raycasts.</span></span>

### <a name="directionalindicator"></a><span data-ttu-id="efc45-247">DirectionalIndicator</span><span class="sxs-lookup"><span data-stu-id="efc45-247">DirectionalIndicator</span></span>

<span data-ttu-id="efc45-248">La clase [`DirectionalIndicator`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.DirectionalIndicator) es un componente de etiquetas continuas que se orienta a sí mismo a la dirección de un punto deseado en el espacio.</span><span class="sxs-lookup"><span data-stu-id="efc45-248">The [`DirectionalIndicator`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.DirectionalIndicator) class is a tag-along component that orients itself to the direction of a desired point in space.</span></span>

<span data-ttu-id="efc45-249">Se usa normalmente cuando *Tracked Target Type* (Tipo de destino con seguimiento) de [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) se establece en [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head).</span><span class="sxs-lookup"><span data-stu-id="efc45-249">Most commonly used when the *Tracked Target Type* of the [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler) is set to [`Head`](xref:Microsoft.MixedReality.Toolkit.Utilities.TrackedObjectType.Head).</span></span> <span data-ttu-id="efc45-250">De este modo, un componente de la experiencia de usuario con el solucionador [`DirectionalIndicator`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.DirectionalIndicator) dirigirá a un usuario a que mire el punto deseado en el espacio.</span><span class="sxs-lookup"><span data-stu-id="efc45-250">In this fashion, a UX component with the [`DirectionalIndicator`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.DirectionalIndicator)  solver will direct a user to look at the desired point in space.</span></span>

<span data-ttu-id="efc45-251">El punto deseado en el espacio se determina a través de la propiedad *Directional Target* (Destino direccional).</span><span class="sxs-lookup"><span data-stu-id="efc45-251">The desired point in space is determined via the *Directional Target* property.</span></span>

<span data-ttu-id="efc45-252">Si el usuario puede ver el destino direccional, o cualquier fotograma de referencia se establece en [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler), este solucionador deshabilitará todos los componentes [`Renderer`](https://docs.unity3d.com/ScriptReference/Renderer.html) debajo de él.</span><span class="sxs-lookup"><span data-stu-id="efc45-252">If the directional target is viewable by the user, or whatever frame of reference is set in the [`SolverHandler`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.SolverHandler), then this solver will disable all [`Renderer`](https://docs.unity3d.com/ScriptReference/Renderer.html) components underneath it.</span></span> <span data-ttu-id="efc45-253">Si no se puede ver, todo se habilitará en el indicador.</span><span class="sxs-lookup"><span data-stu-id="efc45-253">If not viewable, then everything will be enabled on the indicator.</span></span>

<span data-ttu-id="efc45-254">El tamaño del indicador se reducirá cuanto más se acerque el usuario a capturar el valor de *Directional Target* (Destino direccional) en su campo de visión.</span><span class="sxs-lookup"><span data-stu-id="efc45-254">The size of the indicator will shrink the closer the user is to capturing the *Directional Target* in their FOV.</span></span>

* <span data-ttu-id="efc45-255">*Min Indicator Scale* (Escala mínima del indicador): Escala mínima para el objeto indicador.</span><span class="sxs-lookup"><span data-stu-id="efc45-255">*Min Indicator Scale* - The minimum scale for the indicator object</span></span>
* <span data-ttu-id="efc45-256">*Max Indicator Scale* (Escala máxima del indicador): Escala máxima para el objeto indicador.</span><span class="sxs-lookup"><span data-stu-id="efc45-256">*Max Indicator Scale* - The maximum scale for the indicator object</span></span>

* <span data-ttu-id="efc45-257">*Visibility Scale Factor* (Factor de escala de visibilidad): Multiplicador para aumentar o disminuir el campo de visión que determina si el punto *Directional Target* (Destino direccional) se puede ver o no.</span><span class="sxs-lookup"><span data-stu-id="efc45-257">*Visibility Scale Factor* - Multiplier to increase or decrease the FOV that determines if the *Directional Target* point is viewable or not</span></span>
* <span data-ttu-id="efc45-258">*View Offset* (Desplazamiento de vista): Desde el punto de vista del fotograma de referencia (es decir,</span><span class="sxs-lookup"><span data-stu-id="efc45-258">*View Offset* - From the viewpoint of the frame of reference (i.e</span></span> <span data-ttu-id="efc45-259">la camera posiblemente), esta propiedad define hasta qué punto en la dirección del indicador debe estar el objeto desde el centro de la ventanilla.</span><span class="sxs-lookup"><span data-stu-id="efc45-259">camera possibly), this property defines how far in the indicator direction should the object be from the center of the viewport.</span></span>

<span data-ttu-id="efc45-260">![Propiedades de DirectionalIndicator](../../images/solver/DirectionalIndicatorExample.png)</span><span class="sxs-lookup"><span data-stu-id="efc45-260">![Directional Indicator properties](../../images/solver/DirectionalIndicatorExample.png)</span></span>  
<span data-ttu-id="efc45-261">*Propiedades de DirectionalIndicator*</span><span class="sxs-lookup"><span data-stu-id="efc45-261">*Directional Indicator properties*</span></span>

<span data-ttu-id="efc45-262">![Escena de ejemplo de DirectionalIndicator](../../images/solver/DirectionalIndicatorExampleScene.gif)</span><span class="sxs-lookup"><span data-stu-id="efc45-262">![Directional Indicator example scene](../../images/solver/DirectionalIndicatorExampleScene.gif)</span></span>  
<span data-ttu-id="efc45-263">*Escena de ejemplo de DirectionalIndicator (Assets/MRTK/Examples/Demos/Solvers/Scenes/DirectionalIndicatorSolverExample.unity)*</span><span class="sxs-lookup"><span data-stu-id="efc45-263">*Directional Indicator Example Scene (Assets/MRTK/Examples/Demos/Solvers/Scenes/DirectionalIndicatorSolverExample.unity)*</span></span>

### <a name="hand-menu-with-handconstraint-and-handconstraintpalmup"></a><span data-ttu-id="efc45-264">Menú Mano con HandConstraint y HandConstraintPalmUp</span><span class="sxs-lookup"><span data-stu-id="efc45-264">Hand menu with HandConstraint and HandConstraintPalmUp</span></span>

![Ejemplo de experiencia de usuario del menú Mano](../../images/solver/MRTK_UX_HandMenu.png)

<span data-ttu-id="efc45-266">El comportamiento de [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) proporciona un solucionador que restringe el objeto con seguimiento a una región segura para el contenido restringido a la mano (como la interfaz de usuario de la mano, los menús, etc.).</span><span class="sxs-lookup"><span data-stu-id="efc45-266">The [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behavior provides a solver that constrains the tracked object to a region safe for hand constrained content (such as hand UI, menus, etc).</span></span> <span data-ttu-id="efc45-267">Las regiones seguras se consideran áreas que no se intersecan con la mano.</span><span class="sxs-lookup"><span data-stu-id="efc45-267">Safe regions are considered areas that don't intersect with the hand.</span></span> <span data-ttu-id="efc45-268">También se incluye una clase derivada de [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) llamada [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) para mostrar un comportamiento común de activar el objeto con seguimiento del solucionador cuando la palma mira hacia el usuario.</span><span class="sxs-lookup"><span data-stu-id="efc45-268">A derived class of [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) called [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is also included to demonstrate a common behavior of activating the solver tracked object when the palm is facing the user.</span></span>

<span data-ttu-id="efc45-269">[Consulte la página Menú Mano](../hand-menu.md) para ver los ejemplos de uso del solucionador HandConstraint para crear menús de mano.</span><span class="sxs-lookup"><span data-stu-id="efc45-269">[Please see Hand Menu page](../hand-menu.md) for the examples of using Hand Constraint solver to create hand menus.</span></span>

## <a name="see-also"></a><span data-ttu-id="efc45-270">Vea también</span><span class="sxs-lookup"><span data-stu-id="efc45-270">See also</span></span>

* [<span data-ttu-id="efc45-271">Seguimiento de manos</span><span class="sxs-lookup"><span data-stu-id="efc45-271">Hand Tracking</span></span>](../../input/hand-tracking.md)
* [<span data-ttu-id="efc45-272">Gaze</span><span class="sxs-lookup"><span data-stu-id="efc45-272">Gaze</span></span>](../../input/gaze.md)
