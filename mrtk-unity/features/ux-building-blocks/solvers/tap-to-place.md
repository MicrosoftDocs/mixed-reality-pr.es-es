---
title: Pulsación para situar
description: Documentación de TapToPlace en MRTK
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
ms.localizationpriority: high
keywords: Unity, HoloLens, HoloLens 2, realidad mixta, desarrollo, MRTK, Tap to Place
ms.openlocfilehash: 1664509a08c2d589d22b71df580328f3f3655c61
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176406"
---
# <a name="tap-to-place"></a><span data-ttu-id="94c52-104">Pulsación para situar</span><span class="sxs-lookup"><span data-stu-id="94c52-104">Tap to place</span></span>

![TapToPlace](../../images/solver/tap-to-place/TapToPlaceIntroGif.gif)

<span data-ttu-id="94c52-106">Tap to Place (Pulsar para situar) es un componente de interacción lejana que se usa para situar un objeto de juego en la superficie.</span><span class="sxs-lookup"><span data-stu-id="94c52-106">Tap to Place is a far interaction component that is used to place a game object on surface.</span></span> <span data-ttu-id="94c52-107">Este componente resulta útil para situar objetos en una malla espacial.</span><span class="sxs-lookup"><span data-stu-id="94c52-107">This component is useful for placing objects on a spatial mesh.</span></span> <span data-ttu-id="94c52-108">Tap to Place usa una combinación de dos clics y el movimiento de la cabeza para situar un objeto.</span><span class="sxs-lookup"><span data-stu-id="94c52-108">Tap to Place uses a combination of two clicks and head movement to place an object.</span></span> <span data-ttu-id="94c52-109">Un clic para iniciar la colocación, el movimiento de la cabeza para controlar la posición del objeto y un clic para situar el objeto en la escena.</span><span class="sxs-lookup"><span data-stu-id="94c52-109">A click to start the placement, head movement to control the position of the object and a click to place the object in the scene.</span></span>

## <a name="using-tap-to-place"></a><span data-ttu-id="94c52-110">Uso de Tap to Place</span><span class="sxs-lookup"><span data-stu-id="94c52-110">Using Tap to Place</span></span>

1. <span data-ttu-id="94c52-111">Configure la escena.</span><span class="sxs-lookup"><span data-stu-id="94c52-111">Set up the scene</span></span>
    - <span data-ttu-id="94c52-112">Cree un nuevo proyecto de Unity.</span><span class="sxs-lookup"><span data-stu-id="94c52-112">Create a new unity scene</span></span>
    - <span data-ttu-id="94c52-113">Para agregar MRTK a la escena, vaya a **Mixed Reality Toolkit** > **Add to Scene and Configure** (Agregar a la escena y configurar).</span><span class="sxs-lookup"><span data-stu-id="94c52-113">Add MRTK to the scene by navigating to the **Mixed Reality Toolkit** > **Add to Scene and Configure**</span></span>
    > [!NOTE]
    > <span data-ttu-id="94c52-114">Tap to Place usa clics controlados por el sistema de entrada de MRTK, pero también se puede controlar sin clics, consulte la sección Capacidad de configuración del código de Tap To Place más adelante.</span><span class="sxs-lookup"><span data-stu-id="94c52-114">Tap to Place uses clicks driven by the MRTK Input System but it can also be controlled without clicks, see the Tap To Place Code Configurability section below.</span></span>
    - <span data-ttu-id="94c52-115">Agregue un cubo a la escena, cambie la escala a 0,2 y cambie la posición a (0, 0, 0,7).</span><span class="sxs-lookup"><span data-stu-id="94c52-115">Add a cube to the scene and change the scale to 0.2 and change the position to (0, 0, 0.7).</span></span>
1. <span data-ttu-id="94c52-116">Asocie [Tap to Place](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) a un objeto de juego con un colisionador.</span><span class="sxs-lookup"><span data-stu-id="94c52-116">Attach [Tap to Place](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) to a game object with a collider</span></span>

    ![TapToPlaceInspector](../../images/solver/tap-to-place/TapToPlaceInspector2.png)

    - <span data-ttu-id="94c52-118">Cuando se agregue el componente Tap to Place, también se asociará un controlador del solucionador.</span><span class="sxs-lookup"><span data-stu-id="94c52-118">When the Tap to Place component is added, a Solver Handler will also be attached.</span></span> <span data-ttu-id="94c52-119">Tap to Place se deriva de la clase [Solver](solver.md), que requiere un controlador del solucionador.</span><span class="sxs-lookup"><span data-stu-id="94c52-119">Tap to Place derives from the [Solver](solver.md) class which requires a Solver Handler.</span></span> <span data-ttu-id="94c52-120">La posición de un objeto Tap to Place se calcula en relación con `TrackedTargetType` dentro del controlador del solucionador.</span><span class="sxs-lookup"><span data-stu-id="94c52-120">The position of a Tap to Place object is calculated relative to the `TrackedTargetType` within the Solver Handler.</span></span> <span data-ttu-id="94c52-121">De manera predeterminada, Head es `TrackedTargetType`; es decir, cuando se mueve la cabeza, el objeto la sigue si está seleccionado.</span><span class="sxs-lookup"><span data-stu-id="94c52-121">By default the Head is the `TrackedTargetType`, i.e. when the head moves, the object follows if it is selected.</span></span>  <span data-ttu-id="94c52-122">Además, `TrackedTargetType` se puede establecer en Controller Ray (Rayo de controlador), que hace que el objeto siga al controlador.</span><span class="sxs-lookup"><span data-stu-id="94c52-122">The `TrackedTargetType` can also be set to Controller Ray which has the object follow the controller.</span></span> <span data-ttu-id="94c52-123">El primer grupo de propiedades del inspector de Tap to Place es [Common Solver Properties](solver.md#common-solver-properties) (Propiedades comunes del solucionador).</span><span class="sxs-lookup"><span data-stu-id="94c52-123">The first group of properties in the Tap to Place inspector are the [Common Solver Properties](solver.md#common-solver-properties).</span></span>  
    > [!IMPORTANT]
    > <span data-ttu-id="94c52-124">Tap to Place es un solucionador independiente y no se puede encadenar con otros solucionadores.</span><span class="sxs-lookup"><span data-stu-id="94c52-124">Tap to Place is a stand alone Solver and cannot be chained with other Solvers.</span></span> <span data-ttu-id="94c52-125">No se puede encadenar porque solverHandler.UpdateSolvers se usa para actualizar la posición del objeto mientras se está situando.</span><span class="sxs-lookup"><span data-stu-id="94c52-125">It cannot be chained because SolverHandler.UpdateSolvers is used to update the object's position while it is being placed.</span></span>
    - <span data-ttu-id="94c52-126">Propiedades de Tap to Place:</span><span class="sxs-lookup"><span data-stu-id="94c52-126">Tap to Place Properties:</span></span>
        - <span data-ttu-id="94c52-127">`Auto Start`: Si está activada, el solucionador Tap to Place comenzará a controlar la posición del objeto de juego que se va a situar.</span><span class="sxs-lookup"><span data-stu-id="94c52-127">`Auto Start`: If true, the Tap to Place solver will start out controlling the position of the game object to be placed.</span></span> <span data-ttu-id="94c52-128">El objeto comenzará de inmediato a seguir a TrackedTargetType (Head o Controller Ray).</span><span class="sxs-lookup"><span data-stu-id="94c52-128">The object will immediately start following the TrackedTargetType (Head or Controller Ray).</span></span> <span data-ttu-id="94c52-129">Este valor debe modificarse antes de que se invoque Start() para que surta cualquier efecto.</span><span class="sxs-lookup"><span data-stu-id="94c52-129">This value must be modified before Start() is invoked in order to have any effect.</span></span>
        - <span data-ttu-id="94c52-130">`Default Placement Distance`: La distancia predeterminada (en metros) a la que se situará frente a un objeto en relación con TrackedTargetType en SolverHandler.</span><span class="sxs-lookup"><span data-stu-id="94c52-130">`Default Placement Distance`: The default distance (in meters) an object will be placed relative to the TrackedTargetType forward in the SolverHandler.</span></span> <span data-ttu-id="94c52-131">El objeto de juego se situará a la distancia de colocación predeterminada si el raycast no alcanza una superficie.</span><span class="sxs-lookup"><span data-stu-id="94c52-131">The game object will be placed at the default placement distance if a surface is not hit by the raycast.</span></span>
        - <span data-ttu-id="94c52-132">`Max Raycast Distance`: Distancia máxima (en metros) para el raycast, según el origen de "TrackedTargetType".</span><span class="sxs-lookup"><span data-stu-id="94c52-132">`Max Raycast Distance`: The max distance (meters) for the raycast based on the 'TrackedTargetType' origin.</span></span> <span data-ttu-id="94c52-133">Este raycast busca una superficie donde situar un objeto seleccionado.</span><span class="sxs-lookup"><span data-stu-id="94c52-133">This raycast looks for a surface to place a selected object.</span></span>
        - <span data-ttu-id="94c52-134">`UseDefaultSurfaceNormalOffset`: Esta propiedad está activada de manera predeterminada, se asegura de que el objeto que se está situando esté alineado en una superficie.</span><span class="sxs-lookup"><span data-stu-id="94c52-134">`UseDefaultSurfaceNormalOffset`: This property is true by default, it ensures the object being placed is aligned on a surface.</span></span> <span data-ttu-id="94c52-135">Si esta propiedad está activada, se aplicará el desplazamiento normal de la superficie predeterminado, en lugar de cualquier valor especificado para la propiedad `SurfaceNormalOffset`.</span><span class="sxs-lookup"><span data-stu-id="94c52-135">If this property is true, the default surface normal offset will be applied instead of any value specified for the `SurfaceNormalOffset` property.</span></span> <span data-ttu-id="94c52-136">Si está desactivada, se aplicará el valor de `SurfaceNormalOffset`.</span><span class="sxs-lookup"><span data-stu-id="94c52-136">If false, the value for `SurfaceNormalOffset` will be applied.</span></span> <span data-ttu-id="94c52-137">El desplazamiento normal de la superficie predeterminado son las extensiones del colisionador a lo largo del eje Z.</span><span class="sxs-lookup"><span data-stu-id="94c52-137">The default surface normal offset is the collider's extents along the z axis.</span></span>
        - <span data-ttu-id="94c52-138">`Surface Normal Offset`: Distancia entre el centro del objeto de juego que se va a situar y una superficie a lo largo de la normal de la superficie, si el raycast alcanza una superficie.</span><span class="sxs-lookup"><span data-stu-id="94c52-138">`Surface Normal Offset`: The distance between the center of the game object to place and a surface along the surface normal, if the raycast hits a surface.</span></span> <span data-ttu-id="94c52-139">Esta propiedad solo se aplica a un objeto si la propiedad `UseDefaultSurfaceNormalOffset` está desactivada.</span><span class="sxs-lookup"><span data-stu-id="94c52-139">This property is only applied to an object if `UseDefaultSurfaceNormalOffset` is false.</span></span>
        - <span data-ttu-id="94c52-140">`Keep Orientation Vertical`: Si está activada, el objeto de juego que se va a situar permanecerá vertical y en línea con Vector3.up.</span><span class="sxs-lookup"><span data-stu-id="94c52-140">`Keep Orientation Vertical`: If true, the game object to place will remain upright and in line with Vector3.up.</span></span>
        - <span data-ttu-id="94c52-141">`Rotate According to Surface`: Si está desactivada, el objeto de juego que se va a situar no cambiará su rotación según el impacto en la superficie.</span><span class="sxs-lookup"><span data-stu-id="94c52-141">`Rotate According to Surface`: If false, the game object to place will not change its rotation according to the surface hit.</span></span>  <span data-ttu-id="94c52-142">El objeto permanecerá orientado a la cámara mientras IsBeingPlaced sea verdadero.</span><span class="sxs-lookup"><span data-stu-id="94c52-142">The object will remain facing the camera while IsBeingPlaced is true.</span></span>
        - <span data-ttu-id="94c52-143">`Magnetic Surfaces`: Matriz de LayerMasks para ejecutar desde la prioridad más alta a la más baja.</span><span class="sxs-lookup"><span data-stu-id="94c52-143">`Magnetic Surfaces`: An array of LayerMasks to execute from highest to lowest priority.</span></span> <span data-ttu-id="94c52-144">La primera máscara de capas para proporcionar un impacto de raycast se usará para los cálculos de posición.</span><span class="sxs-lookup"><span data-stu-id="94c52-144">First layer mask to provide a raycast hit will be used for position calculations.</span></span>
        - <span data-ttu-id="94c52-145">`Debug Enabled`: Si está activada y en el editor de Unity, la normal del impacto del raycast se dibujará en amarillo.</span><span class="sxs-lookup"><span data-stu-id="94c52-145">`Debug Enabled`: If true and in the Unity Editor, the normal of the raycast hit will be drawn in yellow.</span></span> <span data-ttu-id="94c52-146">La depuración habilitada resulta útil cuando `RotateAccordingToSurface` está activada, ya que dibuja la normal de la superficie alcanzada, lo que explica visualmente por qué el objeto se encuentra en su orientación actual.</span><span class="sxs-lookup"><span data-stu-id="94c52-146">Debug enabled is useful when `RotateAccordingToSurface` is true because it draws the normal of the surface hit which visually explains why the object is set at its current orientation.</span></span>
        - <span data-ttu-id="94c52-147">`On Placing Started`: Este evento se desencadena una vez cuando se selecciona el objeto de juego que se va a situar.</span><span class="sxs-lookup"><span data-stu-id="94c52-147">`On Placing Started`: This event is triggered once when the game object to place is selected.</span></span>
        - <span data-ttu-id="94c52-148">`On Placing Stopped`: Este evento se desencadena una vez cuando se anula la selección del objeto de juego que se ha situado.</span><span class="sxs-lookup"><span data-stu-id="94c52-148">`On Placing Stopped`: This event is triggered once when the game object to place is unselected, placed.</span></span>

1. <span data-ttu-id="94c52-149">Pruebe el comportamiento de Tap to Place en el editor.</span><span class="sxs-lookup"><span data-stu-id="94c52-149">Testing Tap to Place behavior in editor</span></span>
    - <span data-ttu-id="94c52-150">Presione el botón de reproducción y mantenga presionada la barra espaciador para mostrar una mano de simulación de entrada.</span><span class="sxs-lookup"><span data-stu-id="94c52-150">Press play and hold the space bar to show an input simulation hand.</span></span>
    - <span data-ttu-id="94c52-151">Mueva la mano hasta que el cubo esté en el foco y simule un clic con la mano de simulación de entrada haciendo clic con el mouse izquierdo.</span><span class="sxs-lookup"><span data-stu-id="94c52-151">Move the hand until the cube is in focus and simulate a click with the input simulation hand by clicking with the left mouse.</span></span>
        - <span data-ttu-id="94c52-152">Si no hay colisionadores en la escena, el objeto seguirá a `TrackedTargetType` en el `Default Placement Distance` definido.</span><span class="sxs-lookup"><span data-stu-id="94c52-152">If colliders are not present in the scene, the object will follow the `TrackedTargetType` at the defined `Default Placement Distance`.</span></span>
    - <span data-ttu-id="94c52-153">El objeto seguirá el movimiento de `TrackedTargetType` después de la selección.</span><span class="sxs-lookup"><span data-stu-id="94c52-153">The object will follow the movement of the `TrackedTargetType` after selection.</span></span> <span data-ttu-id="94c52-154">Para simular el movimiento de la cabeza en el editor, presione las teclas W, A, S, D.</span><span class="sxs-lookup"><span data-stu-id="94c52-154">To simulate head movement in editor, press the WASD keys.</span></span> <span data-ttu-id="94c52-155">Para cambiar la rotación de la cabeza, haga clic y mantenga presionado el mouse derecho.</span><span class="sxs-lookup"><span data-stu-id="94c52-155">Change head rotation by clicking and holding the right mouse.</span></span>
    - <span data-ttu-id="94c52-156">Para detener la colocación del objeto, vuelva a hacer clic.</span><span class="sxs-lookup"><span data-stu-id="94c52-156">To stop placing the object, click again.</span></span>  <span data-ttu-id="94c52-157">No es necesario que el objeto esté en el foco para hacer clic para detener la colocación.</span><span class="sxs-lookup"><span data-stu-id="94c52-157">The object does not need to be in focus for the stop placement click.</span></span> <span data-ttu-id="94c52-158">El foco solo es necesario para el clic inicial que inicia el proceso de colocación.</span><span class="sxs-lookup"><span data-stu-id="94c52-158">Focus is only required for the initial click that starts the placement process.</span></span>

    <span data-ttu-id="94c52-159">`TrackedTargetType`: Head (valor predeterminado)</span><span class="sxs-lookup"><span data-stu-id="94c52-159">`TrackedTargetType`: Head (Default)</span></span> |  <span data-ttu-id="94c52-160">`TrackedTargetType`: Controller Ray</span><span class="sxs-lookup"><span data-stu-id="94c52-160">`TrackedTargetType`: Controller Ray</span></span>
    :-------------------------:|:-------------------------:
    ![Rayo de control de la cabeza de simulación de entrada de Tap to Place](../../images/solver/tap-to-place/TapToPlaceInputSimulationHead.gif)  |  ![Rayo del controlador de simulación de entrada de Tap to Place 2](../../images/solver/tap-to-place/TapToPlaceInputSimulationControllerRay.gif)

## <a name="tap-to-place-code-configurability"></a><span data-ttu-id="94c52-163">Capacidad de configuración del código de Tap To Place</span><span class="sxs-lookup"><span data-stu-id="94c52-163">Tap to Place Code Configurability</span></span>

<span data-ttu-id="94c52-164">El tiempo de selección de objetos de Tap to Place también se puede controlar a través de `StartPlacement()` y `StopPlacement()`, en lugar de requerir un evento de clic.</span><span class="sxs-lookup"><span data-stu-id="94c52-164">Tap to Place object selection timing can also be controlled via `StartPlacement()` and `StopPlacement()` instead of requiring a click event.</span></span> <span data-ttu-id="94c52-165">Esta funcionalidad es útil para escribir pruebas, y proporciona un método alternativo para situar un objeto en el editor sin usar el sistema de entrada de MRTK.</span><span class="sxs-lookup"><span data-stu-id="94c52-165">This capability is useful for writing tests and provides an alternative method to place an object in editor without using the MRTK Input System.</span></span>

1. <span data-ttu-id="94c52-166">Cree un objeto de juego vacío.</span><span class="sxs-lookup"><span data-stu-id="94c52-166">Create an empty game object</span></span>
1. <span data-ttu-id="94c52-167">Cree y asocie el siguiente script de ejemplo al objeto de juego vacío.</span><span class="sxs-lookup"><span data-stu-id="94c52-167">Create and attach the following example script to the empty game object</span></span>

    ```c#
    using UnityEngine;
    using Microsoft.MixedReality.Toolkit.Utilities.Solvers;

    public class TapToPlaceInputExample : MonoBehaviour
    {
        private GameObject cube;
        private TapToPlace tapToPlace;

        void Start()
        {
            cube = GameObject.CreatePrimitive(PrimitiveType.Cube);
            cube.transform.localScale = Vector3.one * 0.2f;
            cube.transform.position = Vector3.forward * 0.7f;

            tapToPlace = cube.AddComponent<TapToPlace>();
        }

        void Update()
        {
            if (Input.GetKeyDown(KeyCode.U))
            {
                tapToPlace.StartPlacement();
            }
            if (Input.GetKeyDown(KeyCode.I))
            {
                tapToPlace.StopPlacement();
            }
        }
    }
    ```

1. <span data-ttu-id="94c52-168">En modo de reproducción, presione la *tecla U* para empezar a situar el cubo.</span><span class="sxs-lookup"><span data-stu-id="94c52-168">In play mode, press the *U key* to start placing the cube</span></span>
1. <span data-ttu-id="94c52-169">Presione la *tecla I* para detener la colocación.</span><span class="sxs-lookup"><span data-stu-id="94c52-169">Press the *I key* to stop the placement</span></span>

## <a name="tap-to-place-example-scene"></a><span data-ttu-id="94c52-170">Escena de ejemplo de Tap to Place</span><span class="sxs-lookup"><span data-stu-id="94c52-170">Tap to Place Example Scene</span></span>

<span data-ttu-id="94c52-171">La escena de ejemplo de Tap to Place consta de cuatro objetos que se puedan situar, cada uno con una configuración diferente.</span><span class="sxs-lookup"><span data-stu-id="94c52-171">The Tap to Place example scene consists of 4 placeable objects, each with a different configuration.</span></span> <span data-ttu-id="94c52-172">La escena de ejemplo contiene paredes para mostrar los comportamientos de colocación en la superficie, que están deshabilitados de manera predeterminada en la jerarquía.</span><span class="sxs-lookup"><span data-stu-id="94c52-172">The example scene contains walls to show the surface placement behavior that are disabled by default in the hierarchy.</span></span> <span data-ttu-id="94c52-173">La escena de ejemplo se puede encontrar en el paquete de Unity Microsoft.MixedReality.Toolkit.Unity.Examples que se encuentra en la [página de la versión](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span><span class="sxs-lookup"><span data-stu-id="94c52-173">The example scene can be found in the Microsoft.MixedReality.Toolkit.Unity.Examples unity package found on the [Release Page](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span></span> <span data-ttu-id="94c52-174">La ubicación de la escena es: *MRTK. Examples/Demos/Solvers/Scenes/TapToPlaceExample.unity*.</span><span class="sxs-lookup"><span data-stu-id="94c52-174">The scene location is: *MRTK.Examples/Demos/Solvers/Scenes/TapToPlaceExample.unity*</span></span>

![Ejemplos de Tap to Place](../../images/solver/tap-to-place/TapToPlaceExampleScene.gif)

## <a name="see-also"></a><span data-ttu-id="94c52-176">Vea también</span><span class="sxs-lookup"><span data-stu-id="94c52-176">See also</span></span>

- [<span data-ttu-id="94c52-177">Solucionadores</span><span class="sxs-lookup"><span data-stu-id="94c52-177">Solvers</span></span>](solver.md)
- [<span data-ttu-id="94c52-178">Reconocimiento espacial</span><span class="sxs-lookup"><span data-stu-id="94c52-178">Spatial Awareness</span></span>](../../spatial-awareness/spatial-awareness-getting-started.md)
- [<span data-ttu-id="94c52-179">Simulación de entrada</span><span class="sxs-lookup"><span data-stu-id="94c52-179">Input Simulation</span></span>](../../input-simulation/input-simulation-service.md)
- [<span data-ttu-id="94c52-180">Seguimiento de manos</span><span class="sxs-lookup"><span data-stu-id="94c52-180">Hand Tracking</span></span>](../../input/hand-tracking.md)
- [<span data-ttu-id="94c52-181">Gaze</span><span class="sxs-lookup"><span data-stu-id="94c52-181">Gaze</span></span>](../../input/gaze.md)
